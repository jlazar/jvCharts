(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';
//add all required files

require('./jvVars.js');
require('./jvTip.js');
require('./jvBrush.js');
require('./jvComment.js');
require('./jvEdit.js');
require('./visuals/jvBar.js');
require('./visuals/jvPie.js');
require('./visuals/jvLine.js');
require('./visuals/jvScatter.js');
require('./visuals/jvArea.js');
require('./visuals/jvGantt.js');
require('./visuals/jvHeatmap.js');
require('./visuals/jvPack.js');
require('./visuals/jvRadial.js');
require('./visuals/jvSankey.js');
require('./visuals/jvSingleAxis.js');
require('./visuals/jvSunburst.js');
require('./visuals/jvTreemap.js');
require('./visuals/jvWordCloud.js');

//attach jv charts objects to the window
var jvCharts = require('./jvCharts.js');
var jvBrush = require('./jvBrush.js');
var jvComment = require('./jvComment.js');
var jvEdit = require('./jvEdit.js');
var jvSelect = require('./jvSelect');

//Comment out to remove from window object - if you are not using jvCharts as a minified file
window.jvCharts = jvCharts;
window.jvBrush = jvBrush;
window.jvComment = jvComment;
window.jvEdit = jvEdit;
window.jvSelect = jvSelect;

},{"./jvBrush.js":2,"./jvCharts.js":3,"./jvComment.js":4,"./jvEdit.js":5,"./jvSelect":6,"./jvTip.js":7,"./jvVars.js":8,"./visuals/jvArea.js":9,"./visuals/jvBar.js":10,"./visuals/jvGantt.js":11,"./visuals/jvHeatmap.js":12,"./visuals/jvLine.js":13,"./visuals/jvPack.js":14,"./visuals/jvPie.js":15,"./visuals/jvRadial.js":16,"./visuals/jvSankey.js":17,"./visuals/jvScatter.js":18,"./visuals/jvSingleAxis.js":19,"./visuals/jvSunburst.js":20,"./visuals/jvTreemap.js":21,"./visuals/jvWordCloud.js":22}],2:[function(require,module,exports){
'use strict';

/***  jvBrush ***/
function jvBrush(configObj) {
    'use strict';

    var brushObj = this;
    brushObj.chartDiv = configObj.chartDiv;
    brushObj.brushDiv = '';
    brushObj.jvChart = configObj.jvChart;
    brushObj.disabled = false;
    brushObj.toggleBrushMode = function (toggleBool) {
        if (toggleBool) {
            brushObj.startBrush();
        } else {
            brushObj.removeBrush();
        }
    };
    brushObj.filterCallbackFunction = configObj.filterCallbackFunction;
}

/********************************************* All Brush Mode Functions **************************************************/

jvBrush.prototype.removeBrush = function () {
    var brushObj = this,
        svg = brushObj.jvChart.svg;

    svg.selectAll('.brusharea').remove();
};

jvBrush.prototype.startBrush = function () {
    var brushObj = this,
        height = brushObj.jvChart.config.container.height,
        width = brushObj.jvChart.config.container.width,
        svg = brushObj.jvChart.svg;

    if (brushObj.jvChart.config.type === 'singleaxis') {
        brushObj.brushType = 'x';
        svg.append('g').attr('class', 'brusharea').style('height', height + 'px').style('width', width + 'px').call(d3.brushX().extent([[0, 0], [width, height]]).on('end', brushEnd));
    } else {
        brushObj.brushType = 'xy';
        svg.append('g').attr('class', 'brusharea').style('height', height + 'px').style('width', width + 'px').call(d3.brush().extent([[0, 0], [width, height]]).on('end', brushEnd));
    }

    /**brushEnd
     * @desc - function called at the end of the user brushing
     */
    function brushEnd() {
        var xScale = brushObj.jvChart.currentData.xAxisScale,
            yScale = brushObj.jvChart.currentData.yAxisScale,
            filteredXAxisLabels = [],
            filteredYAxisLabels = [],
            shouldReset = false,
            e = d3.event.selection,
            returnObj,
            filteredLabels = [],
            filteredConcepts = {},
            index,
            filterCol,
            filteredLabelsX,
            filteredLabelsY;

        if (e) {
            if (brushObj.brushType === 'xy') {
                if (xScale && typeof xScale.invert !== 'function') {
                    //means that the scale is ordinal and not linear
                    returnObj = calculateBrushAreaOrdinal(e[0][0], e[1][0], xScale);
                    filteredXAxisLabels = returnObj.filteredAxisLabels;
                    shouldReset = returnObj.shouldReset;
                } else if (xScale) {
                    //calculate labels for linear scale
                    returnObj = calculateBrushAreaLinear(e[0][0], e[1][0], xScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'x');
                    filteredXAxisLabels = returnObj.filteredAxisLabels;
                    shouldReset = returnObj.shouldReset;
                }

                if (yScale && typeof yScale.invert !== 'function') {
                    //means that the scale is oridnal and not linear
                    returnObj = calculateBrushAreaOrdinal(e[0][1], e[1][1], yScale);
                    filteredYAxisLabels = returnObj.filteredAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                } else if (yScale) {
                    //calculate labels for linear scale
                    returnObj = calculateBrushAreaLinear(e[0][1], e[1][1], yScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'y');
                    filteredYAxisLabels = returnObj.filteredAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                } else if (brushObj.jvChart.config.type === 'cloud') {
                    returnObj = calculateCloudBrush(e, brushObj.jvChart.currentData);
                    filteredYAxisLabels = returnObj.filteredAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                } else if (brushObj.jvChart.config.type === 'heatmap') {
                    returnObj = calculateHeatmapBrush(e, brushObj.jvChart.currentData, brushObj.jvChart.config.margin);
                    filteredLabelsX = returnObj.filteredXAxisLabels;
                    filteredLabelsY = returnObj.filteredYAxisLabels;
                    if (returnObj.shouldReset) {
                        shouldReset = true;
                    }
                }
            } else if (brushObj.brushType === 'x') {
                returnObj = calculateBrushAreaLinear(e[0], e[1], xScale, brushObj.jvChart.currentData, brushObj.jvChart.config.type, 'x');
                filteredXAxisLabels = returnObj.filteredAxisLabels;
                if (returnObj.shouldReset) {
                    shouldReset = true;
                }
            }
        } else {
            shouldReset = true;
        }

        if (filteredXAxisLabels.length > 0 && filteredYAxisLabels.length > 0) {
            //merge axisLabels
            for (var j = 0; j < filteredXAxisLabels.length; j++) {
                index = filteredYAxisLabels.indexOf(filteredXAxisLabels[j]);
                if (index > -1) {
                    filteredLabels.push(filteredXAxisLabels[j]);
                }
            }
        } else if (filteredXAxisLabels.length > 0) {
            filteredLabels = filteredXAxisLabels;
        } else if (filteredYAxisLabels.length > 0) {
            filteredLabels = filteredYAxisLabels;
        }

        if (brushObj.jvChart.config.type === 'heatmap') {
            if (!shouldReset) {
                var filterColX = brushObj.jvChart.currentData.dataTable.x;
                var filterColY = brushObj.jvChart.currentData.dataTable.y;
                if (filteredLabelsX.length > 0) {
                    filteredConcepts[filterColX] = filteredLabelsX;
                }
                if (filteredLabelsY.length > 0) {
                    filteredConcepts[filterColY] = filteredLabelsY;
                }
            }
        } else {
            filterCol = brushObj.jvChart.currentData.dataTable.label;
        }
        filteredConcepts[filterCol] = filteredLabels;

        //calls back to update data with brushed data
        brushObj.filterCallbackFunction(filteredConcepts, shouldReset);
    }
};

/**calculateBrushAreaOrdinal
 *
 * @param mousePosMin
 * @param mousePosMax
 * @param scale
 * @returns Object
 * @desc calculates the ordinal values that are in the brushed area
 */
function calculateBrushAreaOrdinal(mousePosMin, mousePosMax, scale) {
    var domain = scale.domain(),
        padding = scale.padding(),
        step = scale.step(),
        minIndex,
        maxIndex,
        paddingDistance = padding * step / 2,
        filteredAxisLabels;

    //determine min index
    if (mousePosMin % step > step - paddingDistance) {
        //don't include on min side
        minIndex = Math.floor(mousePosMin / step) + 1;
    } else {
        //include on min side
        minIndex = Math.floor(mousePosMin / step);
    }

    //determine max index
    if (mousePosMax % step < paddingDistance) {
        //don't include on max side
        maxIndex = Math.floor(mousePosMax / step) - 1;
    } else {
        //include on max side
        maxIndex = Math.floor(mousePosMax / step);
        if (maxIndex === domain.length) {
            maxIndex -= 1;
        }
    }

    filteredAxisLabels = domain.slice(minIndex, maxIndex + 1);

    return { filteredAxisLabels: filteredAxisLabels, shouldReset: filteredAxisLabels.length === 0 };
}

/**calculateBrushAreaOrdinal
 *
 * @param mousePosMin
 * @param mousePosMax
 * @param scale
 * @param data chartData
 * @param type visual type
 * @param axis - x / y
 * @returns Object
 * @desc calculates the ordinal values that are in the brushed area
 */
function calculateBrushAreaLinear(mousePosMin, mousePosMax, scale, data, type, axis) {
    var filteredAxisLabels = [],
        min,
        max,
        axisLabel;

    //switch min and max if scale is y due to svg drawing (y axis increases up the screen while mousePos decreases)
    if (axis === 'y') {
        max = scale.invert(mousePosMin);
        min = scale.invert(mousePosMax);
    } else {
        min = scale.invert(mousePosMin);
        max = scale.invert(mousePosMax);
    }

    if (type === 'bar') {
        for (var i = 0; i < data.legendData.length; i++) {
            axisLabel = data.legendData[i];
            for (var j = 0; j < data.chartData.length; j++) {
                if (data.chartData[j][axisLabel] >= min) {
                    filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
                }
            }
        }
    } else if (type === 'line' || type === 'area' || type === 'singleaxis') {
        for (var i = 0; i < data.legendData.length; i++) {
            axisLabel = data.legendData[i];
            for (var j = 0; j < data.chartData.length; j++) {
                if (data.chartData[j][axisLabel] <= max && data.chartData[j][axisLabel] >= min) {
                    filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
                }
            }
        }
    } else if (type === 'scatterplot') {
        axisLabel = data.dataTable[axis];
        for (var j = 0; j < data.chartData.length; j++) {
            if (data.chartData[j][axisLabel] <= max && data.chartData[j][axisLabel] >= min) {
                filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
            }
        }
    } else if (type === 'heatmap') {
        axisLabel = data.dataTable[axis];
        for (var j = 0; j < data.chartData.length; j++) {
            if (data.chartData[j][axisLabel] <= max && data.chartData[j][axisLabel] >= min) {
                filteredAxisLabels.push(data.chartData[j][data.dataTable.label]);
            }
        }
    }

    return { filteredAxisLabels: filteredAxisLabels, shouldReset: filteredAxisLabels.length === 0 };
}

function calculateCloudBrush(e, data) {
    for (var i = 0; i < data.length; i++) {
        var d = data[i];
        var mouseX0 = e[0][0];
        var mouseX1 = e[0][1];
        var mouseY0 = e[1][0];
        var mouseY1 = e[1][1];
    }

    return [];
}

function calculateHeatmapBrush(e, data) {
    var mouseXmin = e[0][0];
    var mouseYmin = e[0][1];
    var mouseXmax = e[1][0];
    var mouseYmax = e[1][1];
    var filteredXAxisLabels = [];
    var filteredYAxisLabels = [];
    var filteredData = [];
    var reset = true;

    for (var i = 0; i < mouseXmax / 20; i++) {
        if (i >= mouseXmin / 20) {
            filteredXAxisLabels.push(data.xAxisData.values[i]);
            reset = false;
        }
    }
    for (var i = 0; i < mouseYmax / 20; i++) {
        if (i >= mouseYmin / 20) {
            filteredYAxisLabels.push(data.yAxisData.values[i]);
            reset = false;
        }
    }

    //Might need when new PKQL pixel... comes out
    // for (var i = 0; i < data.chartData.length; i++) {
    //     var d = data.chartData[i];
    //     if(filteredXAxisLabels.includes(d[data.dataTable.x]) && filteredYAxisLabels.includes(d[data.dataTable.y])) {
    //         filteredDataX.push(d[data.dataTable.x]);
    //         filteredDataY.push(d[data.dataTable.y]);
    //     }
    // }

    return { filteredXAxisLabels: filteredXAxisLabels, filteredYAxisLabels: filteredYAxisLabels, shouldReset: reset };
}

module.exports = jvBrush;

},{}],3:[function(require,module,exports){
'use strict';
/***  jvCharts ***/

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var jvTip = require('./jvTip.js');

/**Create a jvCharts object
 * @constructor
 * @param {Object} configObj - Configuration object passed into jvCharts constructor
 * @param {string} configObj.type - The type of chart
 * @param {string} configObj.name - The name of the chart
 * @param {Object} configObj.container - The container of the chart
 * @param {Object} configObj.options - UI options for the chart
 * @param {Object} configObj.tipConfig - Configuration object for jvTooltip
 * @param {Object} configObj.chartDiv - A div wrapper for the chart and other jv features
 */

var jvCharts = function () {
    function jvCharts(configObj) {
        _classCallCheck(this, jvCharts);

        var chart = this;
        chart.config = {
            type: configObj.type.toLowerCase(),
            name: configObj.name,
            container: configObj.container
        };

        chart.chartDiv = configObj.chartDiv;
        chart.localCallbackRelatedInsights = configObj.localCallbackRelatedInsights;
        chart.options = cleanToolData(configObj.options);
        chart.vars = chart.getDefaultOptions();

        if (configObj.hasOwnProperty('infiniteScrollFunc')) {
            chart.infiniteScrollFunc = configObj.infiniteScrollFunc;
        }

        if (configObj.hasOwnProperty('sortColumnFunc')) {
            chart.sortColumnFunc = configObj.sortColumnFunc;
        }

        chart.tip = new jvTip({
            type: configObj.tipConfig.type,
            chartDiv: configObj.chartDiv
        });

        chart.showComments = false;
        chart.draw = {};
        chart.draw.showToolTip = true;
        chart.currentData = {};

        chart.toggleDefaultMode = function (toggleBool) {
            if (toggleBool) {
                var entireSvg = chart.chartDiv.select('.editable-svg');
                entireSvg.on('dblclick', function () {
                    if (typeof chart.localCallbackRelatedInsights === 'function') {
                        chart.localCallbackRelatedInsights();
                    }
                });
                entireSvg.on('click', false);
                chart.draw.showToolTip = true;
            } else {
                chart.draw.showToolTip = false;
                chart.removeHighlight();
            }
        };

        if (configObj.setData) {
            chart.data = { chartData: configObj.setData.data, dataTable: configObj.setData.dataTable, dataTableKeys: configObj.setData.dataTableKeys };
            chart.colors = configObj.setData.colors;
            if (configObj.setData.additionalInfo) {
                chart.data.additionalInfo = configObj.setData.additionalInfo;
            }
            if (configObj.setData.markerType) {
                chart.data.markerType = configObj.setData.markerType;
            }
            chart[chart.config.type].setData(chart, configObj.setData);
        }

        if (_typeof(chart[chart.config.type]) === 'object' && typeof chart[chart.config.type].paint === 'function') {
            chart[chart.config.type].paint(chart);
        } else {
            console.log('no paint function for: ' + chart.config.type);
        }
    }
    // end of constructor

    _createClass(jvCharts, [{
        key: 'setAxisData',
        value: function setAxisData(axis, data, keys) {
            var chart = this;
            var axisData = [];
            var chartData = data.chartData;
            var label = '';
            var maxStack = 0;
            var options = chart.options,
                dataTableKeys = data.dataTableKeys,
                dataType;

            if (!dataTableKeys) {
                dataTableKeys = keys;
            }

            //Step 1: find out what the label is for the axis
            if (axis === 'x') {
                if (data.dataTable) {
                    if (data.dataTable.hasOwnProperty('label')) {
                        label = data.dataTable.label;
                    } else {
                        console.error("Label doesn't exist in dataTable");
                    }
                } else {
                    console.log('DataTable does not exist');
                }

                dataType = 'STRING';

                //Replace underscores with spaces
                label = label.replace(/_/g, ' ');

                //loop through data to populate axisData
                for (var i = 0; i < chartData.length; i++) {
                    if (chartData[i][label] === null) {
                        axisData.push('NULL_VALUE');
                    } else if (chartData[i][label] === '') {
                        axisData.push('EMPTY_STRING');
                    } else if (chartData[i][label] || chartData[i][label] === 0) {
                        axisData.push(chartData[i][label]);
                    }
                }
            } else {
                //Find the max value for Y Data
                for (var i = 0; i < dataTableKeys.length; i++) {
                    if (dataTableKeys[i].vizType !== 'label') {
                        label = dataTableKeys[i].varKey;
                    }
                }

                dataType = getDataTypeFromKeys(label, dataTableKeys);

                //Add all values that are on yaxis to axis data
                for (var i = 0; i < chartData.length; i++) {
                    var stack = 0; //Keeps track of the maximum size of stacked data so that axis can be scaled to fit max size
                    for (var k in data.dataTable) {
                        if (chartData[i].hasOwnProperty(data.dataTable[k]) && k !== 'label') {
                            stack += chartData[i][data.dataTable[k]];
                            axisData.push(chartData[i][data.dataTable[k]]);
                        }
                    }
                    if (stack > maxStack) {
                        maxStack = stack;
                    }
                }
                //Replace underscores with spaces since label is retrieved from dataTableKeys
                label = label.replace(/_/g, ' ');
            }

            //Find the min and max of numeric data for building axes and add it to the returned object
            if (dataType === 'NUMBER') {
                if (chart.options.stackToggle) {
                    var max = maxStack;
                } else {
                    var max = Math.max.apply(null, axisData);
                }

                var min = Math.min.apply(null, axisData);
                min = Math.min(0, min);

                //Check if there's an axis min/max set
                if (axis === 'x') {
                    if (options.xMin != null && options.xMin !== 'none') {
                        min = options.xMin;
                    }
                    if (options.xMax != null && options.xMax !== 'none') {
                        max = options.xMax;
                    }
                } else if (axis === 'y') {
                    if (options.yMin != null && options.yMin !== 'none') {
                        min = options.yMin;
                    }
                    if (options.yMax != null && options.yMax !== 'none') {
                        max = options.yMax;
                    }
                }

                if (dataType === 'NUMBER' && axisData.length === 1) {
                    if (axisData[0] >= 0) {
                        axisData.unshift(0);
                    } else {
                        axisData.push(0);
                    }
                }

                return {
                    'label': label,
                    'values': axisData,
                    'dataType': dataType,
                    'min': min,
                    'max': max
                };
            }

            return {
                'label': label,
                'values': axisData,
                'dataType': dataType
            };
        }

        /**setFlippedSeries
         *  flips series and returns flipped data
         *
         * @params chartData, dataTable, dataLabel
         * @returns Object of data and table for flipped series
         */

    }, {
        key: 'setFlippedSeries',
        value: function setFlippedSeries(dataTableKeys) {
            var chart = this;
            var chartData = chart.data.chartData;
            var dataTable = chart.data.dataTable;
            var dataLabel = chart.data.xAxisData.label;

            var flippedData = [];
            var flippedDataTable = {};
            var valueCount = 1;
            var filteredDataTableArray = [];

            for (var k in dataTable) {
                if (dataTable.hasOwnProperty(k)) {
                    var flippedObject = {};
                    if (dataTable[k] !== dataLabel) {
                        flippedObject[dataLabel] = dataTable[k];
                        for (var i = 0; i < chartData.length; i++) {
                            flippedObject[chartData[i][dataLabel]] = chartData[i][dataTable[k]];
                            if (filteredDataTableArray.indexOf(chartData[i][dataLabel]) === -1) {
                                flippedDataTable['value ' + valueCount] = chartData[i][dataLabel];
                                valueCount++;
                                filteredDataTableArray.push(chartData[i][dataLabel]);
                            }
                        }
                        flippedData.push(flippedObject);
                    }
                }
            }
            flippedDataTable.label = dataLabel;
            chart.flippedData = { chartData: flippedData, dataTable: flippedDataTable };

            if (chart.config.type === 'bar' || chart.config.type === 'line' || chart.config.type === 'area') {
                chart.flippedData.xAxisData = chart.setAxisData('x', chart.flippedData, dataTableKeys);
                chart.flippedData.yAxisData = chart.setAxisData('y', chart.flippedData, dataTableKeys);
                chart.flippedData.legendData = setBarLineLegendData(chart.flippedData);
            } else {
                console.log('Add additional chart type to set flipped series');
            }
        }

        /**organizeChartData
         *  reorders all data based on the sortLabel and sortType
         *  -Only for chartData, does not work with flipped data
         *
         * @params sortLabel , sortType
         * @returns [] sorted data
         */

    }, {
        key: 'organizeChartData',
        value: function organizeChartData(sortParam, sortType) {
            var chart = this,
                organizedData,
                dataType,
                dataTableKeys = chart.data.dataTableKeys,
                sortLabel = sortParam;

            //If sortLabel doesn't exist, sort on the x axis label by default
            if (sortLabel === 'none') {
                for (var i = 0; i < dataTableKeys.length; i++) {
                    if (dataTableKeys[i].vizType === 'label') {
                        sortLabel = dataTableKeys[i].uri;
                        break;
                    }
                }
            }

            //Remove underscores from sortLabel
            sortLabel = sortLabel.replace(/_/g, ' ');

            if (!chart.data.chartData[0][sortLabel]) {
                //Check if the sort label is a calculatedBy field
                var isValidSortLabel = false;
                for (var i = 0; i < dataTableKeys.length; i++) {
                    var obj1 = dataTableKeys[i];
                    if (obj1.operation.hasOwnProperty('calculatedBy') && obj1.operation.calculatedBy[0] === sortLabel) {
                        sortLabel = obj1.uri.replace(/_/g, ' ');
                        isValidSortLabel = true;
                        break;
                    }
                }
                //If it's not a valid sort label, return and don't sort the data
                if (!isValidSortLabel) {
                    console.error('Not a valid sort');
                    return;
                }
            }

            //Check the data type to determine which logic to flow through
            for (var i = 0; i < dataTableKeys.length; i++) {
                var obj = dataTableKeys[i];
                //Loop through dataTableKeys to find sortLabel
                if (obj.uri.replace(/_/g, ' ') === sortLabel) {
                    dataType = obj.type;
                    break;
                }
            }

            //Date sorting
            if (dataType != null && dataType === 'DATE') {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    var c = new Date(a[sortLabel]);
                    var d = new Date(b[sortLabel]);
                    return c - d;
                });
            } else if (dataType != null && dataType === 'NUMBER') {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    if (!isNaN(a[sortLabel]) && !isNaN(b[sortLabel])) {
                        return a[sortLabel] - b[sortLabel];
                    }
                });
            } else {
                organizedData = chart.data.chartData.sort(function (a, b) {
                    if (!isNaN(a[sortLabel]) && !isNaN(b[sortLabel])) {
                        if (parseFloat(a[sortLabel]) < parseFloat(b[sortLabel])) {
                            //sort string ascending
                            return -1;
                        }
                        if (parseFloat(a[sortLabel]) > parseFloat(b[sortLabel])) {
                            return 1;
                        }
                        return 0;
                    }
                    if (a[sortLabel].toLowerCase() < b[sortLabel].toLowerCase()) {
                        //sort string ascending
                        return -1;
                    }
                    if (a[sortLabel].toLowerCase() > b[sortLabel].toLowerCase()) {
                        return 1;
                    }
                    return 0;
                });
            }

            switch (sortType) {
                case 'sortAscending':
                case 'ascending':
                    chart.data.chartData = organizedData;
                    break;
                case 'sortDescending':
                case 'descending':
                    chart.data.chartData = organizedData.reverse();
                    break;
                default:
                    chart.data.chartData = organizedData;
            }
        }

        /**setTipData
         *
         * creates data object to display in tooltip
         * @params
         * @returns {{}}
         */

    }, {
        key: 'setTipData',
        value: function setTipData(d, i) {
            var chart = this,
                data = chart.currentData.chartData;

            //Get Color from chartData and add to object
            var color = chart.options.color;

            var title = d[chart.data.dataTable.label];
            var dataTable = {};

            if (chart.config.type === 'treemap') {
                for (var item in d) {
                    if (item === chart.data.dataTable.series || item === chart.data.dataTable.size) {
                        dataTable[item] = d[item];
                    } else {
                        continue;
                    }
                }
            } else if (chart.config.type === 'bar' || chart.config.type === 'line' || chart.config.type === 'area') {
                title = data[i][chart.data.dataTable.label];
                for (var item in data[i]) {
                    if (item !== chart.data.dataTable.label) {
                        dataTable[item] = data[i][item];
                    } else {
                        continue;
                    }
                }
            } else if (chart.config.type === 'gantt') {
                //Calculate length of dates
                for (item in data[i]) {
                    if (data[i].hasOwnProperty(item) && item !== chart.data.dataTable.group) {
                        dataTable[item] = data[i][item];
                    }
                }

                var start, end, difference;

                //Calculting duration of date ranges to add to tooltip
                var numPairs = Math.floor(Object.keys(chart.data.dataTable).length / 2);
                for (var j = 1; j <= numPairs; j++) {
                    start = new Date(data[i][chart.data.dataTable['start ' + j]]);
                    end = new Date(data[i][chart.data.dataTable['end ' + j]]);
                    difference = end.getTime() - start.getTime();
                    dataTable['Duration ' + j] = Math.ceil(difference / (1000 * 60 * 60 * 24)) + ' days';
                }

                title = data[i][chart.data.dataTable.group];
            } else if (chart.config.type === 'pie' || chart.config.type === 'radial') {
                title = d.label;
                for (var item in d) {
                    if (item !== 'label') {
                        dataTable[item] = d[item];
                    } else {
                        continue;
                    }
                }
                delete dataTable.outerRadius;
            } else if (chart.config.type === 'circlepack' || chart.config.type === 'sunburst') {
                title = d.data.name;
                dataTable[chart.data.dataTable.value] = d.value;
            } else if (chart.config.type === 'cloud') {
                title = d[chart.data.dataTable.label];
                dataTable[chart.data.dataTable.value] = d[chart.data.dataTable.value];
            } else if (chart.config.type === 'heatmap') {
                title = d.yAxisName + ' to ' + d.xAxisName;
                if (d.hasOwnProperty('value')) {
                    dataTable.value = d.value;
                }
            } else if (chart.config.type === 'sankey') {
                title = d.source.name + ' to ' + d.target.name;
                if (d.hasOwnProperty('value')) {
                    dataTable.value = d.value;
                }
            } else if (chart.config.type === 'singleaxis') {
                title = d.data[chart.data.dataTable.label];

                for (var item in chart.data.dataTable) {
                    if (item != 'label') {
                        dataTable[chart.data.dataTable[item]] = d.data[chart.data.dataTable[item]];
                    }
                }
            } else {
                for (var item in d) {
                    if (item !== chart.data.dataTable.label) {
                        dataTable[item] = d[item];
                    } else {
                        continue;
                    }
                }
            }

            return { 'data': d, 'tipData': dataTable, 'index': i, 'title': title, 'color': color, 'viz': chart.config.type };
        }

        /************************************************ Draw functions ******************************************************/

        /**generateSVG
         *creates an SVG element on the panel
         *
         * @params container, margin, name
         *
         */

    }, {
        key: 'generateSVG',
        value: function generateSVG(legendData, customMarginParam, customSizeParam) {
            var chart = this,
                margin = {},
                container = {},
                dimensions = chart.chartDiv.node().getBoundingClientRect(),
                customMargins = customMarginParam,
                customSize = customSizeParam,
                textWidth;

            if (chart.options.customMargins) {
                customMargins = chart.options.customMargins;
            }

            //set margins
            if (!customMargins) {
                //declare margins if they arent passed in
                margin = {
                    top: 55,
                    right: 50,
                    left: 100,
                    bottom: 70
                };
                if (legendData != null) {
                    if (legendData.length <= 3) {
                        margin.bottom = 70;
                    } else if (legendData.length <= 6) {
                        margin.bottom = 85;
                    } else {
                        margin.bottom = 130;
                    }
                }
            } else {
                margin = customMargins;
            }

            //reduce margins if legend is toggled off
            //TODO make this better
            if (chart.options.hasOwnProperty('toggleLegend') && !chart.options.toggleLegend) {
                if (chart.config.type === 'pie' || chart.config.type === 'radial' || chart.config.type === 'circlepack' || chart.config.type === 'heatmap') {
                    margin.left = 40;
                } else if (chart.config.type === 'treemap' || chart.config.type === 'bar' || chart.config.type === 'gantt' || chart.config.type === 'scatter' || chart.config.type === 'line') {
                    margin.bottom = 40;
                }
            }

            //set yAxis margins
            if (chart.currentData && chart.currentData.yAxisData) {
                textWidth = getMaxWidthForAxisData('y', chart.currentData.yAxisData, chart.options, dimensions, margin, chart.chartDiv, chart.config.type);
                margin.left = Math.ceil(textWidth) + 20;
            }

            //set xAxis top margins
            if (chart.config.type === 'heatmap' && chart.currentData && chart.currentData.xAxisData) {
                textWidth = getMaxWidthForAxisData('x', chart.currentData.xAxisData, chart.options, dimensions, margin, chart.chartDiv, chart.config.type);
                //subtract space for tilt
                textWidth = Math.ceil(textWidth);
                if (textWidth > 100) {
                    textWidth = 120;
                }
                margin.top = Math.ceil(textWidth);
                customSize = {};
                //set container
                customSize.width = chart.currentData.xAxisData.values.length * 20;
                customSize.height = chart.currentData.yAxisData.values.length * 20;
                if (customSize.width < dimensions.width) {
                    margin.right = parseInt(dimensions.width) - margin.left - customSize.width - 10;
                }
                if (customSize.height < dimensions.height) {
                    margin.bottom = parseInt(dimensions.height) - margin.top - customSize.height - 10;
                }
            }

            //set container attributes
            //Set svg size based on calculation margins or custom size if specified
            if (customSize && customSize.hasOwnProperty('height')) {
                container.height = customSize.height;
            } else {
                container.height = parseInt(dimensions.height) - margin.top - margin.bottom;
            }

            if (customSize && customSize.hasOwnProperty('width')) {
                container.width = customSize.width;
            } else {
                container.width = parseInt(dimensions.width) - margin.left - margin.right;
            }

            //add margin and container to chart config object
            chart.config.margin = margin;
            chart.config.container = container;

            //remove old svg if it exists
            chart.svg = chart.chartDiv.select('svg').remove();

            //svg layer
            if (chart.config.type === 'heatmap' || chart.config.type === 'singleaxis') {
                chart.svg = chart.chartDiv.append('svg').attr('class', 'editable-svg').attr('width', container.width + margin.left + margin.right).attr('height', container.height + margin.top + margin.bottom).append('g').attr('class', 'container').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
            } else {
                chart.svg = chart.chartDiv.append('svg').attr('class', 'full-width full-height editable-svg').attr('width', container.width + margin.left + margin.right).attr('height', container.height + margin.top + margin.bottom).append('g').attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');
            }

            //TODO move to edit mode
            if (chart.options.hasOwnProperty('backgroundColor')) {
                chart.colorBackground(chart.options.backgroundColor);
            }
        }

        /**generateXAxis
         * creates x axis on the svg
         *
         * @params xAxisData
         */

    }, {
        key: 'generateXAxis',
        value: function generateXAxis(xAxisData, ticks) {
            //declare variables
            var chart = this,
                xAxis,

            //Need to getXAxisScale each time so that axis updates on resize
            xAxisScale = jvCharts.getAxisScale('x', xAxisData, chart.config.container, chart.options),
                containerHeight = chart.config.container.height,
                containerWidth = chart.config.container.width,
                xAxisClass = 'xAxisLabels editable editable-xAxis editable-text';

            //assign css class for edit mode
            //if the axis is numbers add editable-num
            if (xAxisData.dataType === 'NUMBER') {
                xAxisClass += ' editable-num';
            }

            //remove previous xAxis container if its there
            chart.svg.selectAll('.xAxisContainer').remove();

            //Save the axis scale to chart object
            chart.currentData.xAxisScale = xAxisScale;

            var tickSize = 0;
            if (chart.currentData.xAxisData.dataType === 'NUMBER') {
                tickSize = 5;
            }

            //create xAxis drawing function
            if (chart.config.type === 'singleaxis') {
                xAxis = d3.axisTop(xAxisScale).tickSize(tickSize);
            } else {
                xAxis = d3.axisBottom(xAxisScale).tickSize(tickSize);
            }

            if (ticks) {
                xAxis.ticks(ticks);
            }

            var axisHeight = containerHeight;
            if (chart.config.type === 'singleaxis') {
                //For any axes that are on top of the data
                axisHeight = 0;
            }

            var xContent = chart.svg.append('g').attr('class', 'xAxisContainer').attr('transform', 'translate(0,' + axisHeight + ')');

            var xAxisGroup = xContent.append('g').attr('class', 'xAxis').transition().duration(0).call(xAxis);

            var formatValueType = jvFormatValueType(xAxisData.values);

            //Styling the axis
            xAxisGroup.select('path').attr('stroke', chart.vars.axisColor).attr('stroke-width', chart.vars.strokeWidth);

            //Styling for ticks
            xAxisGroup.selectAll('line').attr('stroke', chart.vars.axisColor).attr('stroke-width', chart.vars.stroke);

            //Styling the labels for each piece of data
            xAxisGroup.selectAll('text').attr('fill', chart.vars.black) //Customize the color of axis labels
            .attr('class', xAxisClass).style('text-anchor', 'middle').attr('font-size', chart.options.fontSize).attr('transform', 'translate(0, 3)').text(function (d) {
                if (xAxisData.dataType === 'NUMBER' || chart.options.rotateAxis) {
                    return jvFormatValue(d, formatValueType);
                }
                return d;
            });

            //Styling the label for the entire axis
            xContent.append('g').attr('class', 'xLabel').append('text').attr('class', 'xLabel editable editable-text editable-content').attr('text-anchor', 'middle').attr('font-size', chart.options.fontSize).text(function () {
                if (xAxisData.dataType === 'DATE') {
                    return '';
                }
                return xAxisData.label;
            }).attr('transform', 'translate(' + containerWidth / 2 + ', 33)');
        }

        /**FormatXAxisLabels
         *
         * If x-axis labels are too long/overlapping, they will be hidden/shortened
         */

    }, {
        key: 'formatXAxisLabels',
        value: function formatXAxisLabels(dataLength, recursion) {
            var chart = this,
                showAxisLabels = true,
                xAxisLength = chart.config.container.width,
                textWidth = [],
                formatValueType = null,
                dataType = chart.currentData.xAxisData.dataType,
                axisValues = chart.currentData.xAxisData.values;

            if (dataType === 'NUMBER') {
                formatValueType = jvFormatValueType(axisValues);
            }

            //create dummy text to determine computed text length for the axis labels
            //necessary to do this because axis labels getBBox() is returning 0 since they do not seem to be drawn yet
            chart.svg.append('g').selectAll('.dummyText').data(axisValues).enter().append('text').attr('font-family', 'sans-serif').attr('font-size', chart.options.fontSize).text(function (d) {
                var returnVal = d;
                if (dataType === 'NUMBER') {
                    returnVal = jvFormatValue(d, formatValueType);
                }
                return returnVal;
            }).each(function () {
                //adding 10px buffer
                var thisWidth = this.getComputedTextLength() + 10;
                textWidth.push(thisWidth);
                this.remove(); //remove them just after displaying them
            });

            for (var i = 0; i < textWidth.length; i++) {
                var textEleWidth = textWidth[i];
                if (textEleWidth > xAxisLength / dataLength) {
                    showAxisLabels = false;
                }
            }

            if (showAxisLabels) {
                if (recursion) {
                    chart.generateXAxis(chart.currentData.xAxisData, dataLength);
                }
                chart.svg.selectAll('.xAxisLabels').style('display', 'block');
            } else if (dataLength > 1 && chart.currentData.xAxisData.dataType === 'NUMBER') {
                //recursively keep decreasing to figure out ticks length to repaint the xAxis if its numeric
                chart.formatXAxisLabels(dataLength - 1, true);
            } else {
                chart.svg.selectAll('.xAxis').selectAll('text').style('display', 'none');
            }
        }

        /**generateYAxis
         * creates y axis on the svg
         *
         * @params generateYAxis
         */

    }, {
        key: 'generateYAxis',
        value: function generateYAxis(yAxisData) {
            //declare local variables
            var chart = this,
                yAxisScale = jvCharts.getAxisScale('y', yAxisData, chart.config.container, null, chart.options),
                yAxisClass = 'yAxisLabels editable editable-yAxis editable-text',
                maxYAxisLabelWidth,
                numberOfTicks = Math.floor(chart.config.container.height / 14),
                yAxis,
                yContent,
                yAxisGroup;

            //assign css class for edit mode
            //if the axis is numbers add editable-num
            if (yAxisData.dataType === 'NUMBER') {
                yAxisClass += ' editable-num';
            }

            //Save y axis scale to chart object
            chart.currentData.yAxisScale = yAxisScale;

            //remove previous svg elements
            chart.svg.selectAll('.yAxisContainer').remove();
            chart.svg.selectAll('text.yLabel').remove();

            if (numberOfTicks > 10) {
                if (numberOfTicks < 20) {
                    numberOfTicks = 10;
                } else if (numberOfTicks < 30) {
                    numberOfTicks /= 2;
                } else {
                    numberOfTicks = 15;
                }
            }

            yAxis = d3.axisLeft().ticks(numberOfTicks) //Link to D3.svg.axis options: https://github.com/mbostock/d3/wiki/SVG-Axes
            .scale(yAxisScale) //Sets the scale to use in the axis
            .tickSize(5) //Sets the thickness of the axis line
            .tickPadding(5);

            //Hide Axis values if necessary
            if (yAxisData.hideValues) {
                yAxis.tickFormat('');
            }

            yContent = chart.svg.append('g').attr('class', 'yAxisContainer');

            yContent.append('g').attr('class', 'yLabel').append('text').attr('class', 'yLabel editable editable-text editable-content').attr('text-anchor', 'start').attr('font-size', chart.options.fontSize).attr('fill-opacity', 0).attr('x', 0).attr('y', 0).attr('transform', 'translate(' + (-chart.config.margin.left + 10) + ', -10)').text(yAxisData.label).transition().duration(0).attr('fill-opacity', 1);

            yAxisGroup = yContent.append('g').attr('class', 'yAxis');

            yAxisGroup.transition().duration(0).call(yAxis);

            //Styling for Axis
            yAxisGroup.select('path').attr('stroke', chart.vars.axisColor).attr('stroke-width', chart.vars.strokeWidth);

            maxYAxisLabelWidth = 0;

            if (yAxisData.hideValues) {
                //Styling for ticks
                yAxisGroup.selectAll('line').attr('stroke-width', 0);
            } else {
                //Styling for ticks
                yAxisGroup.selectAll('line').attr('stroke', chart.vars.axisColor).attr('stroke-width', chart.vars.stroke);
                //Styling for data labels on axis
                yAxisGroup.selectAll('text').attr('fill', 'black') //Customize the color of axis labels
                .attr('class', yAxisClass).attr('transform', 'rotate(0)') //Add logic to rotate axis based on size of title
                .attr('font-size', chart.options.fontSize).append('svg:title');

                var formatValueType = jvFormatValueType(yAxisData.values);

                yAxisGroup.selectAll('text').transition().text(function (d) {
                    if (chart.options.rotateAxis) {
                        return d;
                    }
                    var maxLength = 13;
                    var current = '';
                    if (d.length > maxLength) {
                        current = d.substring(0, maxLength) + '...';
                    } else {
                        current = d;
                    }
                    return jvFormatValue(current, formatValueType);
                }).each(function (d, i, j) {
                    if (j[0].getBBox().width > maxYAxisLabelWidth) {
                        maxYAxisLabelWidth = j[0].getBBox().width;
                    }
                });

                if (maxYAxisLabelWidth > 0) {
                    chart.options.yLabelWidth = Math.ceil(maxYAxisLabelWidth) + 20;
                }
            }
        }
        /************************************************ Legend functions ******************************************************/

    }, {
        key: 'generateLegend',
        value: function generateLegend(legendData, drawFunc) {
            var chart = this,
                svg = chart.svg;

            svg.selectAll('.legend').remove();

            //Returns the legend rectangles that are toggled on/off
            var legendElements = generateLegendElements(chart, legendData, drawFunc);
            if (drawFunc) {
                attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
            }

            if (chart.options.thresholds !== 'none' && chart.options.thesholdLegend === true) {
                if (chart.config.type === 'bar' || chart.config.type === 'area' || chart.config.type === 'line') {
                    if (chart.config.container.height > 200 && chart.config.container.width > 200) {
                        generateThresholdLegend(chart);
                    }
                }
            }

            if (!chart.options.toggleLegend) {
                svg.selectAll('.legend').remove();
                svg.selectAll('.legend-carousel').remove();
            }
        }

        /**generateVerticalLegend
         *
         * creates and draws a vertical legend on the svg element
         * @params svg, legendData, options, container, chartData, xAxisData, yAxisData, chartType
         * @returns {{}}
         */

    }, {
        key: 'generateVerticalLegend',
        value: function generateVerticalLegend(paintFunc) {
            var chart = this,
                svg = chart.svg,
                legendData = chart.currentData.legendData;

            svg.selectAll('.legend').remove();

            //Returns the legend rectangles that are toggled on/off
            var legendElements = generateVerticalLegendElements(chart, legendData, paintFunc);
            if (paintFunc !== 'generatePack') {
                attachClickEventsToLegend(chart, legendElements, paintFunc, legendData);
            }

            if (!chart.options.toggleLegend) {
                svg.selectAll('.legend').remove();
                svg.selectAll('.legend-carousel').remove();
            }
        }

        /**
         *
         * Generates a clip path that contains the contents of the chart area to the view of the chart area container
         * i.e - don't want bars going below the x axis
         */

    }, {
        key: 'generateClipPath',
        value: function generateClipPath() {
            var chart = this,
                svg = chart.svg,
                type = chart.config.type;

            svg.append('clipPath').attr('id', 'clip').append('rect').attr('x', 0).attr('y', 0).attr('width', chart.config.container.width).attr('height', chart.config.container.height);

            //Break this out into logic for all other vizzes that have overflow issues
            var containerName = '.' + type + '-container';
            svg.select(containerName).attr('clip-path', 'url(#clip)');
        }
    }, {
        key: 'setThreshold',
        value: function setThreshold(data) {
            var chart = this,
                thresholds = chart.options.thresholds,
                length = thresholds ? Object.keys(thresholds).length : 0;

            if (thresholds !== 'none') {
                for (var i = length - 1; i > -1; i--) {
                    var threshold = thresholds[i];
                    //console.log(typeof data == "date");
                    if (data >= Number(threshold.threshold)) {
                        return 'rect-' + i;
                    }
                }
            }
        }
    }, {
        key: 'generateLineThreshold',
        value: function generateLineThreshold() {
            var chart = this,
                svg = chart.svg,
                width = chart.config.container.width,
                height = chart.config.container.height,
                thresholds = chart.options.thresholds,
                length = Object.keys(chart.options.thresholds).length;

            var x = chart.currentData.xAxisScale;
            var y = chart.currentData.yAxisScale;

            if (thresholds !== 'none') {
                for (var i = 0; i < length; i++) {
                    var threshold = thresholds[i];
                    if (chart.options.rotateAxis) {
                        svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', x(threshold.threshold)).attr('y1', 0).attr('x2', x(threshold.threshold)).attr('y2', height).attr('stroke-dasharray', '3, 3');
                    } else {
                        svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', 0).attr('y1', y(threshold.threshold)).attr('x2', width).attr('y2', y(threshold.threshold)).attr('stroke-dasharray', '3, 3');
                    }
                }
            }
        }
    }, {
        key: 'colorBackground',
        value: function colorBackground(color) {
            var chart = this;
            var chartDiv = chart.chartDiv;
            chart.options.backgroundColor = color;
            chartDiv.style('background-color', '' + color);
        }

        /**displayValues
         *
         * toggles data values that are displayed on the specific type of chart on the svg
         * @params svg, barData, options, xAxisData, yAxisData, container
         * @returns {{}}
         */

    }, {
        key: 'displayValues',
        value: function displayValues() {
            //TODO receive data similar to generateBar
            var chart = this,
                svg = chart.svg,
                options = chart.options,
                container = chart.config.container,
                barData = chart.data.chartData,
                xAxisData = chart.currentData.xAxisData,
                yAxisData = chart.currentData.yAxisData,
                legendOptions = chart.options.legendOptions;

            //If series is flipped, use flipped data; initialize with the full data set
            if (options.seriesFlipped) {
                barData = chart.flippedData.chartData;
                legendOptions = chart.options.flippedLegendOptions;
            }

            if (options.displayValues === true) {
                svg.selectAll('.displayValueContainer').remove();

                var data = []; //Only stores values for bars
                var barDataNew = JSON.parse(JSON.stringify(barData)); //Copy of barData

                if (legendOptions) {
                    //Checking which legend elements are toggled on resize
                    for (var j = 0; j < barDataNew.length; j++) {
                        for (var i = 0; i < legendOptions.length; i++) {
                            if (legendOptions[i].toggle === false) {
                                delete barDataNew[j][legendOptions[i].element];
                            }
                        }
                    }
                }

                for (var i = 0; i < barDataNew.length; i++) {
                    //barDataNew used
                    var val = values(barDataNew[i], chart.currentData.dataTable, chart.config.type);
                    data.push(val.slice(0, barDataNew[i].length));
                }

                var posCalc = getPosCalculations(barDataNew, options, xAxisData, yAxisData, container, chart);

                var x = jvCharts.getAxisScale('x', xAxisData, container, options);
                var y = jvCharts.getAxisScale('y', yAxisData, container, options);

                //var format = getFormatExpression("displayValues");

                if (options.rotateAxis) {
                    //Add a container for display values over each bar group
                    var displayValuesGroup = svg.append('g').attr('class', 'displayValuesGroup').selectAll('g').data(data).enter().append('g').attr('class', 'displayValuesGroup').attr('transform', function (d, i) {
                        var translate = y.paddingOuter() * y.step() + y.step() * i;
                        return 'translate(0,' + translate + ')';
                    });

                    displayValuesGroup.selectAll('text').data(function (d) {
                        return d;
                    }).enter().append('text').attr('class', 'displayValue').attr('x', function (d, i, j) {
                        //sets the x position of the bar)
                        return posCalc.width(d, i, j) + posCalc.x(d, i, j);
                    }).attr('y', function (d, i, j) {
                        //sets the y position of the bar
                        return posCalc.y(d, i, j) + posCalc.height(d, i, j) / 2;
                    }).attr('dy', '.35em').attr('text-anchor', 'start').attr('fill', 'black').text(function (d) {
                        var returnText = Math.round(d * 100) / 100; //round to 2 decimals
                        return jvFormatValue(returnText);
                    }).attr('font-size', chart.options.fontSize);
                } else {
                    //Add a display values container over each bar group
                    svg.append('g').attr('class', 'displayValuesGroup').selectAll('g').data(data).enter().append('g').attr('class', 'displayValuesGroup').attr('transform', function (d, i) {
                        var translate = x.paddingOuter() * x.step() + x.step() * i;
                        return 'translate(' + translate + ',0)';
                    });

                    displayValuesGroup.selectAll('text').data(function (d) {
                        return d;
                    }).enter().append('text').attr('class', 'displayValue').attr('x', function (d, i, j) {
                        //sets the x position of the bar)
                        return Math.round(posCalc.x(d, i, j) + posCalc.width(d, i, j) / 2);
                    }).attr('y', function (d, i, j) {
                        //sets the y position of the bar
                        return Math.round(posCalc.y(d, i, j)); //+ posCalc.height(d, i, j) - 5);
                    }).attr('text-anchor', 'middle').attr('fill', 'black').text(function (d, i, j) {
                        var returnText = Math.round(d * 100) / 100; //Round to 2 decimals
                        //return format(returnText);//expression(d);
                        return jvFormatValue(returnText);
                    }).attr('font-size', chart.options.fontSize);
                }
            } else {
                svg.selectAll('.displayValueContainer').remove();
            }
        }
    }, {
        key: 'drawGridlines',
        value: function drawGridlines(axisData) {
            var chart = this;

            chart.svg.selectAll('g.gridLines').remove();
            chart.svg.append('g').attr('class', 'gridLines');
            var scaleData;

            //Determine if gridlines are horizontal or vertical based on rotateAxis
            if (chart.options.rotateAxis === true || chart.config.type === 'gantt' || chart.config.type === 'singleaxis') {
                var gridLineHeight = chart.config.container.height;
                var xAxisScale = jvCharts.getAxisScale('x', axisData, chart.config.container);

                if (axisData.dataType === 'STRING') {
                    scaleData = axisData.values;
                } else if (axisData.dataType === 'NUMBER' || axisData.dataType === 'DATE') {
                    scaleData = xAxisScale.ticks(10);
                }
                chart.svg.select('.gridLines').selectAll('.horizontalGrid').data(scaleData).enter().append('line').attr('class', 'horizontalGrid').attr('x1', function (d, i) {
                    if (i > 0) {
                        return xAxisScale(d);
                    }
                    return 0;
                }).attr('x2', function (d, i) {
                    if (i > 0) {
                        return xAxisScale(d);
                    }
                    return 0;
                }).attr('y1', function (d, i) {
                    return 0;
                }).attr('y2', function (d, i) {
                    if (i > 0) {
                        return gridLineHeight;
                    }
                    return 0;
                }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', function () {
                    if (chart.config.type === 'singleaxis') {
                        return 'black';
                    }
                    return '#e6e6e6';
                }).attr('stroke-width', '1px');
            } else {
                var gridLineWidth = chart.config.container.width;
                var yAxisScale = jvCharts.getAxisScale('y', axisData, chart.config.container);

                if (axisData.dataType === 'STRING') {
                    scaleData = axisData.values;
                } else if (axisData.dataType === 'NUMBER' || axisData.dataType === 'DATE') {
                    scaleData = yAxisScale.ticks(10);
                }
                chart.svg.select('.gridLines').selectAll('.horizontalGrid').data(scaleData).enter().append('line').attr('class', 'horizontalGrid').attr('x1', 0).attr('x2', function (d, i) {
                    if (i > 0) {
                        return gridLineWidth;
                    }
                    return 0;
                }).attr('y1', function (d, i) {
                    if (i > 0) {
                        return yAxisScale(d);
                    }
                    return 0;
                }).attr('y2', function (d, i) {
                    if (i > 0) {
                        return yAxisScale(d);
                    }
                    return 0;
                }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', '#e6e6e6').attr('stroke-width', '1px');
            }
        }

        /**getBarDataFromOptions
        * ^^ not just a bar function, line and area also use it
        *
        * Assigns the correct chart data to current data using the chart.options
        */

    }, {
        key: 'getBarDataFromOptions',
        value: function getBarDataFromOptions() {
            var chart = this;
            //creating these two data variables to avoid having to reference the chart obejct everytime
            var flipped = chart.flippedData;
            var data = chart.data;

            var dataObj = {};
            if (chart.options.seriesFlipped) {
                dataObj.chartData = flipped.chartData;
                dataObj.legendData = flipped.legendData;
                dataObj.dataTable = flipped.dataTable;
                chart.options.color = flipped.color;
                if (chart.options.rotateAxis === true) {
                    dataObj.xAxisData = flipped.yAxisData;
                    dataObj.yAxisData = flipped.xAxisData;
                } else {
                    dataObj.xAxisData = flipped.xAxisData;
                    dataObj.yAxisData = flipped.yAxisData;
                }
            } else {
                dataObj.chartData = data.chartData;
                dataObj.legendData = data.legendData;
                dataObj.dataTable = data.dataTable;
                chart.options.color = data.color;
                if (chart.options.rotateAxis === true) {
                    dataObj.xAxisData = data.yAxisData;
                    dataObj.yAxisData = data.xAxisData;
                } else {
                    dataObj.xAxisData = data.xAxisData;
                    dataObj.yAxisData = data.yAxisData;
                }
            }

            return dataObj;
        }

        /************************************************ Utility functions ******************************************************/

        /**highlightItems
         *
         * highlights items on the svg element
         * @params items, svg
         * @returns {{}}
         */

    }, {
        key: 'highlightItem',
        value: function highlightItem(items, tag, highlightIndex, highlightUri) {
            var chart = this,
                svg = chart.svg;

            //TODO remove if statements
            if (highlightIndex >= 0) {
                if (chart.config.type === 'pie') {
                    //set all circles stroke width to 0
                    svg.select('.pie-container').selectAll(tag).attr('stroke', '#FFFFFF').attr('stroke-width', 1);
                    //highlight necessary pie slices
                    svg.select('.pie-container').selectAll(tag).filter('.highlight-class-' + highlightIndex).attr('stroke', 'black').attr('stroke-width', 2.0);
                }
                if (chart.config.type === 'scatterplot') {
                    //set all circles stroke width to 0
                    svg.select('.scatter-container').selectAll(tag).attr('stroke-width', 0);
                    //highlight necessary scatter dots
                    svg.select('.scatter-container').selectAll(tag).filter('.scatter-circle-' + highlightIndex).attr('stroke', 'black').attr('stroke-width', 2.0);
                }
            } else if (highlightUri) {
                if (chart.config.type === 'bar') {
                    //set all bars stroke width to 0
                    svg.select('.bar-container').selectAll(tag).attr('stroke', 0).attr('stroke-width', 0);
                    //highlight necessary bars
                    svg.select('.bar-container').selectAll('.highlight-class-' + highlightUri).attr('stroke', 'black').attr('stroke-width', 2.0);
                }
                if (chart.config.type === 'line' || chart.config.type === 'area') {
                    //set all circles stroke width to 0
                    svg.select('.line-container').selectAll(tag).attr('stroke', 0).attr('stroke-width', 0);
                    //highlight necessary cirlces
                    svg.select('.line-container').selectAll(tag).filter('.highlight-class-' + highlightUri).attr('stroke', 'black').attr('stroke-width', 2.0);
                }
            } else {
                console.log('need to pass highlight index to highlight item');
            }
        }

        /**
        *@desc Removes highlights that were applied with related insights
        *
        */

    }, {
        key: 'removeHighlight',
        value: function removeHighlight() {
            var chart = this;
            var svg = chart.svg;
            if (chart.config.type === 'pie') {
                //set all circles stroke width to 0
                svg.select('.pie-container').selectAll('path').attr('stroke', '#FFFFFF').attr('stroke-width', 0);
            }
            if (chart.config.type === 'scatterplot') {
                svg.select('.scatter-container').selectAll('circle').attr('stroke-width', 0);
            }
            if (chart.config.type === 'bar') {
                svg.select('.bar-container').selectAll('rect').attr('stroke', 0).attr('stroke-width', 0);
            }
            if (chart.config.type === 'line' || chart.config.type === 'area') {
                svg.select('.line-container').selectAll('circle').attr('stroke', 0).attr('stroke-width', 0);
            }
        }
    }]);

    return jvCharts;
}();

function jvFormatValue(val, formatType) {
    if (!isNaN(val)) {
        var formatNumber = d3.format('.0f');

        if (formatType === 'billions') {
            return formatNumber(val / 1e9) + 'B';
        } else if (formatType === 'millions') {
            return formatNumber(val / 1e6) + 'M';
        } else if (formatType === 'thousands') {
            return formatNumber(val / 1e3) + 'K';
        } else if (formatType === 'decimals') {
            formatNumber = d3.format('.2f');
            return formatNumber(val);
        } else if (formatType === 'nodecimals') {
            return formatNumber(val);
        }

        if (val === 0) {
            return 0;
        }

        if (Math.abs(val) >= 1000000000) {
            //Billions
            return formatNumber(val / 1e9) + 'B';
        } else if (Math.abs(val) >= 1000000) {
            //Millions
            return formatNumber(val / 1e6) + 'M';
        } else if (Math.abs(val) >= 1000) {
            //Thousands
            return formatNumber(val / 1e3) + 'K';
        } else if (Math.abs(val) <= 10) {
            //2 decimals
            formatNumber = d3.format('.2f');
        }
        return formatNumber(val);
    }
    return val;
}

/**
 * @param the set of values that you want to format uniformly
 * @return '' the level of formatting for the group of data
 * Problem with jvFormatValue function is that if you pass in values 10, 20... 90, 100, 1120, 120
 * you will get the formats 10.00, 20.00 .... 100, 110, 120 when you want 10, 20, ... 100, 110
 * --Format the value based off of the highest number in the group
 */
function jvFormatValueType(values) {
    if (values != null) {
        var max = Math.max.apply(null, values);
        //After getting the max, check the min
        var min = Math.min.apply(null, values);
        var range = max - min;
        var incrememnt = Math.abs(Math.round(range / 10)); //10 being the number of axis labels to show

        if (Math.abs(incrememnt) >= 1000000000) {
            return 'billions';
        } else if (Math.abs(incrememnt) >= 1000000) {
            return 'millions';
        } else if (Math.abs(incrememnt) >= 1000) {
            return 'thousands';
        } else if (Math.abs(incrememnt) <= 10) {
            return 'decimals';
        } else if (Math.abs(incrememnt) >= 10) {
            return 'nodecimals';
        }
    }
    return '';
}

/**getFormatExpression
 *
 * @desc returns the d3 format expression for a given option
 * @params option
 * @returns string expression
 */
function getFormatExpression(option) {
    var expression = '',
        p;
    if (option === 'currency') {
        expression = d3.format('$,');
    }
    if (option === 'fixedCurrency') {
        expression = d3.format('($.2f');
    }
    if (option === 'percent') {
        p = Math.max(0, d3.precisionFixed(0.05) - 2);
        expression = d3.format('.' + p + '%');
    }
    if (option === 'millions') {
        p = d3.precisionPrefix(1e5, 1.3e6);
        expression = d3.formatPrefix('.' + p, 1.3e6);
    }
    if (option === 'commas') {
        expression = d3.format(',.0f');
    }
    if (option === 'none' || option === '') {
        expression = d3.format('');
    }
    if (option === 'displayValues') {
        expression = d3.format(',.2f');
    }

    return expression;
}

/**getToggledData
 *
 * Gets the headers of the data to be drawn and filters the data based on that
 * @params chartData, dataHeaders
 */
function getToggledData(chartData, dataHeaders) {
    var legendElementToggleArray = getLegendElementToggleArray(dataHeaders, chartData.legendData);
    var data = JSON.parse(JSON.stringify(chartData.chartData));
    if (legendElementToggleArray) {
        for (var j = 0; j < data.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].toggle === false) {
                    delete data[j][legendElementToggleArray[i].element];
                }
            }
        }
    }
    return data;
}

/**getLegendElementToggleArray
 *
 * Gets an array of legend elements with true/false tags for if toggled
 * @params selectedHeaders, allHeaders
 */
function getLegendElementToggleArray(selectedHeaders, allHeaders) {
    var legendElementToggleArray = [];
    for (var i = 0; i < allHeaders.length; i++) {
        legendElementToggleArray.push({ element: allHeaders[i] });
    }

    for (var i = 0; i < legendElementToggleArray.length; i++) {
        for (var j = 0; j < selectedHeaders.length; j++) {
            if (legendElementToggleArray[i].element === selectedHeaders[j]) {
                legendElementToggleArray[i].toggle = true;
                continue;
            }
        }
        if (legendElementToggleArray[i].toggle !== true) {
            legendElementToggleArray[i].toggle = false;
        }
    }
    return legendElementToggleArray;
}

/**generateLegendElements
 *
 * Creates the legend elements--rectangles and labels
 * @params chart, legendData, drawFunc
 */
function generateLegendElements(chart, legendData, drawFunc) {
    var svg = chart.svg,
        container = chart.config.container,
        options = chart.options,
        legend,
        legendRow = 0,
        legendColumn = 0,
        legendDataLength = legendData.length;

    options.legendMax = 9;
    options.gridSize = 12;

    if (!options.legendIndex) {
        options.legendIndex = 0;
    }

    if (!options.legendIndexMax) {
        options.legendIndexMax = Math.floor(legendDataLength / options.legendMax - 0.01);
    }

    //if legend headers don't exist, set them equal to legend data
    if (!options.legendHeaders && !options.seriesFlipped) {
        options.legendHeaders = JSON.parse(JSON.stringify(legendData));
    } else if (!options.flippedLegendHeaders && options.seriesFlipped) {
        options.flippedLegendHeaders = JSON.parse(JSON.stringify(legendData));
    }
    //Set legend element toggle array based on if series is flipped
    if (!options.seriesFlipped) {
        var legendElementToggleArray = getLegendElementToggleArray(options.legendHeaders, legendData);
    } else {
        var flippedLegendElementToggleArray = getLegendElementToggleArray(options.flippedLegendHeaders, legendData);
    }

    legend = svg.append('g').attr('class', 'legend');

    //Adding colored rectangles to the legend
    var legendRectangles = legend.selectAll('rect').data(legendData).enter().append('rect').attr('class', 'legendRect').attr('x', function (d, i) {
        if (i % (options.legendMax / 3) === 0 && i > 0) {
            legendColumn = 0;
        }
        var legendPos = 200 * legendColumn;
        legendColumn++;
        return legendPos;
    }).attr('y', function (d, i) {
        if (i % (options.legendMax / 3) === 0 && i > 0) {
            legendRow++;
        }
        if (i % options.legendMax === 0 && i > 0) {
            legendRow = 0;
        }
        return container.height + 10 + 15 * (legendRow + 1) - 5; //Increment row when column limit is reached
    }).attr('width', options.gridSize).attr('height', options.gridSize).attr('fill', function (d, i) {
        return getColors(options.color, i, legendData[i]);
    }).attr('display', function (d, i) {
        if (i >= options.legendIndex * options.legendMax && i <= options.legendIndex * options.legendMax + (options.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).attr('opacity', function (d, i) {
        if (!legendElementToggleArray && !chart.options.seriesFlipped || chart.options.seriesFlipped && !flippedLegendElementToggleArray) {
            return '1';
        }
        if (!chart.options.seriesFlipped && legendElementToggleArray[i].toggle === true || chart.options.seriesFlipped && flippedLegendElementToggleArray[i].toggle === true) {
            return '1';
        }
        return '0.2';
    });

    legendRow = 0;
    legendColumn = 0;

    //Adding text labels for each rectangle in legend
    var legendText = legend.selectAll('text').data(legendData).enter().append('text').attr('class', function (d, i) {
        return 'legendText editable editable-text editable-content editable-legend-' + i;
    }).attr('x', function (d, i) {
        if (i % (options.legendMax / 3) === 0 && i > 0) {
            legendColumn = 0;
        }
        var legendPos = 200 * legendColumn;
        legendColumn++;
        return legendPos + 17;
    }).attr('y', function (d, i) {
        if (i % (options.legendMax / 3) === 0 && i > 0) {
            legendRow++;
        }
        if (i % options.legendMax === 0 && i > 0) {
            legendRow = 0;
        }
        return container.height + 10 + 15 * (legendRow + 1); //Increment row when column limit is reached
    }).attr('text-anchor', 'start').attr('dy', '0.35em') //Vertically align with node
    .attr('fill', 'black').attr('font-size', chart.options.fontSize).attr('display', function (d, i) {
        if (i >= options.legendIndex * options.legendMax && i <= options.legendIndex * options.legendMax + (options.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).text(function (d, i) {
        var elementName = legendData[i];
        if (chart.config.type === 'gantt') {
            elementName = legendData[i].slice(0, -5); //Removing last 5 characters of legend label---i.e plannedSTART -> planned
        }
        if (elementName.length > 20) {
            return elementName.substring(0, 19) + '...';
        }
        return elementName;
    });

    //Adding info box to legend elements when hovering over
    legendText.data(legendData).append('svg:title').text(function (d) {
        return d;
    });

    //Only create carousel if the number of elements exceeds one legend "page"
    if (options.legendIndexMax > 0) {
        createCarousel(chart, legendData, drawFunc);
    }
    //Centers the legend in the panel
    if (legend) {
        var legendWidth = legend.node().getBBox().width;
        legend.attr('transform', 'translate(' + (container.width - legendWidth) / 2 + ', 30)');
    }

    return legendRectangles;
}

/**updateDataFromLegend
 *
 * Returns a list of data headers that should be displayed in viz
 * based off what is toggled on/off in legend
 * @params legendData
 */
function updateDataFromLegend(legendData) {
    var data = [];
    var legendElement = legendData[0];
    for (var i = 0; i < legendElement.length; i++) {
        if (legendElement[i].attributes.opacity.value !== '0.2') {
            //If not white, add it to the updated data array
            data.push(legendElement[i].__data__);
        }
    }
    return data;
}

/**createCarousel
 *
 * Draws the horizontal legend carousel
 * @params chart, legendData, drawFunc
 */
function createCarousel(chart, legendData, drawFunc) {
    var svg = chart.svg,
        container = chart.config.container,
        options = chart.options,
        legendPolygon;

    //Adding carousel to legend
    svg.selectAll('.legend-carousel').remove();
    svg.selectAll('#legend-text-index').remove();

    legendPolygon = svg.append('g').attr('class', 'legend-carousel');

    //Creates left navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'leftChevron').attr('class', 'pointer-cursor').style('fill', '#c2c2d6').attr('transform', 'translate(0,0)').attr('points', '0,7.5, 15,0, 15,15').on('click', function () {
        if (options.legendIndex >= 1) {
            options.legendIndex--;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
        chart.localCallbackApplyEdits();
    }).attr({
        display: function display() {
            if (options.legendIndex === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates page number for carousel navigation
    legendPolygon.append('text').attr('id', 'legend-text-index').attr('x', 35).attr('y', 12.5).style('text-anchor', 'start').style('font-size', chart.options.fontSize).text(function () {
        return options.legendIndex + ' / ' + options.legendIndexMax;
    }).attr({
        display: function display() {
            if (options.legendIndexMax === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates right navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'rightChevron').attr('class', 'pointer-cursor').style('fill', '#c2c2d6').attr('transform', 'translate(85,0)').attr('points', '15,7.5, 0,0, 0,15').on('click', function () {
        if (options.legendIndex < options.legendIndexMax) {
            options.legendIndex++;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
        chart.localCallbackApplyEdits();
    }).attr({
        display: function display() {
            if (options.legendIndex === options.legendIndexMax) {
                return 'none';
            }
            return 'all';
        }
    });

    //Centers the legend polygons in the panel
    if (legendPolygon) {
        var legendPolygonWidth = legendPolygon.node().getBBox().width;
        legendPolygon.attr('transform', 'translate(' + (container.width - legendPolygonWidth) / 2 + ',' + (container.height + 105) + ')');
    }
}

/**getPlotData
 *
 * Returns only data values to be plotted; input is the data object
 * @params objectData, chart
 */
function getPlotData(objectData, chart) {
    var data = [];
    var objDataNew = JSON.parse(JSON.stringify(objectData)); //Copy of barData
    for (var i = 0; i < objDataNew.length; i++) {
        var group = [];
        for (var j = 0; j < chart.currentData.legendData.length; j++) {
            if (typeof objDataNew[i][chart.currentData.legendData[j]] !== 'undefined') {
                group.push(objDataNew[i][chart.currentData.legendData[j]]);
            }
        }
        data.push(group);
    }
    return data;
}

/**getPosCalculations
 *Holds the logic for positioning all bars on a bar chart (depends on toolData)
 *
 * @params svg, barData, options, xAxisData, yAxisData, container
 * @returns {{}}
 */
function getPosCalculations(barData, options, xAxisData, yAxisData, container, chart) {
    var x = jvCharts.getAxisScale('x', xAxisData, container, options),
        y = jvCharts.getAxisScale('y', yAxisData, container, options),
        scaleFactor = 1,
        data = [],
        size = Object.keys(chart.currentData.dataTable).length - 1,
        positionFunctions = {};

    for (var i = 0; i < barData.length; i++) {
        var val = [];
        for (var key in barData[i]) {
            if (barData[i].hasOwnProperty(key)) {
                val.push(barData[i][key]);
            }
        }
        data.push(val.slice(1, barData[i].length));
    }

    if (options.rotateAxis === true && options.stackToggle === true) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function () {
            return 0;
        };
        positionFunctions.startwidth = function () {
            return 0;
        };
        positionFunctions.startheight = function () {
            return y.bandwidth() * 0.95;
        };
        positionFunctions.x = function (d, i, j) {
            var increment = 0; //Move the x up by the values that come before it
            for (var k = i - 1; k >= 0; k--) {
                if (!isNaN(j[k].__data__)) {
                    increment += j[k].__data__;
                }
            }
            return x(increment) === 0 ? 1 : x(increment);
        };
        positionFunctions.y = function () {
            return 0;
        };
        positionFunctions.width = function (d) {
            return Math.abs(x(0) - x(d));
        };
        positionFunctions.height = function () {
            return y.bandwidth() * 0.95;
        };
    } else if (options.rotateAxis === true && options.stackToggle === false) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function (d, i) {
            return y.bandwidth() / size * i;
        };
        positionFunctions.startwidth = function () {
            return 0;
        };
        positionFunctions.startheight = function (d) {
            return y.bandwidth() / size * 0.95 * scaleFactor;
        };
        positionFunctions.x = function (d) {
            return x(0) - x(d) > 0 ? x(d) : x(0);
        };
        positionFunctions.y = function (d, i) {
            return y.bandwidth() / size * i;
        };
        positionFunctions.width = function (d) {
            return Math.abs(x(0) - x(d));
        };
        positionFunctions.height = function () {
            return y.bandwidth() / size * 0.95 * scaleFactor;
        };
    } else if (options.rotateAxis === false && options.stackToggle === true) {
        positionFunctions.startx = function () {
            return 0;
        };
        positionFunctions.starty = function () {
            return container.height;
        };
        positionFunctions.startwidth = function () {
            return x.bandwidth() * 0.95 * scaleFactor;
        };
        positionFunctions.startheight = function () {
            return 0;
        };
        positionFunctions.x = function () {
            return 0;
        };
        positionFunctions.y = function (d, i, j) {
            var increment = 0; //Move the y up by the values that come before it
            for (var k = i - 1; k >= 0; k--) {
                if (!isNaN(j[k].__data__)) {
                    increment += j[k].__data__;
                }
            }
            return y(parseFloat(d) + increment);
        };
        positionFunctions.width = function () {
            return x.bandwidth() * 0.95 * scaleFactor;
        };
        positionFunctions.height = function (d) {
            return container.height - y(d);
        };
    } else if (options.rotateAxis === false && options.stackToggle === false) {
        positionFunctions.startx = function (d, i) {
            return x.bandwidth() / size * i;
        };
        positionFunctions.starty = function () {
            return container.height;
        };
        positionFunctions.startwidth = function () {
            return x.bandwidth() / size * 0.95;
        };
        positionFunctions.startheight = function () {
            return 0;
        };
        positionFunctions.x = function (d, i) {
            return x.bandwidth() / size * i;
        };
        positionFunctions.y = function (d) {
            return y(0) - y(d) > 0 ? y(d) : y(0);
        };
        positionFunctions.width = function () {
            return x.bandwidth() / size * 0.95;
        };
        positionFunctions.height = function (d) {
            return Math.abs(y(0) - y(d));
        };
    }
    return positionFunctions;
}

/**getColors
 *
 * gets the colors to apply to the specific chart
 * @params colorObj, index, label
 * @returns {{}}
 */
function getColors(colorObj, paramIndex, label) {
    var index = paramIndex;

    //logic to return the color if the colorObj passed in
    //is an object with the label being the key
    if (typeof label !== 'undefined' && colorObj.hasOwnProperty(label) && colorObj[label]) {
        return colorObj[label];
    }

    var cleanedColors = [];

    if (!Array.isArray(colorObj)) {
        cleanedColors = [];
        for (var k in colorObj) {
            if (colorObj.hasOwnProperty(k)) {
                if (colorObj[k]) {
                    cleanedColors.push(colorObj[k]);
                }
            }
        }
    } else {
        cleanedColors = colorObj;
    }

    //logic to return a repeating set of colors assuming that
    //the user changed data (ex: flip series on bar chart)
    if (!cleanedColors[index]) {
        while (index > cleanedColors.length - 1) {
            index = index - cleanedColors.length;
        }
    }
    return cleanedColors[index];
}

function getAxisScale(whichAxis, axisData, container, padding, options) {
    var leftPadding = 0.4,
        rightPadding = 0.2;
    if (padding === 'no-padding') {
        leftPadding = 0;
        rightPadding = 0;
    }
    var axisScale, axis;

    whichAxis === 'x' ? axis = container.width : axis = container.height;

    if (axisData.dataType === 'DATE') {
        for (var i = 0; i < axisData.values.length; i++) {
            axisData.values[i] = new Date(axisData.values[i]);
        }

        var maxDate = Math.max.apply(null, axisData.values);
        var minDate = Math.min.apply(null, axisData.values);

        axisScale = d3.scaleTime().domain([new Date(minDate), new Date(maxDate)]).rangeRound([0, axis]);
    } else if (axisData.dataType === 'STRING') {
        axisScale = d3.scaleBand().domain(axisData.values).range([0, axis]).paddingInner(leftPadding).paddingOuter(rightPadding);
    } else if (axisData.dataType === 'NUMBER') {
        //axisScale = d3.scaleBand().domain([min, max]).rangeRound([0, axis]);
        var domain;
        if (options != null && (typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object' && options.hasOwnProperty('xReversed') && options.hasOwnProperty('yReversed')) {
            if (options.xReversed && whichAxis === 'x' || whichAxis === 'y' && !options.yReversed) {
                domain = [axisData.max, axisData.min];
            }
            if (options.yReversed && whichAxis === 'y' || whichAxis === 'x' && !options.xReversed) {
                domain = [axisData.min, axisData.max];
            }
        } else {
            whichAxis === 'x' ? domain = [axisData.min, axisData.max] : domain = [axisData.max, axisData.min];
        }

        if (!!options && options.hasOwnProperty('axisType') && options.axisType === 'Logarithmic') {
            domain[1] = 0.1;
            axisScale = d3.scaleLog().base(10).domain(domain).rangeRound([0, axis]);
        } else {
            axisScale = d3.scaleLinear().domain(domain).rangeRound([0, axis]);
        }
    } else {
        console.error('Axis is not a valid data type');
    }
    return axisScale;
}

/**getXScale
 *
 * get the scale for the x axis
 * @params xAxisData, container, padding
 * @returns {{}}
 */
function getXScale(xAxisData, container, padding) {
    var xAxisScale;
    var leftPadding = 0.4,
        rightPadding = 0.2;
    if (padding === 'no-padding') {
        leftPadding = 0;
        rightPadding = 0;
    }

    //check if values length is greater than two incase the labels are all numbers. if it is a linear scale then there will only be a min and max
    if (xAxisData.dataType === 'DATE') {
        for (var i = 0; i < xAxisData.values.length; i++) {
            xAxisData.values[i] = new Date(xAxisData.values[i]);
        }

        var maxDate = Math.max.apply(null, xAxisData.values);
        var minDate = Math.min.apply(null, xAxisData.values);

        xAxisScale = d3.time.scale().domain([new Date(minDate), new Date(maxDate)]).rangeRound([0, container.width]);
    } else if (xAxisData.dataType === 'STRING' || xAxisData.values.length > 2) {
        xAxisScale = d3.scaleBand().domain(xAxisData.values).range([0, container.width]).paddingInner(leftPadding).paddingOuter(rightPadding);
    } else if (xAxisData.dataType === 'NUMBER') {
        var max = xAxisData.values[xAxisData.values.length - 1];
        var min = xAxisData.values[0];

        xAxisScale = d3.scaleBand().domain([min, max]).rangeRound([0, container.width]);
    }
    return xAxisScale;
}

/**getYScale
 *
 * gets the scale for the y axis
 * @params yAxisData, container, padding
 * @returns {{}}
 */
function getYScale(yAxisData, container) {
    var yAxisScale;

    if (yAxisData.dataType === 'STRING') {
        yAxisScale = d3.scaleOrdinal().domain(yAxisData.values).range([0, container.height]);
    } else if (yAxisData.dataType === 'NUMBER') {
        var max = yAxisData.values[yAxisData.values.length - 1];
        var min = yAxisData.values[0];
        yAxisScale = d3.scaleLinear().domain([max, min]).rangeRound([0, container.height]);
    }
    return yAxisScale;
}

/************************************************ Data functions ******************************************************/

/**
 * @function
 * @param {string} label - The field that is checked for type
 * @param {Object} dataTableKeys - Object that contains the data type for each column of data
 */
function getDataTypeFromKeys(label, dataTableKeys) {
    var type;

    for (var i = 0; i < dataTableKeys.length; i++) {
        //Replace underscores with spaces
        if (dataTableKeys[i].varKey.replace(/_/g, ' ') === label.replace(/_/g, ' ')) {
            if (dataTableKeys[i].hasOwnProperty('type')) {
                type = dataTableKeys[i].type;
                if (type === 'STRING') {
                    type = 'STRING';
                } else if (type === 'DATE') {
                    type = 'DATE';
                } else if (type === 'NUMBER') {
                    type = 'NUMBER';
                } else {
                    type = 'NUMBER';
                }
                break;
            }
        }
    }
    return type;
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label') {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}

/**setChartColors
 *  cleans incoming colors for consistency
 *
 * @params colorArray, legendData
 * @returns object with colors
 */

function setChartColors(toolData, legendData, defaultColorArray) {
    //function handles 3 color inputs
    //toolData as an array in toolData
    //toolData as an object
    //toolData as 'none'
    //any other case will result in using defaultColorArray

    var colors = {},
        usedColors = [],
        unaccountedLegendElements = [];

    //toolData is array
    if (Array.isArray(toolData)) {
        if (toolData.length > 0) {
            colors = createColorsWithDefault(legendData, toolData);
        } else {
            colors = createColorsWithDefault(legendData, defaultColorArray);
        }
    } else if (toolData === Object(toolData)) {
        for (var i = 0; i < legendData.length; i++) {
            var obj = legendData[i];
            if (toolData.hasOwnProperty(obj)) {
                usedColors.push(toolData[obj]);
            } else {
                unaccountedLegendElements.push(legendData[i]);
            }
        }
        //check if object has desired keys
        if (usedColors.length === legendData.length) {
            colors = toolData;
        } else if (usedColors.length > 0) {
            var toolDataAsArray = Object.values(toolData);
            if (toolDataAsArray.length > legendData.length) {
                colors = createColorsWithDefault(legendData, toolDataAsArray);
            } else {
                colors = createColorsWithDefault(legendData, defaultColorArray);
            }
        } else {
            var toolDataAsArray = Object.values(toolData);
            if (toolDataAsArray.length > legendData.length) {
                colors = createColorsWithDefault(legendData, toolDataAsArray);
            } else {
                colors = createColorsWithDefault(legendData, defaultColorArray);
            }
        }
    } else {
        colors = createColorsWithDefault(legendData, defaultColorArray);
    }

    return colors;
}

function createColorsWithDefault(legendData, colors) {
    var mappedColors = {},
        count = 0;
    for (var i = 0; i < legendData.length; i++) {
        if (count > colors.length - 1) {
            count = 0;
        }
        mappedColors[legendData[i]] = colors[count];
        count++;
    }
    return mappedColors;
}

/**cleanToolData
 *  cleans incoming toolData for consistency
 *
 * @param toolData
 * @returns object with tooldata
 */
function cleanToolData(options) {
    var data = {};
    if (options) {
        data = options;
    }
    if (!data.hasOwnProperty('rotateAxis')) {
        data.rotateAxis = false;
    }
    if (data.hasOwnProperty('stackToggle')) {
        if (data.stackToggle === 'stack-data') {
            data.stackToggle = true;
        } else {
            data.stackToggle = false;
        }
    } else {
        data.stackToggle = false;
    }
    if (data.hasOwnProperty('colors')) {
        data.color = data.colors;
    }
    if (!data.hasOwnProperty('thresholds')) {
        data.thresholds = [];
    }
    return data;
}

function getMaxWidthForAxisData(axis, axisData, options, dimensions, margin, chartDiv, type) {
    var maxAxisText = '',
        formatType;
    //Dynamic left margin for charts with y axis
    if (options.rotateAxis) {
        //get length of longest text label and make the axis based off that
        var maxString = '',
            height = parseInt(dimensions.height) - margin.top - margin.bottom;

        //check if labels should be shown
        if (height !== 0 && height / axisData.values.length < parseInt(options.fontSize)) {
            axisData.hideValues = true;
        } else {
            for (var i = 0; i < axisData.values.length; i++) {
                var currentStr = axisData.values[i].toString();
                if (currentStr.length > maxString.length) {
                    maxString = currentStr;
                }
            }
            maxAxisText = maxString;
        }
    } else if (!!options.yLabelFormat || !!options.xLabelFormat) {
        var labelFormat = options.yLabelFormat;
        if (axis === 'x') {
            labelFormat = options.xLabelFormat;
        }

        formatType = jvFormatValueType(axisData.values);
        var expression = getFormatExpression(labelFormat);
        if (expression !== '') {
            maxAxisText = expression(axisData.max);
        } else {
            maxAxisText = jvFormatValue(axisData.max);
        }
    } else {
        formatType = jvFormatValueType(axisData.values);
        if (!axisData.hasOwnProperty('max')) {
            var maxLength = 0;
            for (var i = 0; i < axisData.values.length; i++) {
                if (axisData.values[i].length > maxLength) {
                    maxLength = axisData.values[i].length;
                    maxAxisText = axisData.values[i];
                }
            }
        } else {
            maxAxisText = jvFormatValue(axisData.max, formatType);
        }
    }

    if (type === 'heatmap') {
        //also need to check width of label
        if (maxAxisText.length < axisData.label.length + 5) {
            //need added space
            if (axis === 'x') {
                maxAxisText = axisData.label;
            } else {
                maxAxisText = axisData.label + 'Extra';
            }
        }
    }

    //Create dummy svg to place max sized text element on
    var dummySVG = chartDiv.append('svg').attr('class', 'dummy-svg');

    //Create dummy text element
    var axisDummy = dummySVG.append('text').attr('font-size', function () {
        if (axis === 'y' && options.yLabelFontSize !== 'none') {
            return options.yLabelFontSize;
        }
        if (axis === 'x' && options.xLabelFontSize !== 'none') {
            return options.xLabelFontSize;
        }
        return options.fontSize;
    }).attr('x', 0).attr('y', 0).text(maxAxisText);

    //Calculate the width of the dummy text
    var width = axisDummy.node().getBBox().width;
    //Remove the svg and text element
    chartDiv.select('.dummy-svg').remove();
    return width;
}

function values(object, dataTableAlign, type) {
    var valuesArray = [];

    if (type === 'bar' || type === 'pie' || type === 'line' || type === 'area') {
        //for (var key in object) {
        for (var i = 1; i < _.keys(dataTableAlign).length; i++) {
            if (dataTableAlign.hasOwnProperty('value ' + i)) {
                if (object[dataTableAlign['value ' + i]] != null) {
                    //!= checks for null
                    valuesArray.push(object[dataTableAlign['value ' + i]]);
                }
            }
        }
    } else {
        for (var key in object) {
            if (object.hasOwnProperty(key)) {
                valuesArray.push(object[key]);
            }
        }
    }
    return valuesArray;
}
/**getYScale
 *
 * gets the scale for the y axis
 * @params yAxisData, container, padding
 * @returns {{}}
 */
function getYScale(yAxisData, container, padding, yReversed) {
    var yAxisScale;
    var leftPadding = 0.4,
        rightPadding = 0.2;
    if (padding === 'no-padding') {
        leftPadding = 0;
        rightPadding = 0;
    }

    if (yAxisData.dataType === 'STRING') {
        yAxisScale = d3.scale.ordinal().domain(yAxisData.values).rangePoints([0, container.height]).rangeRoundBands([0, container.height], leftPadding, rightPadding);
    } else if (yAxisData.dataType === 'NUMBER') {
        var max = yAxisData.values[yAxisData.values.length - 1];
        var min = yAxisData.values[0];
        if (yReversed) {
            yAxisScale = d3.scaleLinear().domain([max, min]).rangeRound([container.height, 0]);
        } else {
            yAxisScale = d3.scaleLinear().domain([max, min]).rangeRound([0, container.height]);
        }
    }
    return yAxisScale;
}
/**getZScale
 *
 * gets the scale for the z axis
 * @params zAxisData, container, padding
 * @returns {{}}
 */
function getZScale(zAxisData, container, options) {
    var zAxisScale;

    zAxisScale = d3.scaleLinear().domain([d3.min(zAxisData.values), d3.max(zAxisData.values)]).rangeRound([options.NODE_MIN_SIZE, options.NODE_MAX_SIZE]).nice();
    return zAxisScale;
}

/**generateEventGroups
 *
 *
 * @params chartContainer, barData, chart
 */
function generateEventGroups(chartContainer, barData, chart) {
    var container = chart.config.container,
        options = chart.options,
        dataToPlot = jvCharts.getPlotData(barData, chart),
        eventGroups;

    //Invisible rectangles on screen that represent bar groups. Used to show/hide tool tips on hover
    eventGroups = chartContainer.data(dataToPlot).enter().append('rect').attr('class', 'event-rect').attr('x', function (d, i) {
        //sets the x position of the bar)
        return options.rotateAxis ? 0 : container.width / barData.length * i;
    }).attr('y', function (d, i) {
        //sets the y position of the bar
        return options.rotateAxis ? container.height / barData.length * i : 0;
    }).attr('width', function () {
        //sets the x position of the bar)
        return options.rotateAxis ? container.width : container.width / barData.length;
    }).attr('height', function () {
        //sets the y position of the bar
        return options.rotateAxis ? container.height / barData.length : container.height;
    }).attr('fill', 'transparent').attr('class', function (d, i) {
        return 'event-rect editable-bar bar-col-' + String(barData[i][chart.currentData.dataTable.label]).replace(/\s/g, '_').replace(/\./g, '<dot>');
    });

    return eventGroups;
}

function generateThresholdLegend(chart) {
    var svg = chart.svg;

    var colorLegendData = [];
    if (chart.options.thresholds !== 'none') {
        for (var j = 0; j < Object.keys(chart.options.thresholds).length; j++) {
            colorLegendData.push(chart.options.thresholds[j].thresholdName);
        }
    }

    var gLegend = svg.append('g').attr('class', 'thresholdLegendContainer');

    var legend = gLegend.selectAll('.thresholdLegend').data(colorLegendData).enter().append('g').attr('class', 'thresholdLegend').attr('transform', function (d, i) {
        var height = 19;
        var offset = 19 * colorLegendData.length / 2;
        var horz = -2 * 12;
        var vert = i * height - offset;
        return 'translate(' + horz + ',' + vert + ')';
    });

    legend.append('rect').attr('width', 12).attr('height', 12).style('fill', function (d, i) {
        return chart.options.thresholds[i].thresholdColor;
    });

    legend.append('text').attr('x', 24).attr('y', 8).attr('font-size', '.75em').text(function (d) {
        return d;
    });

    //Centers the legend in the panel
    if (gLegend) {
        var legendWidth = gLegend.node().getBBox().width;
        gLegend.attr('transform', 'translate(' + (chart.config.container.width - legendWidth) + ',' + 10 * colorLegendData.length + ')');
    }
}

function attachClickEventsToLegend(chart, legendElements, drawFunc) {
    //Adding the click event to legend rectangles for toggling on/off

    legendElements.on('click', function () {
        var selectedRect = d3.select(this);
        if (selectedRect._groups[0][0].attributes.opacity.value !== '0.2') {
            selectedRect.attr('opacity', '0.2');
        } else {
            selectedRect.attr('opacity', '1');
        }

        //Gets the headers of the data to be drawn
        var dataHeaders = updateDataFromLegend(legendElements._groups);

        //Sets the legendData to the updated headers
        if (chart.options.seriesFlipped) {
            chart.options.flippedLegendHeaders = dataHeaders;
        } else {
            chart.options.legendHeaders = dataHeaders;
        }

        //Plots the data
        if (chart.options.seriesFlipped) {
            chart[drawFunc](chart.flippedData);
        } else {
            chart[drawFunc](chart.data);
        }
    });
}

/**generateVerticalLegendElements
 *
 * Creates the legend elements--rectangles and labels
 * @params chart, legendData, drawFunc
 */
function generateVerticalLegendElements(chart, legendData, drawFunc) {
    var svg = chart.svg,
        options = chart.options,
        legend,
        legendDataLength = legendData.length,
        legendElementToggleArray;

    options.gridSize = 20;
    options.legendMax = 9;

    if (!options.legendIndex) {
        options.legendIndex = 0;
    }

    if (!options.legendIndexMax) {
        options.legendIndexMax = Math.floor(legendDataLength / options.legendMax - 0.01);
    }

    //Check to see if legend element toggle array needs to be set
    if (options.legendIndexMax >= 0) {
        if (!options.legendHeaders) {
            options.legendHeaders = JSON.parse(JSON.stringify(legendData));
        }

        legendElementToggleArray = getLegendElementToggleArray(options.legendHeaders, legendData);
    }

    legend = svg.append('g').attr('class', 'legend').attr('transform', 'translate(' + 18 + ',' + 20 + ')');

    //Adding colored rectangles to the legend
    var legendRectangles = legend.selectAll('rect').data(legendData).enter().append('rect').attr('class', 'legendRect').attr('x', '3').attr('y', function (d, i) {
        return options.gridSize * (i % options.legendMax) * 1.1;
    }).attr('width', options.gridSize).attr('height', options.gridSize).attr('fill', function (d, i) {
        if (!legendElementToggleArray && !chart.options.seriesFlipped || chart.options.seriesFlipped && !legendElementToggleArray) {
            return getColors(options.color, i, legendData[i]);
        }
        if (!chart.options.seriesFlipped && legendElementToggleArray[i].toggle === true || chart.options.seriesFlipped && legendElementToggleArray[i].toggle === true) {
            return getColors(options.color, i, legendData[i]);
        }
        return '#FFFFFF';
    }).attr('display', function (d, i) {
        if (i >= options.legendIndex * options.legendMax && i <= options.legendIndex * options.legendMax + (options.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).attr('opacity', '1');

    //Adding text labels for each rectangle in legend
    var legendText = legend.selectAll('text').data(legendData).enter().append('text').attr('class', function (d, i) {
        return 'legendText editable editable-text editable-content editable-legend-' + i;
    }).attr('x', options.gridSize + 7).attr('y', function (d, i) {
        return options.gridSize * (i % options.legendMax) * 1.1 + 10;
    }).attr('text-anchor', 'start').attr('dy', '0.35em') //Vertically align with node
    .attr('fill', 'black').attr('font-size', chart.options.fontSize).attr('display', function (d, i) {
        if (i >= options.legendIndex * options.legendMax && i <= options.legendIndex * options.legendMax + (options.legendMax - 1)) {
            return 'all';
        }
        return 'none';
    }).text(function (d, i) {
        var elementName = legendData[i];
        if (elementName.length > 20) {
            return elementName.substring(0, 19) + '...';
        }
        return elementName;
    });

    //Adding info box to legend elements when hovering over
    legendText.data(legendData).append('svg:title').text(function (d) {
        return d;
    });

    //Only create carousel if the number of elements exceeds one legend "page"
    if (options.legendIndexMax > 0) {
        createVerticalCarousel(chart, legendData, drawFunc);
    }

    return legendRectangles;
}

/**createVerticalCarousel
 *
 * Draws the vertical legend carousel
 * @params chart, legendData, drawFunc
 */
function createVerticalCarousel(chart, legendData, drawFunc) {
    var svg = chart.svg,
        options = chart.options,
        legendPolygon;

    //Adding carousel to legend
    svg.selectAll('.legend-carousel').remove();
    svg.selectAll('#legend-text-index').remove();

    legendPolygon = svg.append('g').attr('class', 'legend-carousel');

    //Creates left navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'leftChevron').attr('class', 'pointer-cursor').style('fill', '#c2c2d6').attr('transform', 'translate(0,' + (options.legendMax * options.gridSize + 50) + ')').attr('points', '0,7.5, 15,0, 15,15').on('click', function () {
        if (options.legendIndex >= 1) {
            options.legendIndex--;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateVerticalLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
        chart.localCallbackApplyEdits();
    }).attr({
        display: function display() {
            if (options.legendIndex === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates page number for carousel navigation
    legendPolygon.append('text').attr('id', 'legend-text-index').attr('x', 35).attr('y', 242.5).style('text-anchor', 'start').style('font-size', chart.options.fontSize).text(function () {
        return options.legendIndex + ' / ' + options.legendIndexMax;
    }).attr({
        display: function display() {
            if (options.legendIndexMax === 0) {
                return 'none';
            }
            return 'all';
        }
    });

    //Creates right navigation arrow for carousel
    legendPolygon.append('polygon').attr('id', 'rightChevron').attr('class', 'pointer-cursor').style('fill', '#c2c2d6').attr('transform', 'translate(85,' + (options.legendMax * options.gridSize + 50) + ')').attr('points', '15,7.5, 0,0, 0,15').on('click', function () {
        if (options.legendIndex < options.legendIndexMax) {
            options.legendIndex++;
        }
        svg.selectAll('.legend').remove();
        var legendElements = generateVerticalLegendElements(chart, legendData, drawFunc);
        attachClickEventsToLegend(chart, legendElements, drawFunc, legendData);
    }).attr({
        display: function display() {
            if (options.legendIndex === options.legendIndexMax) {
                return 'none';
            }
            return 'all';
        }
    });
}

//Bind functions to prototype or jvCharts object
jvCharts.getColors = getColors;
jvCharts.setBarLineLegendData = setBarLineLegendData;
jvCharts.createColorsWithDefault = createColorsWithDefault;
jvCharts.values = values;
jvCharts.getYScale = getYScale;
jvCharts.getZScale = getZScale;
jvCharts.getLegendElementToggleArray = getLegendElementToggleArray;
jvCharts.generateLegendElements = generateLegendElements;
jvCharts.updateDataFromLegend = updateDataFromLegend;
jvCharts.createCarousel = createCarousel;
jvCharts.generateThresholdLegend = generateThresholdLegend;
jvCharts.attachClickEventsToLegend = attachClickEventsToLegend;
jvCharts.generateVerticalLegendElements = generateVerticalLegendElements;
jvCharts.createVerticalCarousel = createVerticalCarousel;
jvCharts.getToggledData = getToggledData;
jvCharts.getPlotData = getPlotData;
jvCharts.getPosCalculations = getPosCalculations;
jvCharts.getXScale = getXScale;
jvCharts.getYScale = getYScale;
jvCharts.setBarLineLegendData = setBarLineLegendData;
jvCharts.jvFormatValue = jvFormatValue;
jvCharts.getFormatExpression = getFormatExpression;
jvCharts.generateEventGroups = generateEventGroups;
jvCharts.jvFormatValueType = jvFormatValueType;
jvCharts.getAxisScale = getAxisScale;
jvCharts.setChartColors = setChartColors;
jvCharts.getDataTypeFromKeys = getDataTypeFromKeys;
jvCharts.cleanToolData = cleanToolData;

module.exports = jvCharts;

},{"./jvTip.js":7}],4:[function(require,module,exports){
"use strict";

/***  jvComment ***/
function jvComment(configObj) {
    "use strict";

    var commentObj = this;
    commentObj.chartDiv = configObj.chartDiv;
    commentObj.showComments = false;
    commentObj.comments = configObj.comments ? configObj.comments : {};
    commentObj.disabled = false;
    commentObj.drawCommentNodes();
    commentObj.toggleCommentMode = function (toggleBool) {
        var entireSvg = commentObj.chartDiv.select("svg");
        if (toggleBool) {
            entireSvg.on('dblclick', function (d) {
                commentObj.makeComment(this);
            });
            entireSvg.on('click', false);
        } else {
            commentObj.removeComment();
        }
    };
    commentObj.saveCallbackFunction = configObj.saveCallbackFunction;
    commentObj.getMode = configObj.getMode;
}
/********************************************* All Comment Mode Functions **************************************************/

jvComment.prototype.makeComment = function (event) {
    var commentObj = this;

    commentObj.showComments = false;
    commentObj.chartDiv.selectAll(".commentbox-readonly").remove();

    if (commentObj.chartDiv.selectAll(".commentbox")._groups[0].length === 0 && commentObj.chartDiv.selectAll(".commentbox-edit")._groups[0].length === 0) {
        var x = parseInt(d3.mouse(event)[0]);
        var y = parseInt(d3.mouse(event)[1]);

        //calculate position of overlay div
        var commentHeight = 145,
            commentWidth = 200,
            position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);

        commentObj.chartDiv.append('div').attr("class", "commentbox").attr("id", "commentbox").style("opacity", 1).html("<div class='title'><b>Add New Comment</b></div>" + "<textarea placeholder='Enter comment...' form='commentform' style='resize:none' class='comment-textarea' rows='4' cols='27' name='comment' id = 'textarea1'></textarea>" + "<br><button class='commentbox-close' id ='cancel'><i class='fa fa-close'></i></button>" + "<button class='smss-btn commentbox-submit' id = 'submit'>Submit Comment</button>").style("position", "absolute").style("left", position.x + "px").style("top", position.y + "px");

        //Autofocus on the text area
        document.getElementById("textarea1").focus();

        commentObj.chartDiv.selectAll(".commentbox").select("#cancel").on("click.delete", function () {
            commentObj.removeComment();
        });

        var commentType = 'svgMain';

        commentObj.chartDiv.selectAll(".commentbox").select("#submit").on("click.save", function () {
            var commentText = commentObj.chartDiv.select("#commentbox").select("#textarea1")._groups[0][0].value,
                newCommentObj = {
                'commentText': commentText,
                'groupID': 0,
                'type': commentType,
                'binding': {
                    'x': x,
                    'y': y,
                    'xChartArea': commentObj.chartDiv._groups[0][0].clientWidth,
                    'yChartArea': commentObj.chartDiv._groups[0][0].clientHeight,
                    'currentX': x,
                    'currentY': y
                }
            };
            commentObj.chartDiv.select(".commentbox").remove();
            if (isNaN(commentObj.comments.maxId)) {
                commentObj.comments.maxId = -1;
            }
            commentObj.saveCallbackFunction(newCommentObj, ++commentObj.comments.maxId, 'add');
        });
    }
};

jvComment.prototype.removeComment = function () {
    var commentObj = this;
    var chartDiv = commentObj.chartDiv;
    chartDiv.selectAll('.commentbox').remove();
};

jvComment.prototype.showAllComments = function () {
    var commentObj = this;

    //Remove any comment boxes if comments are being toggled
    commentObj.chartDiv.selectAll(".commentbox").remove();
    commentObj.chartDiv.selectAll(".commentbox-edit").remove();

    if (commentObj.showComments === false) {
        for (var i in commentObj.comments.list) {

            if (!commentObj.comments.list[i]['binding']) {
                console.log("Comment is in old format, will not display");
                return;
            }

            var value = commentObj.comments.list[i];

            var chartAreaWidth = commentObj.chartDiv._groups[0][0].clientWidth;
            var chartAreaHeight = commentObj.chartDiv._groups[0][0].clientHeight;

            var x = commentObj.comments.list[i]['binding'].x / commentObj.comments.list[i]['binding'].xChartArea * chartAreaWidth;
            var y = commentObj.comments.list[i]['binding'].y / commentObj.comments.list[i]['binding'].yChartArea * chartAreaHeight;

            var commentText = value['commentText'];

            var commentHeight = 80,
                commentWidth = 185,
                position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);

            commentObj.chartDiv.append('div').attr("class", "commentbox-readonly").attr("id", "commentbox-readonly" + i).style("position", "absolute").style("opacity", 1)
            //.style("border", "1px solid black")
            .html("<textarea readonly style='resize:none' class='comment-textarea' rows='4' cols='27' name='comment'>" + commentText + "</textarea>").style("left", position.x + "px").style("top", position.y + "px");
        }
        commentObj.showComments = true;
        //chart.toolBar.select("#topBarButton"+chart.config.name+"showallcomments").select('button').classed('toggled', true);
    } else {
        commentObj.chartDiv.selectAll(".commentbox-readonly").remove();
        commentObj.showComments = false;
        //chart.toolBar.select("#topBarButton"+chart.config.name+"showallcomments").select('button').classed('toggled', false);
    }
};

jvComment.prototype.drawCommentNodes = function () {
    var commentObj = this;

    var comments = commentObj.comments.list;
    var chartDiv = commentObj.chartDiv;
    var svg = chartDiv.select("svg");

    svg.selectAll(".min-comment").remove();

    for (var i in comments) {

        if (typeof chartDiv._groups == 'undefined') {
            console.log("Comment data is in old format, will not display or chart div doesnt exist");
            return;
        }

        if (!comments[i]['binding'] || !chartDiv._groups[0][0]) {
            console.log("Comment data is in old format, will not display or chart div doesnt exist");
            return;
        }

        var chartAreaWidth = chartDiv._groups[0][0].clientWidth;
        var chartAreaHeight = chartDiv._groups[0][0].clientHeight;

        var x = comments[i]['binding'].x / comments[i]['binding'].xChartArea * chartAreaWidth;
        var y = comments[i]['binding'].y / comments[i]['binding'].yChartArea * chartAreaHeight;

        comments[i]['binding'].currentX = comments[i]['binding'].x / comments[i]['binding'].xChartArea * chartAreaWidth;
        comments[i]['binding'].currentY = comments[i]['binding'].y / comments[i]['binding'].yChartArea * chartAreaHeight;

        var commentNode = svg.append("text").attr("class", "min-comment").attr("id", "node" + i).attr("fill", "#e6e6e6").attr("x", x).attr("y", y).attr("font-family", "FontAwesome").attr("stroke", "darkgray").attr('font-size', function (d) {
            return '15px';
        }).text(function (d) {
            return "\uF0E5";
        }).attr("opacity", 1).on("dblclick.comment", function (node) {
            //Edit text or delete the comment
            if (chartDiv.selectAll(".commentbox-edit")._groups[0].length === 0 && chartDiv.selectAll(".commentbox")._groups[0].length === 0) {
                //No comments are open
                if (commentObj.getMode() === 'comment-mode') {
                    commentObj.showComments = false;
                    chartDiv.selectAll(".commentbox-readonly").remove();
                    var commentText = "";
                    var currentComment;

                    for (var j in commentObj.comments.list) {
                        if (Math.round(commentObj.comments.list[j]['binding'].currentX) === Math.round(this.x.baseVal[0].value)) {
                            if (Math.round(commentObj.comments.list[j]['binding'].currentY) === Math.round(this.y.baseVal[0].value)) {
                                commentText = commentObj.comments.list[j].commentText;
                                x = commentObj.comments.list[j]['binding'].currentX;
                                y = commentObj.comments.list[j]['binding'].currentY;
                                currentComment = j;
                            }
                        }
                    }
                    var commentHeight = 145,
                        commentWidth = 200,
                        position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);
                    chartDiv.append('div').attr("class", "commentbox-edit").style("opacity", 1).style("left", position.x + "px").style("top", position.y + "px").style("position", "absolute")
                    //.style("border", "1px solid black")
                    .html("<div class='title'><b>Edit Comment</b></div>" + "<textarea id='edit' style='resize:none' class='comment-textarea' rows='4' cols='27' name='comment'>" + commentText + "</textarea>" + "<br><button class='commentbox-close' id ='cancel-edit'><i class='fa fa-close'></i></button>" + "<button class='smss-btn' id ='delete'>Delete</button>" + "<button class='smss-btn' id = 'save'>Save</button>");

                    chartDiv.selectAll(".commentbox-edit").select("#delete").on("click.delete", function () {
                        chartDiv.select(".commentbox-edit").remove();
                        chartDiv.select(".commentbox-readonly").remove();
                        chartDiv.select("#node" + currentComment).attr("display", "none");

                        //redraw comment nodes with new indexes
                        commentObj.saveCallbackFunction(commentObj.comments.list[currentComment], currentComment, 'remove');
                    });

                    chartDiv.selectAll(".commentbox-edit").select("#save").on("click.save", function () {
                        var commentText = chartDiv.select(".commentbox-edit").select("#edit")._groups[0][0].value;
                        commentObj.comments.list[currentComment].commentText = commentText;
                        chartDiv.select(".commentbox-readonly").remove();
                        chartDiv.select(".commentbox-edit").remove();
                        commentObj.saveCallbackFunction(commentObj.comments.list[currentComment], currentComment, 'edit');
                    });

                    chartDiv.selectAll(".commentbox-edit").select("#cancel-edit").on("click.cancel-edit", function () {
                        chartDiv.select(".commentbox-readonly").remove();
                        chartDiv.select(".commentbox-edit").remove();
                    });
                } else {
                    return null;
                }
            }
        }).on("mouseenter.comment", function (d) {
            //Show hover over box when mouse enters node
            if (commentObj.showComments === false) {
                var commentText = "";

                for (var j in commentObj.comments.list) {
                    if (Math.round(commentObj.comments.list[j]['binding'].currentX) === Math.round(this.x.baseVal[0].value)) {
                        if (Math.round(commentObj.comments.list[j]['binding'].currentY) === Math.round(this.y.baseVal[0].value)) {
                            commentText = commentObj.comments.list[j]['commentText'];
                            x = commentObj.comments.list[j]['binding'].currentX;
                            y = commentObj.comments.list[j]['binding'].currentY;
                        }
                    }
                }

                var commentHeight = 80,
                    commentWidth = 185,
                    position = commentObj.overlayDivPosition(commentWidth, commentHeight, x, y);

                var commentDiv = chartDiv.append('div').attr("class", "commentbox-readonly").style("opacity", 1).style("position", "absolute")
                //.style("border", "1px solid black")
                .html("<textarea readonly rows='4' style='resize:none' cols='27' class='textarea' name='comment'>" + commentText + "</textarea>").style("left", position.x + "px").style("top", position.y + "px");
            }
        }).on("mouseout.comment", function (d) {
            //Remove hover over box when mouse moves away
            if (commentObj.showComments === false) {
                chartDiv.select(".commentbox-readonly").remove();
            }
        });
    }
};

/******************************* Utility functions **********************************************/

jvComment.prototype.overlayDivPosition = function (divWidth, divHeight, mouseX, mouseY) {
    var commentObj = this;
    var position = {};
    if (mouseX > parseInt(commentObj.chartDiv.style('width')) / 2) {
        position.x = mouseX - divWidth - 5;
    } else {
        position.x = mouseX + 10;
    }
    if (mouseY - divHeight - 10 > 0) {
        position.y = mouseY - divHeight - 10;
    } else {
        position.y = mouseY + 10;
    }
    return position;
};

module.exports = jvComment;

},{}],5:[function(require,module,exports){
'use strict';

/***  jvEdit ***/
function jvEdit(configObj) {
    "use strict";

    var editObj = this;
    editObj.chartDiv = configObj.chartDiv;
    editObj.editOptions = '';
    editObj.vizOptions = configObj.vizOptions ? configObj.vizOptions : {};
    editObj.fontSizeIncrement = 0;
    editObj.disabled = false;
    editObj.chartDiv.selectAll('.edit-div').remove();
    editObj.editDiv = editObj.chartDiv.append('div').attr('class', 'edit-div semoss-d3-tip absolute');
    editObj.applyAllEdits();
    editObj.saveVizOptions = configObj.saveVizOptionsFunction;
    editObj.toggleEditMode = function (toggleBool) {
        var entireSvg = editObj.chartDiv.select("svg");
        if (toggleBool) {
            entireSvg.selectAll(".event-rect").attr("display", "none");
            entireSvg.on('click', function () {
                //edit mode events
                //going to be mouseover to highlight options for whatever piece you hover over
                var classText = d3.select(d3.event.target).attr('class');
                if (classText) {
                    if (classText.indexOf('editable') >= 0) {
                        editObj.displayEdit(this, classText);
                    }
                }
            });
            entireSvg.selectAll('.editable').classed('pointer', true);
            entireSvg.on('dblclick', false);
        } else {
            editObj.removeEdit();
            entireSvg.selectAll('.editable').classed('pointer', false);
            entireSvg.selectAll(".event-rect").attr("display", "block");
        }
    };
}

/********************************************* All Edit Mode Functions **************************************************/

/** displayEdit
 *
 * Displays the edit div, grabbing it from the template
 *
 */
jvEdit.prototype.displayEdit = function (event, options) {
    var editObj = this;

    //return if you click on the same element twice, no need to display a second edit div if the current one is still open
    if (editObj.editOptions === options) {
        return;
    }
    editObj.editDiv.html('');
    editObj.editOptions = options;
    var mouseX = d3.mouse(event)[0],
        mouseY = d3.mouse(event)[1];

    //get the edit template html and then determine which pieces to show
    $.get('resources/js/jvCharts/src/editOptionsTemplate.html', function (data) {
        //assign html to editDiv (basically displays the div)
        editObj.editDiv.html(data);

        //optionValues - an array of strings.
        //      String is the id to the element in the editDiv form.
        //      This string contains the specific option that is being changed

        //itemToChange
        //      String that is the class of the svg element to be changed on the viz itself


        var optionValues = [],
            itemToChange = '',
            editOptionElement = editObj.editDiv.select("#edit-option-element");

        //if statements to determine which edit options to display
        if (options.indexOf('editable-yAxis') >= 0) {
            editOptionElement.html('&nbsp;for Y Axis');
            editOptionElement.style('visibility', 'visible');
            itemToChange = 'yAxis';
        } else if (options.indexOf('editable-xAxis') >= 0) {
            editOptionElement.html('&nbsp;for X Axis');
            editOptionElement.style('visibility', 'visible');
            itemToChange = 'xAxis';
        } else if (options.indexOf('yLabel') >= 0) {
            editOptionElement.html('&nbsp;for Y Label');
            editOptionElement.style('visibility', 'visible');
            itemToChange = 'yLabel';
        } else if (options.indexOf('xLabel') >= 0) {
            editOptionElement.html('&nbsp;for X Label');
            editOptionElement.style('visibility', 'visible');
            itemToChange = 'xLabel';
        } else if (options.indexOf('legendText') >= 0) {
            editOptionElement.html('&nbsp;for Legend Item');
            editOptionElement.style('visibility', 'visible');
            itemToChange = options.substring(options.indexOf('editable-legend-')).split(' ')[0];
        } else if (options.indexOf('editable-bar') >= 0) {
            editOptionElement.html('&nbsp;for Bar Chart');
            editOptionElement.style('visibility', 'visible');
            editObj.editDiv.select(".editable-bar").style('display', 'block');
            optionValues.push('editable-bar');
            itemToChange = options.substring(options.indexOf('bar-col-')).split(' ')[0];
        } else if (options.indexOf('editable-pie') >= 0) {
            editOptionElement.html('&nbsp;for Pie Slice');
            editOptionElement.style('visibility', 'visible');
            editObj.editDiv.select(".editable-pie").style('display', 'block');
            optionValues.push('editable-pie');
            itemToChange = options.substring(options.indexOf('pie-slice-')).split(' ')[0];
        } else if (options.indexOf('editable-scatter') >= 0) {
            editOptionElement.html('&nbsp;for Scatter Plot');
            editOptionElement.style('visibility', 'visible');
            editObj.editDiv.select(".editable-scatter").style('display', 'block');
            optionValues.push('editable-scatter');
            itemToChange = options.substring(options.indexOf('scatter-circle-')).split(' ')[0];
        } else if (options.indexOf('editable-svg') >= 0) {
            editOptionElement.html('&nbsp;for All Text');
            editOptionElement.style('visibility', 'visible');
            editObj.editDiv.select(".editable-text-size-buttons").style('display', 'block');
            //editObj.editDiv.select(".editable-default-and-apply").style('display', 'none');
            optionValues.push('editable-text-size');
            itemToChange = 'svg';
        } else {
            console.log("Still need to add option to display edit");
        }

        if (options.indexOf('editable-num') >= 0) {
            editObj.editDiv.select(".editable-num-format").style('display', 'block');
            optionValues.push('editable-num-format');
        }
        if (options.indexOf('editable-text') >= 0) {
            editObj.editDiv.select(".editable-text-color").style('display', 'block');
            optionValues.push('editable-text-color');
            editObj.editDiv.select(".editable-text-size").style('display', 'block');
            optionValues.push('editable-text-size');
        }
        if (options.indexOf('editable-content') >= 0) {
            editObj.editDiv.select(".editable-content").style('display', 'block');
            optionValues.push('editable-content');
        }

        //populate edit div with initial values
        if (editObj.vizOptions[itemToChange]) {
            populateSelectionsEditMode(editObj.editDiv, editObj.vizOptions[itemToChange]);
        }
        editObj.editDiv.style('display', 'block').style("left", 0 + 'px').style("top", 0 + 'px');

        //calculate position of overlay div
        var editHeight = parseFloat(editObj.editDiv.style('height')),
            editWidth = parseFloat(editObj.editDiv.style('width')),
            position = editObj.overlayDivPosition(editWidth, editHeight, mouseX, mouseY);

        //show the new edit div
        editObj.editDiv.style("left", position.x + 'px').style("top", position.y + 'px');

        //add submit, default, and exit listeners to the div
        editObj.editDiv.select('#submitEditMode').on("click", function () {
            submitEditMode(editObj, optionValues, itemToChange);
            editObj.removeEdit();
        });
        editObj.editDiv.select('#submitEditModeDefault').on("click", function () {
            submitEditMode(editObj, optionValues, itemToChange, true);
            editObj.removeEdit();
        });
        editObj.editDiv.select('#exitEditMode').on("click", function () {
            editObj.removeEdit();
        });
        editObj.fontSizeIncrement = 0;
        //Adding click events for increase/decrease font size buttons
        editObj.editDiv.select("#increaseFontSize").on("click", function () {
            editObj.increaseFontSize();
        });
        editObj.editDiv.select("#decreaseFontSize").on("click", function () {
            editObj.decreaseFontSize();
        });
    });
};

/** increaseFontSize
 *
 * Increases the font size by 1 when increased via edit options for all text
 *
 */
jvEdit.prototype.increaseFontSize = function () {
    var editObj = this,
        fontIncrement = 1,
        maxSize = 28;
    if (editObj.fontSizeIncrement < maxSize) {
        editObj.changeFontSize(fontIncrement);
        editObj.fontSizeIncrement++;
        editObj.vizOptions["text"] = { 'editable-text-increment': editObj.fontSizeIncrement };
    }
};

/** decreaseFontSize
 *
 * Decreases the font size by 1 when decreased via edit options for all text
 *
 */
jvEdit.prototype.decreaseFontSize = function () {
    var editObj = this,
        fontDecrement = -1,
        minSize = -12;
    //min size is neg 12 because default size is 12px on our charts
    if (editObj.fontSizeIncrement > minSize) {
        editObj.changeFontSize(fontDecrement);
        editObj.fontSizeIncrement--;
        editObj.vizOptions["text"] = { 'editable-text-increment': editObj.fontSizeIncrement };
    }
};

/** changeFontSize
 *
 * Increases or decreases font size by a certain increment
 *
 */
jvEdit.prototype.changeFontSize = function (increment) {
    var editObj = this,
        newSize;

    editObj.chartDiv.selectAll('text').each(function (d, i) {
        var thisDiv = this,
            textSize = 12;
        if (thisDiv.getAttribute('font-size')) {
            textSize = thisDiv.getAttribute('font-size');
        }
        newSize = parseInt(textSize) + increment;
        thisDiv.setAttribute('font-size', newSize);
    });
};

/** populateSelectionsEditMode
 *
 * Initially populates the editDiv if there are vizOptions
 *
 */
function populateSelectionsEditMode(editDiv, vizOptions) {
    for (var option in vizOptions) {
        if (vizOptions.hasOwnProperty(option)) {
            var selectedObject = editDiv.select('#' + option)._groups[0][0];
            //default color inputs to gray
            if (vizOptions[option] === 'default') {
                if (selectedObject.type === 'color') {
                    if (selectedObject.id.indexOf('text') > 0) {
                        selectedObject.value = '#000000';
                    } else {
                        selectedObject.value = '#aaaaaa';
                    }
                }
            } else {
                selectedObject.value = vizOptions[option];
            }
        }
    }
}

/** submitEditMode
 *
 *
 */
function submitEditMode(editObj, optionValues, itemToChange, defaultBtnClicked) {
    var optionArray = optionValues,
        selectedEditOptions = {},
        editValue,
        selectedObj;

    for (var i = 0; i < optionArray.length; i++) {
        if (optionArray[i].indexOf('editable-legend') > 0) {
            //change item to change for legend elements
            itemToChange = optionArray[i];
        }
        selectedObj = editObj.editDiv.select('#' + optionArray[i]);
        //see if selected object exists
        if (selectedObj && selectedObj._groups[0] && selectedObj._groups[0][0]) {
            editValue = selectedObj._groups[0][0].value;
            //get selected option from edit div
            if (optionArray[i] === 'editable-content' && editValue === '') {
                //dont add an empty string to the viz options for editable content
                break;
            }
            selectedEditOptions[optionArray[i]] = editValue;
            if (!selectedEditOptions[optionArray[i]] && optionArray[i].indexOf('content') < 0) {
                selectedEditOptions[optionArray[i]] = 'default';
            }
        }
    }

    if (defaultBtnClicked) {
        if (itemToChange === 'svg') {
            delete editObj.vizOptions['text'];
        }
        delete editObj.vizOptions[itemToChange];
    } else {
        editObj.vizOptions[itemToChange] = selectedEditOptions;
    }

    if (itemToChange === 'svg') {
        delete editObj.vizOptions['svg'];
    }

    //save vizOptions
    editObj.saveVizOptions(editObj.vizOptions);
}

jvEdit.prototype.applyEditMode = function (itemToChange, options) {
    var editObj = this;
    var object = editObj.chartDiv.select("." + itemToChange);
    var objectGroups = object._groups;
    var objectTagName = objectGroups[0][0] ? objectGroups[0][0].tagName.toLowerCase() : null;

    if (itemToChange === 'text') {
        //do something if it is all the text that is being changed
        object = editObj.chartDiv.selectAll("text");
    }

    //options by tagName
    if (objectTagName === 'g') {
        object = editObj.chartDiv.select("." + itemToChange).selectAll('text');
    } else if (objectTagName === 'rect') {
        if (options['editable-bar']) {
            object.attr('fill', options['editable-bar']);
        }
    } else if (objectTagName === 'circle') {
        if (options['editable-scatter']) {
            object.attr('fill', options['editable-scatter']);
        }
    } else if (objectTagName === 'path') {
        if (options['editable-pie']) {
            object.attr('fill', options['editable-pie']);
        }
    }

    //standard options
    //If a text increment exists, apply it based on the sign of the variable
    if (options.hasOwnProperty('editable-text-increment')) {
        editObj.changeFontSize(options['editable-text-increment']);
    }
    if (options.hasOwnProperty('editable-text-size')) {
        object.style('font-size', options['editable-text-size']);
    }
    if (options.hasOwnProperty('editable-text-color')) {
        object.style('fill', options['editable-text-color']);
    }
    if (options.hasOwnProperty('editable-num-format')) {
        var expression = getFormatExpression(options['editable-num-format']);
        object.transition().text(function (d) {
            if (!isNaN(d) && typeof expression === 'function') {
                return expression(d);
            }
            return d;
        });
    }
    if (options.hasOwnProperty('editable-content')) {
        if (options['editable-content'].length > 0) {
            object.html(options['editable-content']);
        }
    }
    editObj.removeEdit();
};

jvEdit.prototype.applyAllEdits = function () {
    var editObj = this;

    for (var option in editObj.vizOptions) {
        if (editObj.vizOptions.hasOwnProperty(option) && editObj.chartDiv.select(option)) {
            editObj.applyEditMode(option, editObj.vizOptions[option]);
        }
    }
};

jvEdit.prototype.removeEdit = function () {
    var editObj = this;
    if (editObj.editDiv) {
        editObj.editDiv.html('');
        editObj.editDiv.style('display', 'none');
    }
    editObj.editOptions = '';
};

/******************************* Utility functions **********************************************/

jvEdit.prototype.overlayDivPosition = function (divWidth, divHeight, mouseX, mouseY) {
    var editObj = this;
    var position = {};
    if (mouseX > parseInt(editObj.chartDiv.style('width')) / 2) {
        position.x = mouseX - divWidth;
    } else {
        position.x = mouseX;
    }
    if (mouseY - divHeight - 10 > 0) {
        position.y = mouseY - divHeight - 10;
    } else {
        position.y = mouseY + 10;
    }
    return position;
};

/** getFormatExpression
 *
 * @desc returns the d3 format expression for a given option
 * @params option
 * @returns string expression
 */
function getFormatExpression(option) {
    var expression = '';
    if (option === "currency") {
        expression = d3.format("$,");
    }
    if (option === "fixedCurrency") {
        expression = d3.format("($.2f");
    }
    if (option === "percent") {
        var p = Math.max(0, d3.precisionFixed(0.05) - 2);
        expression = d3.format("." + p + "%");
    }
    if (option === "millions") {
        var p = d3.precisionPrefix(1e5, 1.3e6);
        expression = d3.formatPrefix("." + p, 1.3e6);
    }
    if (option === 'commas') {
        expression = d3.format(",.0f");
    }
    if (option === 'none' || option === '') {
        expression = d3.format("");
    }

    return expression;
}

function getYAxisLabelWidth(textSize) {}

module.exports = jvEdit;

},{}],6:[function(require,module,exports){
"use strict";

/***  jvEdit ***/
function jvSelect(configObj) {
    "use strict";

    var selectObj = this;
    selectObj.chartDiv = configObj.chartDiv;
    selectObj.toggleSelectMode = function (toggleBool) {
        var entireSvg = selectObj.chartDiv.select("svg");
        if (toggleBool) {
            entireSvg.on('click', function () {
                var target = d3.select(d3.event.target);
                console.log(target);
            });
            entireSvg.on('dblclick', false);
        } else {}
    };
}

/********************************************* Select Mode Functions **************************************************/

module.exports = jvSelect;

},{}],7:[function(require,module,exports){
"use strict";

/***  jvTip ***/

function jvTip(configObj) {
    "use strict";

    var tip = this;

    tip.type = configObj.type;
    tip.chartDiv = configObj.chartDiv;

    //Create initial div
    tip.chartDiv.select('.jv-tooltip').remove();

    tip.chartDiv.append("div").attr("class", "tooltip jv-tooltip").style("pointer-events", "none");
}

jvTip.prototype.showTip = function () {
    var tip = this;
    //todo position tip properly
    tip.toolTip.style("display", "block");
};

jvTip.prototype.hideTip = function () {
    var tip = this;
    if (tip.toolTip) {
        tip.toolTip.style("display", "none");
    }
};

/************************************************* Viz Specific Functions ***********************************************************************************************************/

jvTip.prototype.generateSimpleTip = function (dataObj, dataTable, event) {
    var tip = this;

    //Logic to determine where tooltip will be placed on page
    var leftOfMouse = false,
        topOfMouse = false;
    if (event.offsetX > tip.chartDiv._groups[0][0].clientWidth / 2) {
        leftOfMouse = true;
    }
    if (event.offsetY < tip.chartDiv._groups[0][0].clientHeight / 2) {
        topOfMouse = true;
    }
    if (dataObj.hasOwnProperty('title') && dataObj.title === '') {
        dataObj.title = 'Empty';
    }

    tip.toolTip = tip.chartDiv.select(".tooltip").html(function () {
        if (dataObj.viz === 'clusters' || dataObj.viz === 'circleviewplot' || dataObj.viz === 'scatterplot' || dataObj.viz === 'treemap' || dataObj.viz === 'singleaxis') {
            return generateSingleColorHTML(dataObj, dataTable);
        } else if (dataObj.viz === 'radial' || dataObj.viz === 'pie') {
            return generatePieHTML(dataObj, dataTable);
        } else if (dataObj.viz === 'circlepack' || dataObj.viz === 'jvsunburst') {
            return generatePackHTML(dataObj, dataTable);
        } else if (dataObj.viz === 'heatmap' || dataObj.viz === 'cloud') {
            return generateHeatmapHTML(dataObj, dataTable);
        } else if (dataObj.viz === 'sankey') {
            return generateSankeyHTML(dataObj, dataTable);
        } else {
            return generateSimpleHTML(dataObj, dataTable);
        }
    }).style("right", "auto").style("left", "auto").style("top", "auto").style("bottom", "auto").style("display", "block").style("opacity", 1);

    var fullPage = d3.select('html')._groups[0][0];
    var relativePositioning = fullPage.clientWidth - tip.chartDiv._groups[0][0].clientWidth;

    if (relativePositioning > 10) {
        tip.toolTip.style("left", event.target.getBBox().x + "px");
        tip.toolTip.style("top", event.target.getBBox().y + "px");
    } else {
        if (leftOfMouse) {
            tip.toolTip.style("right", tip.chartDiv._groups[0][0].clientWidth - event.offsetX + "px");
        } else {
            tip.toolTip.style("left", event.offsetX + "px");
        }

        if (topOfMouse) {
            tip.toolTip.style("top", event.offsetY + "px");
        } else {
            tip.toolTip.style("bottom", tip.chartDiv._groups[0][0].clientHeight - event.offsetY + "px");
        }
    }

    if (dataObj.viz === 'heatmap') {
        tip.toolTip.style("width", "300px");
    }

    return tip.tooltip;
};

function generateSimpleHTML(dataObj) {
    var tooltipText;
    tooltipText = "<div><div class='title sm-left-margin xs-top-margin sm-right-margin'><b>" + dataObj.title + "</b></div><hr style='margin:3px 0 3px 0;'/>";

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);

        tooltipText += "<span class='semoss-d3-tip-content sm-right-margin'>" + "<div class='circleBase d3-tooltip-circle inline sm-right-margin sm-left-margin' style='background: " + dataObj.color[item] + "'>" + "</div>" + item + ": " + value + "</span><br/>";
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateSingleColorHTML(dataObj, dataTable) {
    var tooltipText,
        tooltipColor,
        showColorCircle = true,
        colorCircle = "";

    if (!!dataObj.color[dataObj.data[dataTable.series]]) {
        tooltipColor = dataObj.color[dataObj.data[dataTable.series]];
    } else if (!!dataObj.color[dataTable.label] && dataObj.viz !== 'singleaxis') {
        tooltipColor = dataObj.color[dataTable.label];
    } else {
        showColorCircle = false;
    }

    if (showColorCircle) {
        colorCircle = "<div class='circleBase d3-tooltip-circle inline sm-right-margin sm-left-margin' style='background: " + tooltipColor + "'>" + "</div>";
    } else {
        colorCircle = "<div class='inline smright margin sm-left-margin'>";
    }

    tooltipText = "<div class='inline'>" + colorCircle + "<div class='title xxs-left-margin xs-top-margin sm-right-margin inline'><b>" + dataObj.title + "</b>" + "</div>" + "<hr style='margin:3px 0 3px 0;'/>";

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);

        tooltipText += "<span class='semoss-d3-tip-content sm-left-margin sm-right-margin'>" + item + ": " + value + "</span><br/>";
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generatePackHTML(dataObj) {
    var tooltipText;
    tooltipText = "<div class='inline'>" + "<div class='circleBase d3-tooltip-circle inline sm-right-margin sm-left-margin' style='background: " + dataObj.data.color + "'>" + "</div>" + "<div class='title xxs-left-margin xs-top-margin sm-right-margin inline'><b>" + dataObj.title + "</b></div><hr style='margin:3px 0 3px 0;'/>";

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);

        tooltipText += "<span class='semoss-d3-tip-content sm-left-margin sm-right-margin'>" + item + ": " + value + "</span><br/>";
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateHeatmapHTML(dataObj) {
    var tooltipText;
    tooltipText = "<div class='inline'>" + "<div class='circleBase d3-tooltip-circle inline sm-right-margin sm-left-margin' style='background: " + dataObj.color + "'>" + "</div>" + "<div class='title xxs-left-margin xs-top-margin sm-right-margin inline'><b>" + dataObj.title + "</b></div><hr style='margin:3px 0 3px 0;'/>";

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);

        tooltipText += "<span class='semoss-d3-tip-content sm-left-margin sm-right-margin'>" + item + ": " + value + "</span><br/>";
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generatePieHTML(dataObj, dataTable) {
    var tooltipText;
    tooltipText = "<div class='inline'>" + "<div class='circleBase d3-tooltip-circle inline sm-right-margin sm-left-margin' style='background: " + dataObj.color[dataObj.data.label] + "'>" + "</div>" + "<div class='title xxs-left-margin xs-top-margin sm-right-margin inline'><b>" + dataObj.title + "</b></div><hr style='margin:3px 0 3px 0;'/>";

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);

        tooltipText += "<span class='semoss-d3-tip-content sm-left-margin sm-right-margin'>" + dataTable[item] + ": " + value + "</span><br/>";
    }
    tooltipText += "</div>";
    return tooltipText;
}

function generateSankeyHTML(dataObj) {
    var tooltipText;
    tooltipText = "<div class='inline'>" + "</div>" + "<div class='title xxs-left-margin xs-top-margin sm-right-margin inline'><b>" + dataObj.title + "</b></div><hr style='margin:3px 0 3px 0;'/>";

    for (var item in dataObj.tipData) {
        var value = formatValue(dataObj.tipData[item]);

        tooltipText += "<span class='semoss-d3-tip-content sm-left-margin sm-right-margin'>" + item + ": " + value + "</span><br/>";
    }
    tooltipText += "</div>";
    return tooltipText;
}

function formatValue(val) {
    if (!isNaN(val)) {
        var formatNumber = d3.format(",.0f");
        if (val >= 1000000) {
            //millions
            // var p = d3.precisionPrefix(1e5, 1.3e6);
            // formatNumber = d3.formatPrefix("." + p, 1.3e6);
            formatNumber = d3.format(",.2f");
        } else if (val <= 100) {
            //2 decimals
            formatNumber = d3.format(",.2f");
        }
        return formatNumber(val);
    }
    return val;
}

module.exports = jvTip;

},{}],8:[function(require,module,exports){
'use strict';

var jvCharts = require('./jvCharts.js');

jvCharts.prototype.getDefaultOptions = getDefaultOptions;

function getDefaultOptions() {
    var options = {};

    //General Styles/Attributes
    options.gray = "#cccccc";
    options.strokeWidth = "2px";
    options.black = "#000000";

    //Component Specific Styles/Attributes
    options.axisColor = options.gray;
    options.axisWidth = options.strokeWidth;

    return options;
}

},{"./jvCharts.js":3}],9:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.area = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateLine = generateLine;
jvCharts.prototype.fillArea = fillArea;
jvCharts.prototype.setLineThresholdData = setLineThresholdData;

/************************************************ Line functions ******************************************************/

/**setLineData
 *  gets line data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {

    //sort chart data if there is a sort type and label in the options
    if (chart.options.sortType) {
        if (chart.options.sortLabel && chart.options.sortType !== 'default') {
            chart.organizeChartData(chart.options.sortLabel, chart.options.sortType, dataTableKeys);
        }
    }
    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart.options.color, chart.data.legendData, chart.colors);
};
/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend tex
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label') {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}
/** paintLineChart
 *
 * The initial starting point for line chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint(chart) {
    //Uses the original data and then manipulates it based on any existing options
    var dataObj = chart.getBarDataFromOptions();

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //Overwrite any pre-existing zoom
    chart.config.zoomEvent = null;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateLine');

    if (typeof dataObj.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }

    // chart.options.rotateAxis ? chart.drawGridlines(dataObj.xAxisData) : chart.drawGridlines(dataObj.yAxisData);
    //need to save tooltip because it is used in other functions
    // chart.draw.toolTip = chart.generateToolTip(dataObj.chartData);
    chart.generateLine(dataObj);
    //zoom disabled for now
};

/**
 *
 */
function fillArea(lineData) {

    var chart = this,
        svg = chart.svg,
        options = chart.options,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        legendData = chart.currentData.legendData,

    //lineData = chart.currentData.chartData,
    container = chart.config.container,
        colors = options.color;

    //If a legend element is toggled off, use the new list of headers
    if (options.hasOwnProperty('legendHeaders')) {
        legendData = options.legendHeaders;
    }

    //Get the X and Y Scale
    var x = jvCharts.getAxisScale('x', xAxisData, container, 'no-padding', null, options);
    var y = jvCharts.getAxisScale('y', yAxisData, container, 'no-padding', null, options);

    //If axis are normal
    if (!options.rotateAxis) {
        var area = d3.area().x(function (d) {
            return x(d.x);
        }).y0(container.height).y1(function (d) {
            return y(d.y);
        });
    } else {
        var area = d3.area().y(function (d) {
            return y(d.y);
        }).x1(0).x0(function (d) {
            return x(d.x);
        });
    }

    var data = {};

    for (var i = 0; i < lineData.length; i++) {
        for (var k = 0; k < legendData.length; k++) {

            if (typeof legendData !== "undefined") {
                //Accounting for legend toggles
                if (legendData[k].toggle === false) {
                    //Don't write anything to data
                    continue;
                } else {
                    if (!data[legendData[k]]) {
                        data[legendData[k]] = [];
                    }
                    if (!options.rotateAxis) {
                        data[legendData[k]].push({
                            'x': lineData[i][xAxisData.label],
                            'y': parseFloat(lineData[i][legendData[k]])
                        });
                    } else {
                        data[legendData[k]].push({
                            'y': lineData[i][yAxisData.label],
                            'x': parseFloat(lineData[i][legendData[k]])
                        });
                    }
                }
            } else {
                //Initial creation of visualization w/o legend options
                if (!data[legendData[k]]) {
                    data[legendData[k]] = [];
                }
                if (!options.rotateAxis) {
                    data[legendData[k]].push({
                        'x': lineData[i][xAxisData.label],
                        'y': parseFloat(lineData[i][legendData[k]])
                    });
                } else {
                    data[legendData[k]].push({
                        'y': lineData[i][yAxisData.label],
                        'x': parseFloat(lineData[i][legendData[k]])
                    });
                }
            }
        }
    }

    svg.selectAll(".area").remove();

    var ii = 0;
    for (var i in data) {
        svg.append("path").datum(data[i]).attr("class", function (d) {
            if (chart.options.colorLine == true && chart.options.thresholds != 'none' && chart.options.colorChart != false) {
                return "area area-threshold";
            } else {
                return "area";
            }
        }).attr("d", area).attr("fill", function (d) {
            return jvCharts.getColors(colors, k, i);
        }).attr("opacity", 0.6).attr("transform", function (d, i) {
            if (options.rotateAxis) {
                var translation = container.height / lineData.length / 2;
                return "translate(0, " + translation + ")";
            } else {
                var translation = container.width / lineData.length / 2;
                return "translate(" + translation + ", 0)";
            }
        }).attr("pointer-events", "none");
        ii++;
    }
}

/** generateLine
 *
 * Paints the lines
 * @params lineData
 */
function generateLine(lineData) {
    var chart = this,
        svg = chart.svg,
        options = chart.options,
        container = chart.config.container;

    svg.selectAll("g.line-container").remove();

    var translateX = 0;
    var translateY = 0;
    var zoomScale = 1;

    //Used to draw line that appears when tool tips are visible
    var tipLineX = 0,
        tipLineWidth = 0,
        tipLineHeight = 0,
        tipLineY = 0;

    //Setting zoom variables based on if axis is rotated
    if (options.rotateAxis) {
        translateY = typeof zoomEvent === 'undefined' || zoomEvent === null ? 0 : zoomEvent.translate[1]; //translates if there is zoom
        zoomScale = typeof zoomEvent === 'undefined' || zoomEvent === null ? 1 : zoomEvent.scale;

        translateY = Math.min(0, translateY);
        translateY = Math.min(0, Math.max(translateY, container.height - container.height * zoomScale));
    } else {
        translateX = typeof zoomEvent === 'undefined' || zoomEvent === null ? 0 : zoomEvent.translate[0]; //translates if there is zoom
        zoomScale = typeof zoomEvent === 'undefined' || zoomEvent === null ? 1 : zoomEvent.scale;

        translateX = Math.min(0, translateX);
        translateX = Math.min(0, Math.max(translateX, container.width - container.width * zoomScale));
    }

    var colors = options.color,
        x,
        y;

    svg.selectAll("g.line-container").remove();
    var lines = svg.append("g").attr("class", "line-container").selectAll("g");

    var dataHeaders = chart.options.seriesFlipped ? chart.options.flippedLegendHeaders ? chart.options.flippedLegendHeaders : lineData.legendData : chart.options.legendHeaders ? chart.options.legendHeaders : lineData.legendData;

    var lineDataNew = jvCharts.getToggledData(lineData, dataHeaders);

    //If it's an area chart, add the area
    if (chart.config.type === 'area') {
        chart.fillArea(lineDataNew);
    }

    var lineGroups = generateLineGroups(lines, lineDataNew, chart);

    var eventGroups = jvCharts.generateEventGroups(lines, lineDataNew, chart);

    eventGroups.on("mouseover", function (d, i, j) {
        // Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.draw.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on("mousemove", function (d, i) {
        chart.tip.hideTip();
        svg.selectAll(".tip-line").remove();

        if (chart.draw.showToolTip) {
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on("mouseout", function (d) {
        chart.tip.hideTip();
        svg.selectAll(".tip-line").remove();
    });

    // TODO add tooltips when hovering over the line or circles

    // lineGroups
    //    .on("mouseover", function (d, i, j) {
    //        //console.log(d, i, j);
    //        //if (chart.draw.showToolTip) {
    //        //    chart.draw.tip.show({d: d, i: j}, eventGroups[0][j]);//j is for event rects, i is for bars
    //        //    //offset for tooltip based on mouse position
    //        //    if (options.rotateAxis) {
    //        //        var offset = -1 * (container.width - d3.mouse(this)[0]);//d3.mouse(this)[0];
    //        //        chart.draw.tip.offset([0, offset]);
    //        //    }
    //        //    else {
    //        //        var offset = d3.mouse(this)[1];
    //        //        chart.draw.tip.offset([offset, 0]);
    //        //    }
    //        //    //Draw tip line
    //        //
    //        //    svg
    //        //        .append("line")
    //        //        .attr({
    //        //            "class": "tip-line",
    //        //            "x1": function () {
    //        //                return options.rotateAxis ? 0 : tipLineX + tipLineWidth / 2;
    //        //            },
    //        //            "x2": function () {
    //        //                return options.rotateAxis ? tipLineWidth : tipLineX + tipLineWidth / 2;
    //        //            },
    //        //            "y1": function () {
    //        //                return options.rotateAxis ? tipLineY + tipLineHeight / 2 : 0;
    //        //            },
    //        //            "y2": function () {
    //        //                return options.rotateAxis ? tipLineY + tipLineHeight / 2 : tipLineHeight;
    //        //            },
    //        //            "fill": "none",
    //        //            "shape-rendering": "crispEdges",
    //        //            "stroke": "black",
    //        //            "stroke-width": "1px"
    //        //        });
    //        //}

    //    })
    //    .on("mouseout", function (d) {
    //        chart.draw.tip.hide();
    //        svg.selectAll(".tip-line").remove();
    //    });

    chart.displayValues();
    chart.generateClipPath();
    chart.generateLineThreshold();

    return lines;
};
/** generateLineGroups
 *
 * Paints the groups of the lines
 * @params chartContainer, barData, chart
 */
function generateLineGroups(lineContainer, lineData, chart) {
    var container = chart.config.container,
        options = chart.options,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        legendData = chart.currentData.legendData,
        colors = options.color,
        lines;

    //Get Position Calculations
    var x = jvCharts.getAxisScale('x', xAxisData, container, 'no-padding', null, options);
    var y = jvCharts.getAxisScale('y', yAxisData, container, 'no-padding', null, options);

    var xTranslate, yTranslate;

    if (options.rotateAxis === true) {
        xTranslate = function xTranslate(d, i) {
            return x(d);
        };
        yTranslate = function yTranslate(d, i) {
            return y(lineData[i][yAxisData.label]) + container.height / lineData.length / 2; // + container.height / (lineData.length) / 2  - y.paddingInner());
        };
    } else {
        xTranslate = function xTranslate(d, i) {
            return x(lineData[i][xAxisData.label]) + container.width / lineData.length / 2; // + container.width / (lineData.length) / 2 - x.paddingInner());
        };
        yTranslate = function yTranslate(d, i) {
            return y(d);
        };
    }

    //Append lines and circles

    var data = {};

    for (var i = 0; i < lineData.length; i++) {
        for (var k = 0; k < legendData.length; k++) {

            if (typeof options.legendOptions !== "undefined") {
                //Accounting for legend toggles
                if (options.legendOptions[k].toggle === false) {
                    //Don't write anything to data
                    continue;
                } else {
                    //Write something to data
                    if (!data[legendData[k]]) {
                        data[legendData[k]] = [];
                    }
                    data[legendData[k]].push(parseFloat(lineData[i][legendData[k]]));
                }
            } else {
                //Initial creation of visualization w/o legend options
                if (!data[legendData[k]]) {
                    data[legendData[k]] = [];
                }
                if (data[legendData[k]].length < lineData.length) {
                    data[legendData[k]].push(parseFloat(lineData[i][legendData[k]]));
                }
            }
        }
    }

    chart.svg.selectAll(".lines").remove();

    chart.svg.selectAll(".line").remove();
    chart.svg.selectAll(".circle").remove();
    chart.svg.selectAll("#line-gradient").remove();

    lines = chart.svg.selectAll(".line-container");

    var valueline = {};
    var circles = {};
    var index = 0;
    var lineColors = [];
    var max;
    var min;
    var thresholding = false;
    for (var k in data) {
        //Create path generator for each series
        if (data.hasOwnProperty(k)) {
            valueline[k] = d3.line() //line drawing function
            .x(function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return xTranslate(d, i);
            }).y(function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return yTranslate(d, i);
            });

            //Add lines to the line-container
            lines.append('g').attr('class', 'line ' + k).append("path") //draws the line
            .attr('stroke', function (d, i, j) {
                var colorObj = jvCharts.getColors(colors, i, k);
                lineColors.push(colorObj);
                return colorObj;
            }) // fills the bar with color
            .attr("stroke-width", "2").attr("fill", "none").attr("d", valueline[k](data[k]));

            //Color Thresholding for each tier
            if (chart.options.thresholds != 'none' && chart.options.colorChart != false) {
                if (chart.options.colorLine) {
                    var thresholdPercents = [];
                    if (chart.options.rotateAxis) {
                        var zero = { percent: 0, color: lineColors[index] };
                        thresholdPercents.push(zero);

                        for (var z = 0; z < Object.keys(chart.options.thresholds).length; z++) {
                            var pCent = chart.options.thresholds[z].threshold * 100 / (xAxisData.max - xAxisData.min);
                            var temp = { percent: pCent, color: chart.options.thresholds[z].thresholdColor };
                            thresholdPercents.push(temp);
                        }
                    } else {
                        var zero = { percent: 0, color: lineColors[index] };
                        thresholdPercents.push(zero);

                        for (var z = 0; z < Object.keys(chart.options.thresholds).length; z++) {
                            var pCent = chart.options.thresholds[z].threshold * 100 / (yAxisData.max - yAxisData.min);
                            var temp = { percent: pCent, color: chart.options.thresholds[z].thresholdColor };
                            thresholdPercents.push(temp);
                        }
                    }

                    var thresholdData = chart.setLineThresholdData(chart, thresholdPercents, lineColors[index]);

                    lines.selectAll("path").attr("class", "line-threshold");

                    if (chart.options.rotateAxis) {
                        chart.svg.append("linearGradient").attr("id", "line-gradient").attr("gradientUnits", "userSpaceOnUse").attr("x1", xTranslate(xAxisData.min)).attr("y1", 0).attr("x2", xTranslate(xAxisData.max)).attr("y2", 0).selectAll("stop").data(thresholdData).enter().append("stop").attr("offset", function (d) {
                            return d.offset;
                        }).attr("stop-color", function (d) {
                            return d.color;
                        });
                    } else {
                        chart.svg.append("linearGradient").attr("id", "line-gradient").attr("gradientUnits", "userSpaceOnUse").attr("x1", 0).attr("y1", yTranslate(yAxisData.min)).attr("x2", 0).attr("y2", yTranslate(yAxisData.max)).selectAll("stop").data(thresholdData).enter().append("stop").attr("offset", function (d) {
                            return d.offset;
                        }).attr("stop-color", function (d) {
                            return d.color;
                        });
                    }
                }
                thresholding = true;
            }

            //Add circles at joints in the lines
            circles[k] = lines.append('g').attr('class', 'circle ' + k).selectAll('circle').data(data[k]).enter().append("circle") //Circles for the joints in the line
            .attr('class', function (d, i) {
                return 'circle-' + chart.currentData.chartData[i][chart.currentData.dataTable.label] + ' highlight-class-' + i;
            }).attr("cx", function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return xTranslate(d, i);
            }).attr("cy", function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return yTranslate(d, i);
            }).attr('fill', function (d, i, j) {
                if (isNaN(d)) {
                    return null;
                } else if (thresholding == true) {
                    var length = Object.keys(chart.options.thresholds).length - 1;
                    if (chart.options.rotateAxis) {
                        for (var z = length; z > -1; z--) {
                            var threshold = chart.options.thresholds[z];
                            if (d >= threshold.threshold) {
                                return threshold.thresholdColor;
                            }
                        }
                    } else {
                        for (var z = length; z > -1; z--) {
                            var threshold = chart.options.thresholds[z];
                            if (d >= threshold.threshold) {
                                return threshold.thresholdColor;
                            }
                        }
                    }
                }

                return jvCharts.getColors(colors, i, k);
            }).attr('opacity', function (d, i, j) {
                if (isNaN(d)) {
                    return 0;
                }
                return 1;
            }).attr("r", 2.5);

            index++;
        }
    }

    //Return line groups
    return lines.selectAll(".circle");
}

function setLineThresholdData(chart, thresholds, color) {
    var data = [];
    for (var k = 0; k < thresholds.length; k++) {
        var gradient;
        var gradientOne = { offset: thresholds[k].percent + "%", color: thresholds[k].color };
        data.push(gradientOne);

        if (k + 1 < thresholds.length) {
            var gradientTwo = { offset: thresholds[k + 1].percent + "%", color: thresholds[k].color };
            data.push(gradientTwo);
        }

        if (k == thresholds.length - 1) {
            var last = { offset: "100%", color: thresholds[k].color };
            data.push(last);
        }
    }

    return data;
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],10:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.bar = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateBarThreshold = generateBarThreshold;
jvCharts.prototype.generateBars = generateBars;

/**paint
 *
 * The initial starting point for bar chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint(chart) {
    //Uses the original data and then manipulates it based on any existing options
    var dataObj = chart.getBarDataFromOptions();

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateBars');
    chart.generateBars(dataObj);

    if (typeof dataObj.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }
}

/**Sets the data for the bar chart prior to painting
 *  @function
 * @params {Object} data - Data passed into the chart
 * @params {Object} dataTable - Shows which data column is associated with each field in visual panel
 * @params {Object} dataTableKeys - Contains the data type for each column of data
 * @params {Object} colors - Colors object used to color the bars
 */
function setData(chart) {
    //sort chart data if there is a sort type and label in the options
    if (chart.options.hasOwnProperty('sortType') && chart.options.sortType) {
        if (chart.options.sortLabel && chart.options.sortType !== 'default') {
            chart.organizeChartData(chart.options.sortLabel, chart.options.sortType);
        }
    }
    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);
    if (chart.options.seriesFlipped) {
        chart.setFlippedSeries(chart.data.dataTableKeys);
        chart.flippedData.color = jvCharts.setChartColors(chart.options.color, chart.flippedData.legendData, chart.colors);
    }

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart.options.color, chart.data.legendData, chart.colors);
}

/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label') {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}

/************************************************ Bar functions ******************************************************/
function generateBarThreshold() {
    var chart = this,
        svg = chart.svg,
        type = chart.config.type,
        width = chart.config.container.width,
        height = chart.config.container.height,
        thresholds = chart.options.thresholds,
        length = thresholds ? Object.keys(thresholds).length : 0;

    var x = chart.currentData.xAxisScale;
    var y = chart.currentData.yAxisScale;

    if (thresholds !== 'none') {
        for (var i = 0; i < length; i++) {
            var threshold = thresholds[i];
            if (!chart.options.xAxisThreshold) {
                if (chart.options.rotateAxis) {
                    svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', x(threshold.threshold)).attr('y1', 0).attr('x2', x(threshold.threshold)).attr('y2', height).attr('stroke-dasharray', '3, 3');
                } else {
                    svg.append('line').style('stroke', threshold.thresholdColor).attr('x1', 0).attr('y1', y(threshold.threshold)).attr('x2', width).attr('y2', y(threshold.threshold)).attr('stroke-dasharray', '3, 3');
                }
            }

            if (chart.options.colorChart == true) {
                var thresholdRects = d3.selectAll('rect.rect-' + i);
                thresholdRects.attr('fill', threshold.thresholdColor);
            }
        }
    }
}

/**generateBars
 *
 * Does the actual painting of bars on the bar chart
 * @params barData
 */

function generateBars(barData) {
    var chart = this,
        offset,
        svg = chart.svg,
        options = chart.options,
        container = chart.config.container;

    //Used to draw line that appears when tool tips are visible
    var tipLineX = 0,
        tipLineWidth = 0,
        tipLineHeight = 0,
        tipLineY = 0;

    //Removes any existing bar containers and creates a new one
    svg.selectAll('g.bar-container').remove();
    var bars = svg.append('g').attr('class', 'bar-container').selectAll('g');

    //Add logic to filter bardata
    var dataHeaders = chart.options.seriesFlipped ? chart.options.flippedLegendHeaders ? chart.options.flippedLegendHeaders : barData.legendData : chart.options.legendHeaders ? chart.options.legendHeaders : barData.legendData;

    var barDataNew = jvCharts.getToggledData(barData, dataHeaders);

    var barGroups = generateBarGroups(bars, barDataNew, chart);
    var eventGroups = jvCharts.generateEventGroups(bars, barDataNew, chart);

    //Add listeners

    eventGroups.on('mouseover', function (d, i, j) {
        //Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.draw.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);

            svg.selectAll('.tip-line').remove();

            var mouseItem = d3.select(this);
            tipLineX = mouseItem.node().getBBox().x;
            tipLineWidth = mouseItem.node().getBBox().width;
            tipLineHeight = mouseItem.node().getBBox().height;
            tipLineY = mouseItem.node().getBBox().y;

            //Draw line in center of event-rect
            svg.append('line').attr('class', 'tip-line').attr('x1', function () {
                return options.rotateAxis ? 0 : tipLineX + tipLineWidth / 2;
            }).attr('x2', function () {
                return options.rotateAxis ? tipLineWidth : tipLineX + tipLineWidth / 2;
            }).attr('y1', function () {
                return options.rotateAxis ? tipLineY + tipLineHeight / 2 : 0;
            }).attr('y2', function () {
                return options.rotateAxis ? tipLineY + tipLineHeight / 2 : tipLineHeight;
            }).attr('fill', 'none').attr('shape-rendering', 'crispEdges').attr('stroke', 'black').attr('stroke-width', '1px');
        }
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on('mouseout', function (d) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            svg.selectAll('line.tip-line').remove();
        }
    });

    chart.displayValues();
    chart.generateClipPath();
    chart.generateBarThreshold();
}

/**generateBarGroups
 *
 * Paints the groups of the bars
 * @params chartContainer, barData, chart
 */
function generateBarGroups(chartContainer, barData, chart) {
    var container = chart.config.container,
        options = chart.options,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        colors = options.color;

    var x = jvCharts.getAxisScale('x', xAxisData, container, null, options);
    var y = jvCharts.getAxisScale('y', yAxisData, container, null, options);

    var posCalc = jvCharts.getPosCalculations(barData, options, xAxisData, yAxisData, container, chart);

    var dataToPlot = jvCharts.getPlotData(barData, chart);

    var barGroups;
    if (xAxisData.dataType === 'STRING' || !xAxisData.hasOwnProperty('min')) {
        //Creates bar groups
        barGroups = chartContainer.data(dataToPlot).enter().append('g').attr('class', 'bar-group').attr('transform', function (d, i) {
            //Translate the bar groups by (outer padding * step) and the width of the bars (container.width / barData.length * i)
            return 'translate(' + (x.paddingOuter() * x.step() + x.step() * i) + ',0)';
        });
    } else if (xAxisData.dataType === 'NUMBER') {
        //Creates bar groups
        barGroups = chartContainer.data(dataToPlot).enter().append('g').attr('class', 'bar-group').attr('transform', function (d, i) {
            //Translate the bar groups by (outer padding * step) and the width of the bars (container.width / barData.length * i)
            return 'translate(0,' + (y.paddingOuter() * y.step() + y.step() * i) + ')';
        });
    }

    //Creates bars within bar groups
    var externalCounterForJ = -1;
    var bars = barGroups.selectAll('rect').data(function (d) {
        return d;
    }).enter().append('rect').attr('class', function (d, i, j) {
        if (i === 0) {
            externalCounterForJ++;
        }
        var label = String(barData[externalCounterForJ][chart.currentData.dataTable.label]).replace(/\s/g, '_').replace(/\./g, '<dot>'),
            legendVal = String(chart.currentData.legendData[i]).replace(/\s/g, '_').replace(/\./g, '<dot>');

        var xAxisValue = barData[externalCounterForJ][chart.currentData.dataTable.label];
        if (chart.options.xAxisThreshold) {
            var thresholdDir = chart.setThreshold(xAxisValue);
        } else {
            var thresholdDir = chart.setThreshold(d);
        }

        return 'editable editable-bar bar-col-' + label + '-index-' + legendVal + ' highlight-class-' + label + ' rect ' + thresholdDir;
    }).attr('x', function (d, i, j) {
        return posCalc.startx(d, i);
    }).attr('y', function (d, i) {
        return posCalc.starty(d, i);
    }).attr('width', function (d, i) {
        return posCalc.startwidth(d, i);
    }).attr('height', function (d, i, j) {
        return posCalc.startheight(d, i);
    }).attr('fill', function (d, i) {
        if (chart.options.seriesFlipped) {
            var color = jvCharts.getColors(colors, i, chart.options.flippedLegendHeaders[i]);
        } else {
            var color = jvCharts.getColors(colors, i, chart.options.legendHeaders[i]);
        }
        return color;
    }).attr('rx', 0).attr('ry', 0).attr('opacity', 0.9).attr('clip-path', function (d) {
        if (d > 30000000) {
            return 'url(#clip-above)';
        }
        return 'url(#clip-below)';
    });

    bars.transition().duration(800).ease(d3.easePolyOut).attr('x', function (d, i, j) {
        return posCalc.x(d, i, j);
    }).attr('y', function (d, i, j) {
        return posCalc.y(d, i, j);
    }).attr('width', function (d, i, j) {
        return posCalc.width(d, i);
    }).attr('height', function (d, i, j) {
        return posCalc.height(d, i);
    });

    return barGroups; //returns the bar containers
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],11:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.gantt = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateGanttBars = generateGanttBars;
jvCharts.prototype.setGanttLegendData = setGanttLegendData;
jvCharts.prototype.setGanttAxisData = setGanttAxisData;

/************************************************ Gantt functions ******************************************************/

/**
*
* @param data
* @param dataTable
* @param colors
*/
function setData(chart) {
    chart.data.legendData = chart.setGanttLegendData(chart.data);
    chart.data.xAxisData = chart.setGanttAxisData(chart, 'x');
    chart.data.yAxisData = chart.setGanttAxisData(chart, 'y');
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart.options.color, chart.data.legendData, chart.colors);
}

function setGanttLegendData(data) {
    var legendArray = [];
    for (var i = 1; i <= Object.keys(data.dataTable).length; i++) {
        if (data.dataTable.hasOwnProperty(["start " + i])) {
            //check to make sure it has a matching end date
            if (data.dataTable.hasOwnProperty(["end " + i])) {
                legendArray.push(data.dataTable["start " + i]);
            }
        }
    }
    return legendArray;
}

function setGanttAxisData(chart, axis) {
    var axisData = [],
        data = chart.data,
        chartData = data.chartData,
        dataType;

    if (axis === 'x') {
        var label = data.dataTable.group;
        dataType = 'DATE';

        var numBars = data.legendData.length;
        //Loop through dataTable and assign labels based on how many groups there are
        var valueContainer = [];
        valueContainer.push(data.dataTable["start 1"]);
        valueContainer.push(data.dataTable["end 1"]);
        for (var i = 1; i < numBars; i++) {
            valueContainer.push(data.dataTable["start " + (i + 1)]);
            valueContainer.push(data.dataTable["end " + (i + 1)]);
        }

        //Get all the start and end dates and add them to axis data
        for (var i = 0; i < valueContainer.length; i++) {
            for (var ii = 0; ii < chartData.length; ii++) {
                if (chartData[ii][valueContainer[i]] != null) {
                    axisData.push(chartData[ii][valueContainer[i]]);
                }
            }
        }

        //Add any axis formatting to this object, need to use when painting
        chart.options.xAxisFormatting = {};
    } else {
        dataType = "STRING";
        var label = data.dataTable.group;

        //Add any axis formatting to this object, need to use when painting
        chart.options.yAxisFormatting = {};

        for (var i = 0; i < chartData.length; i++) {
            axisData.push(chartData[i][label]);
        }
    }

    return {
        'label': label,
        'values': axisData,
        'dataType': dataType
    };
}

function paint(chart) {
    chart.options.color = chart.data.color;

    chart.currentData = chart.data;

    chart.generateSVG(chart.currentData.legendData);
    chart.generateXAxis(chart.currentData.xAxisData);
    chart.generateYAxis(chart.currentData.yAxisData);
    chart.generateLegend(chart.currentData.legendData, 'generateGanttBars');
    chart.drawGridlines(chart.currentData.xAxisData);
    chart.generateGanttBars(chart.currentData);
    if (typeof chart.currentData.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.domain().length);
    }
}

function generateGanttBars(ganttData) {
    var chart = this,
        svg = chart.svg,
        colors = ganttData.color,
        options = chart.options,
        container = chart.config.container,
        yAxisData = ganttData.yAxisData;

    //Remove existing bars from page
    svg.selectAll("g.bar-container").remove();
    var bars = svg.append("g").attr("class", "bar-container"),
        dataHeaders = chart.options.legendHeaders ? chart.options.legendHeaders : ganttData.legendData,
        ganttDataNew = jvCharts.getToggledData(ganttData, dataHeaders),
        x = jvCharts.getAxisScale('x', ganttData.xAxisData, container, null, null),
        y = jvCharts.getAxisScale('y', ganttData.yAxisData, container, null, null),
        sampleData = ganttDataNew;

    options.rotateAxis = true;

    //Create num bars variable and loop through to draw bars based on how many groups there are
    //var keys = Object.keys(ganttData.dataTable);
    //var count = 0;
    //for (var i = 0; i < keys.length; i++) {
    //    if (ganttData.dataTable[keys[i]] != null && ganttData.dataTable[keys[i]] != "") {
    //        count++;
    //    }
    //}
    //var numBars = Math.floor((count - 1) / 2);
    var numBars = ganttData.legendData.length;
    var ganttBars = [];

    //create array of start dates and end dates to iterate through
    var startDates = [];
    var endDates = [];
    for (var i = 1; i <= numBars; i++) {
        startDates.push(chart.currentData.dataTable["start " + i]);
        endDates.push(chart.currentData.dataTable["end " + i]);
    }

    for (var ii = 0; ii < numBars; ii++) {
        ganttBars[ii] = bars.selectAll(".gantt-bar" + ii).data(sampleData).enter().append("rect").attr("class", "gantt-bar" + ii).attr("width", function (d, i) {
            return 0;
        }).attr("height", function (d, i) {
            return y.bandwidth() / numBars;
        }).attr("x", function (d, i) {
            if (d[startDates[ii]]) {
                return x(new Date(d[startDates[ii]]));
            } else {
                return 0;
            }
        }).attr("y", function (d, i) {
            return y(d[yAxisData.label]) + y.bandwidth() / numBars * ii;
        }).attr("rx", 3).attr("ry", 3).attr("fill", function (d, i, j) {
            var typeVal = chart.currentData.dataTable["Type" + (ii + 1)];
            if (chart.options.legendHeaders) {
                var color = jvCharts.getColors(colors, 0, chart.options.legendHeaders[ii]);
            } else {
                var color = jvCharts.getColors(colors, 0, chart.currentData.legendData[ii]);
            }
            return color;
        });

        ganttBars[ii].transition().duration(400).delay(100).attr("width", function (d, i) {
            var width = x(new Date(d[endDates[ii]])) - x(new Date(d[startDates[ii]])); //(x(d.StartDate) - x(d.EndDate));
            if (width >= 0) {
                return width;
            } else {
                return 0;
            }
        });
    }

    var dataToPlot = jvCharts.getPlotData(ganttDataNew, chart);
    var eventGroups = bars.selectAll(".event-rect").data(dataToPlot).enter().append('rect').attr("class", "event-rect").attr("x", 0).attr("y", function (d, i) {
        return container.height / ganttDataNew.length * i;
    }).attr("width", container.width).attr("height", function (d, i) {
        return container.height / ganttDataNew.length;
    }).attr("fill", "transparent").attr("transform", "translate(0,0)");
    eventGroups.on("mouseover", function (d, i, j) {
        // Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.draw.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on("mousemove", function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on("mouseout", function (d) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
        }
    });

    var currentDate = new Date();
    var dateData = [currentDate];
    //Draws a line representing the current date
    svg.selectAll(".currentDateLine").data(dateData).enter().append("line").attr("x1", function (d, i) {
        return x(d);
    }).attr("x2", function (d, i) {
        return x(d);
    }).attr("y1", function (d, i) {
        return "0px";
    }).attr("y2", function (d, i) {
        return chart.config.container.height;
    }).attr("class", "currentDateLine").attr("stroke", "black").attr("stroke-width", "2px").attr("stroke-dasharray", "3, 3");

    svg.selectAll(".currentDateLabel").data(dateData).enter().append("text").text(function () {
        var today = new Date();
        var dd = today.getDate();
        var mm = today.getMonth() + 1; //January is 0!

        var yyyy = today.getFullYear();
        if (dd < 10) {
            dd = '0' + dd;
        }
        if (mm < 10) {
            mm = '0' + mm;
        }
        var today = mm + '/' + dd + '/' + yyyy;
        return today;
    }).attr("x", function (d, i) {
        return x(d);
    }).attr("y", function (d, i) {
        return "-10px";
    }).attr("text-anchor", "middle");
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],12:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.heatmap = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateHeatMap = generateHeatMap;

/************************************************ HeatMap functions ******************************************************/

/**setHeatMapData
 *  gets heatmap data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    var axisNames = setHeatAxisNames(chart.data);
    chart.data.xAxisData = axisNames.xAxisData;
    chart.data.yAxisData = axisNames.yAxisData;
    chart.data.processedData = setProcessedData(chart.data, chart.data.xAxisData.values, chart.data.yAxisData.values);
    //define color object for chartData
    chart.options.color = jvCharts.setChartColors(chart.options.color, chart.data.xAxisData.values, chart.colors);
    chart.data.heatData = setHeatmapLegendData(chart, chart.data);
}

function setHeatmapLegendData(chart, data) {
    var heatData;
    var bucketMapper = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    var bucketCount;
    chart.options.colors = organizeColors(chart);
    chart.data.colorScale = d3.scaleQuantile().domain(data.heatScores).range(chart.options.colors);

    if (chart.options.quantiles === true) {
        heatData = [0].concat(chart.data.colorScale.quantiles());
    } else {
        bucketCount = bucketMapper[chart.options.buckets - 1];
        heatData = quantized(data.heatScores[0], data.heatScores[data.heatScores.length - 1]);
    }

    return heatData;
}

function organizeColors(chart) {
    var colorSelectedBucket = [];
    for (var c in chart.options.colors) {
        colorSelectedBucket.push(chart.options.colors[c]);
    }

    var sValue = chart.options.buckets;
    var newColors = [];
    var bucketMapper = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10];
    var bucketCount = bucketMapper[sValue - 1];
    for (var i = 0; i < bucketCount; i++) {
        if (i >= bucketCount / 2) {
            newColors[i] = colorSelectedBucket[Math.round((i + 1) / bucketCount * 20) - 1];
        } else {
            newColors[i] = colorSelectedBucket[Math.round(i / bucketCount * 20)];
        }
    }
    var colors = newColors.slice(0);
    return colors;
}

function setHeatAxisNames(data) {
    var chartData = data.chartData;
    var xAxisName = data.dataTable.x;
    var yAxisName = data.dataTable.y;
    var xAxisArray = [];
    var yAxisArray = [];
    var returnObj = {};
    for (var i = 0; i < data.dataTableKeys.length; i++) {
        if (data.dataTableKeys[i].vizType === 'x') {
            returnObj.xAxisData = {};
            returnObj.xAxisData.dataType = data.dataTableKeys[i].type;
            returnObj.xAxisData.label = data.dataTable.x;
        }
        if (data.dataTableKeys[i].vizType === 'y') {
            returnObj.yAxisData = {};
            returnObj.yAxisData.dataType = data.dataTableKeys[i].type;
            returnObj.yAxisData.label = data.dataTable.y;
        }
    }

    for (var i = 0; i < chartData.length; i++) {
        if (xAxisArray.indexOf(chartData[i][xAxisName]) === -1) {
            xAxisArray.push(chartData[i][xAxisName]);
            //TODO make into 1 function for min max... waste of space
            if (returnObj.xAxisData.dataType === 'NUMBER') {
                //push min and max info
                if (!returnObj.xAxisData.min) {
                    returnObj.xAxisData.min = chartData[i][xAxisName];
                } else if (chartData[i][xAxisName] < returnObj.xAxisData.min) {
                    returnObj.xAxisData.min = chartData[i][xAxisName];
                }

                if (!returnObj.xAxisData.max) {
                    returnObj.xAxisData.max = chartData[i][xAxisName];
                } else if (chartData[i][xAxisName] < returnObj.xAxisData.max) {
                    returnObj.xAxisData.max = chartData[i][xAxisName];
                }
            }
        }
        if (yAxisArray.indexOf(chartData[i][yAxisName]) === -1) {
            yAxisArray.push(chartData[i][yAxisName]);
            if (returnObj.yAxisData.dataType === 'NUMBER') {
                //push min and max info
                if (!returnObj.yAxisData.min) {
                    returnObj.yAxisData.min = chartData[i][yAxisName];
                } else if (chartData[i][yAxisName] < returnObj.yAxisData.min) {
                    returnObj.yAxisData.min = chartData[i][yAxisName];
                }

                if (!returnObj.yAxisData.max) {
                    returnObj.yAxisData.max = chartData[i][yAxisName];
                } else if (chartData[i][yAxisName] < returnObj.yAxisData.max) {
                    returnObj.yAxisData.max = chartData[i][yAxisName];
                }
            }
        }
    }
    returnObj.xAxisData.values = xAxisArray;
    returnObj.yAxisData.values = yAxisArray;

    return returnObj;
}

function setProcessedData(data, xAxisArray, yAxisArray) {
    var chartData = data.chartData;
    var xAxisName = data.dataTable.x;
    var yAxisName = data.dataTable.y;
    var heat = data.dataTable.heat;
    var dataArray = [];
    data.heatScores = [];
    /*Assign each name a number and place matrix coordinates inside of dataArray */
    for (var i = 0; i < chartData.length; i++) {
        dataArray.push({
            value: chartData[i][heat],
            xAxisName: chartData[i][xAxisName],
            yAxisName: chartData[i][yAxisName]
        });
        //This array stores the values as numbers
        data.heatScores.push(chartData[i][heat]);
        for (var j = 0; j < xAxisArray.length; j++) {
            if (xAxisArray[j] === dataArray[i].xAxisName) {
                dataArray[i].xAxis = j;
                break;
            }
        }
        for (var j = 0; j < yAxisArray.length; j++) {
            if (yAxisArray[j] === dataArray[i].yAxisName) {
                dataArray[i].yAxis = j;
                break;
            }
        }
    }
    return dataArray;
}

function paint(chart) {
    chart.options.color = chart.data.color;
    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship
    var customMargin = {
        top: 0,
        right: 40,
        left: 0,
        bottom: 20
    };
    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, customMargin);
    //chart.generateLegend(chart.currentData.legendData, 'generateHeatMap');
    chart.generateHeatMap();
}

/**generateHeatMap
 *
 * paints the HeatMap on the chart
 * @params HeatMapData
 */
function generateHeatMap() {
    var chart = this,
        svg = chart.svg,
        colors = chart.options.colors,
        container = chart.config.container,
        minContainer = 300,
        quantiles = chart.options.quantiles,
        data = chart.data.processedData,
        toggleLegend = !chart.options.toggleLegend,
        scaleByMinCategory,
        scaleByContainer,
        heatMapData = chart.currentData;

    if (heatMapData.xAxisData.values.length > heatMapData.yAxisData.values.length) {
        scaleByMinCategory = heatMapData.xAxisData.values.length;
    } else {
        scaleByMinCategory = heatMapData.yAxisData.values.length;
    }

    if (container.width < minContainer || container.height < minContainer) {
        scaleByContainer = minContainer;
    }
    //else if(container.width > maxContainer && container.height > maxContainer){
    //scaleByContainer = maxContainer;
    //}
    else if (container.height > container.width) {
            scaleByContainer = container.width;
        } else {
            scaleByContainer = container.height;
        }

    var div = d3.select('body').append('div').attr('class', 'tooltip').style('opacity', 0);

    var gridSize = Math.floor(scaleByContainer / scaleByMinCategory);

    //Remove Scaling for right now
    //if (gridSize < 15) {
    //gridSize = 15;
    //} else if (gridSize > 115) {

    //}
    gridSize = 20;

    var vis = svg.append('g').attr('transform', 'translate(0,0)').attr('class', 'heatmap');

    var yAxisTitle = vis.selectAll('.heatmap').data([heatMapData.dataTable.y]);

    yAxisTitle.enter().append('text').attr('class', 'axisLabels bold').attr('x', -21).attr('y', -5).attr('text-anchor', 'end').text(function (d) {
        return d;
    });

    yAxisTitle.exit().remove();
    var formatType = jvCharts.jvFormatValueType(chart.currentData.yAxisData.values);

    var yAxis = vis.selectAll('.yAxis').data(heatMapData.yAxisData.values).enter().append('text').text(function (d) {
        return jvCharts.jvFormatValue(d, formatType);
    }).attr('x', 0).attr('y', function (d, i) {
        return i * gridSize;
    }).style('text-anchor', 'end').style('font-size', chart.options.fontSize).attr('transform', 'translate(-6,' + gridSize / 1.5 + ')').attr('class', function (d, i) {
        return 'rowLabel pointer';
    }).on('click', function (d) {
        //removing styling
        d3.selectAll('.rowLabel').classed('text-highlight', false);
        d3.selectAll('.colLabel').classed('text-highlight', false);
        d3.selectAll('.heat').classed('rect-highlight', false);
        d3.selectAll('.heat').classed('rect-border', false);
    }).on('click', function (d) {
        console.log(d);
        //fade all rects except in this row
        d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
            for (var i = 0; i < chart.currentData.yAxisData.values.length; i++) {
                if (chart.currentData.yAxisData.values[i] === d && d) {
                    if (r.yAxis != i) {
                        return true;
                    }
                }
            }
        });
    });

    var xAxisTitle = vis.selectAll('.xAxisTitle').data([heatMapData.dataTable.x]);

    xAxisTitle.enter().append('text').attr('class', 'axisLabels bold').attr('x', 6).attr('y', 9).attr('transform', function (d, i) {
        return 'translate(' + -gridSize + ', -20)rotate(-45)';
    }).text(function (d) {
        return d;
    });

    xAxisTitle.exit().remove();

    var xAxis = vis.selectAll('.xAxis').data(heatMapData.xAxisData.values).enter().append('svg:g');

    formatType = jvCharts.jvFormatValueType(chart.currentData.xAxisData.values);

    xAxis.append('text').text(function (d) {
        return jvCharts.jvFormatValue(d, formatType);
    }).style('text-anchor', 'start').attr('x', 6).attr('y', 7).attr('class', function (d, i) {
        return 'colLabel pointer';
    }).attr('transform', function (d, i) {
        return 'translate(' + i * gridSize + ', -6)rotate(-45)';
    }).style('font-size', chart.options.fontSize).on('click', function (d) {
        //removing styling
        d3.selectAll('.rowLabel').classed('text-highlight', false);
        d3.selectAll('.colLabel').classed('text-highlight', false);
        d3.selectAll('.heat').classed('rect-highlight', false);
        d3.selectAll('.heat').classed('rect-border', false);
    }).on('click', function (d) {
        //fade all rects except in this column
        d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
            for (var i = 0; i < chart.currentData.xAxisData.values.length; i++) {
                if (chart.currentData.xAxisData.values[i] === d) {
                    if (r.xAxis !== i) {
                        return true;
                    }
                }
            }
        });
    });

    var width = heatMapData.xAxisData.values.length * gridSize;
    var height = heatMapData.yAxisData.values.length * gridSize;
    var formatValueType = jvCharts.jvFormatValueType(chart.data.heatData);

    //vertical lines
    var vLine = vis.selectAll('.vline').data(d3.range(heatMapData.xAxisData.values.length + 1)).enter().append('line').attr('x1', function (d) {
        return d * gridSize;
    }).attr('x2', function (d) {
        return d * gridSize;
    }).attr('y1', function (d) {
        return 0;
    }).attr('y2', function (d) {
        return height;
    }).style('stroke', '#eee');

    //horizontal lines
    var hLine = vis.selectAll('.hline').data(d3.range(heatMapData.yAxisData.values.length + 1)).enter().append('line').attr('y1', function (d) {
        return d * gridSize;
    }).attr('y2', function (d) {
        return d * gridSize;
    }).attr('x1', function (d) {
        return 0;
    }).attr('x2', function (d) {
        return width;
    }).style('stroke', '#eee');

    var heatMap = vis.selectAll('.heat').data(data).enter().append('rect').attr('x', function (d) {
        return d.xAxis * gridSize;
    }).attr('y', function (d) {
        return d.yAxis * gridSize;
    }).attr('rx', 2).attr('ry', 2).attr('class', 'heat').attr('width', gridSize - 1).attr('height', gridSize - 1).style('fill', function (d) {
        if (quantiles === true) {
            if (chart.options.domainArray.length === 0 || d.value >= chart.options.domainArray[0] && d.value <= chart.options.domainArray[1]) {
                return chart.data.colorScale(d.value);
            }
            return 'white';
        }
        var quantizedArray = quantized(heatMapData.heatScores[0], heatMapData.heatScores[heatMapData.heatScores.length - 1]);
        if (chart.options.domainArray.length == 0 || d.value >= chart.options.domainArray[0] && d.value <= chart.options.domainArray[1]) {
            return getQuantizedColor(quantizedArray, d.value);
        }
        return 'white';
    }).on('mouseover', function (d, i) {
        //Get tip data
        var tipData = chart.setTipData(d, i);
        tipData.color = chart.data.colorScale(d.value);

        //Draw tip
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
    }).on('click', function (d) {
        //removing styling
        d3.selectAll('.rowLabel').classed('text-highlight', false);
        d3.selectAll('.colLabel').classed('text-highlight', false);
        d3.selectAll('.heat').classed('rect-highlight', false);
        d3.selectAll('.heat').classed('rect-border', false);
    }).on('dblclick', function (d) {
        //border around selected rect
        d3.select(this).classed('rect-border', true);

        //Fade row labels
        d3.selectAll('.rowLabel').classed('text-highlight', function (r, ri) {
            if (!(ri == d.yAxis)) {
                return true;
            }
        });

        //fade column labels
        d3.selectAll('.colLabel').classed('text-highlight', function (r, ri) {
            if (!(ri == d.xAxis)) {
                return true;
            }
        });

        //fade all rects except selected
        d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
            if (r.yAxis != d.yAxis || r.xAxis != d.xAxis) {
                return true;
            }
        });
    });

    chart.chartDiv.select("svg.heatLegend").remove();

    if (toggleLegend) {
        var legendContainer = chart.chartDiv.append('svg').style('top', chart.config.margin.top + 'px').style('background', chart.options.backgroundColor).attr('class', 'heatLegend').attr('width', chart.config.heatWidth);

        var legendTranslation = { x: 0, y: 15 },
            legendRectSize = gridSize,
            legendSpacing = 2,
            legendElementWidth = 20;

        if (gridSize > 20) {
            legendRectSize = 20;
        }

        var legend = legendContainer.selectAll('.legend').data(chart.data.heatData).enter().append('g').attr('transform', function (d, i) {
            var height = legendRectSize + legendSpacing;
            var offset = height * chart.data.colorScale.domain().length / 2;
            var horz = -2 * legendRectSize;
            var vert = i * height - offset;
            return 'translate(' + 0 + ',' + legendRectSize * i + ')';
        });

        legend.append('rect').attr('class', 'legend').attr('width', legendRectSize).attr('height', legendRectSize).style('fill', function (d, i) {
            return colors[i];
        }).on('click', function (d) {
            //removing styling
            d3.selectAll('.heat').classed('rect-highlight', false);
        }).on('dblclick', function (d) {
            //removing styling
            //fade all rects except selected
            d3.selectAll('.heat').classed('rect-highlight', function (r, ri) {
                if (r.value < d) {
                    return true;
                }
            });
        });

        legend.append('text').attr('class', 'legendText').attr('x', legendRectSize + legendSpacing).attr('y', legendRectSize - legendSpacing).text(function (d) {
            if (isNaN(d)) {
                return d;
            }
            return chart.jvFormatValue(d, formatValueType);
        }).style('fill', 'black');
    }

    function quantized(min, max) {
        bucketCount = chart.options.buckets;
        var sectionValue = (max - min) / bucketCount;
        var quantizedArray = [];
        for (var i = 0; i < bucketCount; i++) {
            quantizedArray[i] = min + i * sectionValue;
        }
        return quantizedArray;
    }

    function getQuantizedColor(quantizedArray, value) {
        for (var i = 1; i < quantizedArray.length; i++) {
            if (value < quantizedArray[i]) {
                return colors[i - 1];
            }
        }
        return colors[quantizedArray.length - 1];
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],13:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.line = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateLine = generateLine;
jvCharts.prototype.setLineThresholdData = setLineThresholdData;

/************************************************ Line functions ******************************************************/

/**setLineData
 *  gets line data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {

    //sort chart data if there is a sort type and label in the options
    if (chart.options.sortType) {
        if (chart.options.sortLabel && chart.options.sortType !== 'default') {
            chart.organizeChartData(chart.options.sortLabel, chart.options.sortType, dataTableKeys);
        }
    }
    chart.data.legendData = setBarLineLegendData(chart.data);
    chart.data.xAxisData = chart.setAxisData('x', chart.data);
    chart.data.yAxisData = chart.setAxisData('y', chart.data);

    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart.options.color, chart.data.legendData, chart.colors);
};
/**setBarLineLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend tex
 */
function setBarLineLegendData(data) {
    var legendArray = [];
    for (var item in data.dataTable) {
        if (data.dataTable.hasOwnProperty(item)) {
            if (item !== 'label') {
                legendArray.push(data.dataTable[item]);
            }
        }
    }
    return legendArray;
}
/** paintLineChart
 *
 * The initial starting point for line chart, begins the drawing process. Must already have the data stored in the chart
 * object
 */
function paint(chart) {
    //Uses the original data and then manipulates it based on any existing options
    var dataObj = chart.getBarDataFromOptions();

    //assign current data which is used by all bar chart operations
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);
    chart.generateXAxis(dataObj.xAxisData);
    chart.generateYAxis(dataObj.yAxisData);
    chart.generateLegend(dataObj.legendData, 'generateLine');
    if (chart.options.rotateAxis) {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }

    chart.generateLine(dataObj);
};

/**
 * The initial starting point for the area chart. Similar to line chart logic with the addition of a fill area function.
 */
function paintAreaChart() {
    var chart = this;
    chart.paintLineChart();
}

/**
 *
 */
function fillArea(lineData) {

    var chart = this,
        svg = chart.svg,
        options = chart.options,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        legendData = chart.currentData.legendData,

    //lineData = chart.currentData.chartData,
    container = chart.config.container,
        colors = options.color;

    //If a legend element is toggled off, use the new list of headers
    if (options.hasOwnProperty('legendHeaders')) {
        legendData = options.legendHeaders;
    }

    //Get the X and Y Scale
    var x = jvCharts.getAxisScale('x', xAxisData, container, 'no-padding', null, options);
    var y = jvCharts.getAxisScale('y', yAxisData, container, 'no-padding', null, options);

    //If axis are normal
    if (!options.rotateAxis) {
        var area = d3.area().x(function (d) {
            return x(d.x);
        }).y0(container.height).y1(function (d) {
            return y(d.y);
        });
    } else {
        var area = d3.area().y(function (d) {
            return y(d.y);
        }).x1(0).x0(function (d) {
            return x(d.x);
        });
    }

    var data = {};

    for (var i = 0; i < lineData.length; i++) {
        for (var k = 0; k < legendData.length; k++) {

            if (typeof legendData !== "undefined") {
                //Accounting for legend toggles
                if (legendData[k].toggle === false) {
                    //Don't write anything to data
                    continue;
                } else {
                    if (!data[legendData[k]]) {
                        data[legendData[k]] = [];
                    }
                    if (!options.rotateAxis) {
                        data[legendData[k]].push({
                            'x': lineData[i][xAxisData.label],
                            'y': parseFloat(lineData[i][legendData[k]])
                        });
                    } else {
                        data[legendData[k]].push({
                            'y': lineData[i][yAxisData.label],
                            'x': parseFloat(lineData[i][legendData[k]])
                        });
                    }
                }
            } else {
                //Initial creation of visualization w/o legend options
                if (!data[legendData[k]]) {
                    data[legendData[k]] = [];
                }
                if (!options.rotateAxis) {
                    data[legendData[k]].push({
                        'x': lineData[i][xAxisData.label],
                        'y': parseFloat(lineData[i][legendData[k]])
                    });
                } else {
                    data[legendData[k]].push({
                        'y': lineData[i][yAxisData.label],
                        'x': parseFloat(lineData[i][legendData[k]])
                    });
                }
            }
        }
    }

    svg.selectAll(".area").remove();

    var ii = 0;
    for (var i in data) {
        svg.append("path").datum(data[i]).attr("class", function (d) {
            if (chart.options.colorLine == true && chart.options.thresholds != 'none' && chart.options.colorChart != false) {
                return "area area-threshold";
            } else {
                return "area";
            }
        }).attr("d", area).attr("fill", function (d) {
            return jvCharts.getColors(colors, k, i);
        }).attr("opacity", 0.6).attr("transform", function (d, i) {
            if (options.rotateAxis) {
                var translation = container.height / lineData.length / 2;
                return "translate(0, " + translation + ")";
            } else {
                var translation = container.width / lineData.length / 2;
                return "translate(" + translation + ", 0)";
            }
        }).attr("pointer-events", "none");
        ii++;
    }
}

/** generateLine
 *
 * Paints the lines
 * @params lineData
 */
function generateLine(lineData) {
    var chart = this,
        svg = chart.svg,
        options = chart.options,
        container = chart.config.container;

    svg.selectAll("g.line-container").remove();

    //Used to draw line that appears when tool tips are visible
    var tipLineX = 0,
        tipLineWidth = 0,
        tipLineHeight = 0,
        tipLineY = 0;

    var colors = options.color,
        x,
        y;

    svg.selectAll("g.line-container").remove();
    var lines = svg.append("g").attr("class", "line-container").selectAll("g");

    var dataHeaders = chart.options.seriesFlipped ? chart.options.flippedLegendHeaders ? chart.options.flippedLegendHeaders : lineData.legendData : chart.options.legendHeaders ? chart.options.legendHeaders : lineData.legendData;
    var lineDataNew = jvCharts.getToggledData(lineData, dataHeaders);

    //If it's an area chart, add the area
    if (chart.config.type === 'area') {
        chart.fillArea(lineDataNew);
    }

    var lineGroups = generateLineGroups(lines, lineDataNew, chart);
    var eventGroups = jvCharts.generateEventGroups(lines, lineDataNew, chart);

    eventGroups.on("mouseover", function (d, i, j) {
        // Transitions in D3 don't support the 'on' function They only exist on selections. So need to move that event listener above transition and after append
        if (chart.draw.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on("mousemove", function (d, i) {
        chart.tip.hideTip();
        svg.selectAll(".tip-line").remove();

        if (chart.draw.showToolTip) {
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on("mouseout", function (d) {
        chart.tip.hideTip();
        svg.selectAll(".tip-line").remove();
    });

    chart.displayValues();
    chart.generateClipPath();
    chart.generateLineThreshold();

    return lines;
};

/** generateLineGroups
 *
 * Paints the groups of the lines
 * @params chartContainer, barData, chart
 */
function generateLineGroups(lineContainer, lineData, chart) {
    var container = chart.config.container,
        options = chart.options,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        legendData = chart.currentData.legendData,
        colors = options.color,
        lines;

    //Get Position Calculations
    var x = jvCharts.getAxisScale('x', xAxisData, container, 'no-padding', options);
    var y = jvCharts.getAxisScale('y', yAxisData, container, 'no-padding', options);

    var xTranslate, yTranslate;

    if (options.rotateAxis === true) {
        xTranslate = function xTranslate(d, i) {
            return x(d);
        };
        yTranslate = function yTranslate(d, i) {
            return y(lineData[i][yAxisData.label]) + container.height / lineData.length / 2; // + container.height / (lineData.length) / 2  - y.paddingInner());
        };
    } else {
        xTranslate = function xTranslate(d, i) {
            return x(lineData[i][xAxisData.label]) + container.width / lineData.length / 2; // + container.width / (lineData.length) / 2 - x.paddingInner());
        };
        yTranslate = function yTranslate(d, i) {
            return y(d);
        };
    }

    //Append lines and circles

    var data = {};

    for (var i = 0; i < lineData.length; i++) {
        for (var k = 0; k < legendData.length; k++) {

            if (typeof options.legendOptions !== "undefined") {
                //Accounting for legend toggles
                if (options.legendOptions[k].toggle === false) {
                    //Don't write anything to data
                    continue;
                } else {
                    //Write something to data
                    if (!data[legendData[k]]) {
                        data[legendData[k]] = [];
                    }
                    data[legendData[k]].push(parseFloat(lineData[i][legendData[k]]));
                }
            } else {
                //Initial creation of visualization w/o legend options
                if (!data[legendData[k]]) {
                    data[legendData[k]] = [];
                }
                if (data[legendData[k]].length < lineData.length) {
                    data[legendData[k]].push(parseFloat(lineData[i][legendData[k]]));
                }
            }
        }
    }

    chart.svg.selectAll(".lines").remove();

    chart.svg.selectAll(".line").remove();
    chart.svg.selectAll(".circle").remove();
    chart.svg.selectAll("#line-gradient").remove();

    lines = chart.svg.selectAll(".line-container");

    var valueline = {};
    var circles = {};
    var index = 0;
    var lineColors = [];
    var max;
    var min;
    var thresholding = false;
    for (var k in data) {
        //Create path generator for each series
        if (data.hasOwnProperty(k)) {
            valueline[k] = d3.line() //line drawing function
            .x(function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return xTranslate(d, i);
            }).y(function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return yTranslate(d, i);
            });

            //Add lines to the line-container
            lines.append('g').attr('class', 'line ' + k).append("path") //draws the line
            .attr('stroke', function (d, i, j) {
                var colorObj = jvCharts.getColors(colors, i, k);
                lineColors.push(colorObj);
                return colorObj;
            }) // fills the bar with color
            .attr("stroke-width", "2").attr("fill", "none").attr("d", valueline[k](data[k]));

            //Color Thresholding for each tier
            if (chart.options.thresholds != 'none' && chart.options.colorChart != false) {
                if (chart.options.colorLine) {
                    var thresholdPercents = [];
                    if (chart.options.rotateAxis) {
                        var zero = { percent: 0, color: lineColors[index] };
                        thresholdPercents.push(zero);

                        for (var z = 0; z < Object.keys(chart.options.thresholds).length; z++) {
                            var pCent = chart.options.thresholds[z].threshold * 100 / (xAxisData.max - xAxisData.min);
                            var temp = { percent: pCent, color: chart.options.thresholds[z].thresholdColor };
                            thresholdPercents.push(temp);
                        }
                    } else {
                        var zero = { percent: 0, color: lineColors[index] };
                        thresholdPercents.push(zero);

                        for (var z = 0; z < Object.keys(chart.options.thresholds).length; z++) {
                            var pCent = chart.options.thresholds[z].threshold * 100 / (yAxisData.max - yAxisData.min);
                            var temp = { percent: pCent, color: chart.options.thresholds[z].thresholdColor };
                            thresholdPercents.push(temp);
                        }
                    }

                    var thresholdData = chart.setLineThresholdData(chart, thresholdPercents, lineColors[index]);

                    lines.selectAll("path").attr("class", "line-threshold");

                    if (chart.options.rotateAxis) {
                        chart.svg.append("linearGradient").attr("id", "line-gradient").attr("gradientUnits", "userSpaceOnUse").attr("x1", xTranslate(xAxisData.min)).attr("y1", 0).attr("x2", xTranslate(xAxisData.max)).attr("y2", 0).selectAll("stop").data(thresholdData).enter().append("stop").attr("offset", function (d) {
                            return d.offset;
                        }).attr("stop-color", function (d) {
                            return d.color;
                        });
                    } else {
                        chart.svg.append("linearGradient").attr("id", "line-gradient").attr("gradientUnits", "userSpaceOnUse").attr("x1", 0).attr("y1", yTranslate(yAxisData.min)).attr("x2", 0).attr("y2", yTranslate(yAxisData.max)).selectAll("stop").data(thresholdData).enter().append("stop").attr("offset", function (d) {
                            return d.offset;
                        }).attr("stop-color", function (d) {
                            return d.color;
                        });
                    }
                }
                thresholding = true;
            }

            //Add circles at joints in the lines
            circles[k] = lines.append('g').attr('class', 'circle ' + k).selectAll('circle').data(data[k]).enter().append("circle") //Circles for the joints in the line
            .attr('class', function (d, i) {
                return 'circle-' + chart.currentData.chartData[i][chart.currentData.dataTable.label] + ' highlight-class-' + i;
            }).attr("cx", function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return xTranslate(d, i);
            }).attr("cy", function (d, i) {
                if (isNaN(d)) {
                    return null;
                }
                return yTranslate(d, i);
            }).attr('fill', function (d, i, j) {
                if (isNaN(d)) {
                    return null;
                } else if (thresholding == true) {
                    var length = Object.keys(chart.options.thresholds).length - 1;
                    if (chart.options.rotateAxis) {
                        for (var z = length; z > -1; z--) {
                            var threshold = chart.options.thresholds[z];
                            if (d >= threshold.threshold) {
                                return threshold.thresholdColor;
                            }
                        }
                    } else {
                        for (var z = length; z > -1; z--) {
                            var threshold = chart.options.thresholds[z];
                            if (d >= threshold.threshold) {
                                return threshold.thresholdColor;
                            }
                        }
                    }
                }

                return jvCharts.getColors(colors, i, k);
            }).attr('opacity', function (d, i, j) {
                if (isNaN(d)) {
                    return 0;
                }
                return 1;
            }).attr("r", 2.5);

            index++;
        }
    }

    //Return line groups
    return lines.selectAll(".circle");
}

function setLineThresholdData(chart, thresholds, color) {
    var data = [];
    for (var k = 0; k < thresholds.length; k++) {
        var gradient;
        var gradientOne = { offset: thresholds[k].percent + "%", color: thresholds[k].color };
        data.push(gradientOne);

        if (k + 1 < thresholds.length) {
            var gradientTwo = { offset: thresholds[k + 1].percent + "%", color: thresholds[k].color };
            data.push(gradientTwo);
        }

        if (k == thresholds.length - 1) {
            var last = { offset: "100%", color: thresholds[k].color };
            data.push(last);
        }
    }

    return data;
}
module.exports = jvCharts;

},{"../jvCharts.js":3}],14:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.circlepack = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generatePack = generatePack;

/************************************************ Pack functions ******************************************************/

/**setPackChartData
 *  gets pack data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    chart.data.legendData = setPackLegendData(chart.data.dataTable);
    //define color object for chartData
    chart.data.color = chart.colors;
}

/**setPackLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setPackLegendData(dataTable) {
    var legendArray = [];
    var label = '';
    for (var key in dataTable) {
        if (dataTable.hasOwnProperty(key)) {
            if (key === 'value') {
                label = dataTable[key];
            } else {
                legendArray.push(dataTable[key]);
            }
        }
    }
    legendArray.unshift(label);
    return legendArray;
}

function paint(chart) {
    chart.options.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var packMargins = {
        top: 30,
        right: 20,
        bottom: 15,
        left: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, packMargins);
    chart.generateVerticalLegend('generatePack');
    chart.generatePack(chart.currentData);
};

/** generatePack
 *
 * paints the pack on the chart
 * @params packData
 */
function generatePack() {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        w = container.width,
        h = container.height,
        r = Math.min(h / 2, w / 3),
        margin = 20,
        diameter = r * 2;

    chart.children = chart.data.chartData;

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 0.8;return c;
    }));

    //  assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(chart.children, function (d) {
        return d.children;
    });

    var pack = d3.pack().size([container.width, container.height]).padding(2);

    pack(root.sum(function (d) {
        return d.hasOwnProperty('children') ? 0 : d.name;
    }).sort(function (a, b) {
        return b.height - a.height || b.value - a.value;
    })).descendants();

    svg.selectAll(".pack").remove();

    var vis = svg.append("g").attr("class", "pack").attr("transform", "translate(" + w / 2 + "," + r + ")");

    var circle = vis.selectAll("circle").data(root.descendants()).enter().append("circle").attr("class", function (d) {
        return d.parent ? d.children ? "node" : "node node--leaf" : "node node--root";
    }).style("fill", function (d) {
        d.color = color(d.depth);
        return d.children ? color(d.depth) : null;
    }).on("click", function (d) {
        if (focus !== d) {
            zoom(d), d3.event.stopPropagation();
        }
    }).on("mouseover", function (d, i) {
        //Get tip data
        var tipData = chart.setTipData(d, i);
        //Draw tip line
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
    }).on("mouseout", function (d) {
        chart.tip.hideTip();
    });

    // var text = vis.selectAll("text")
    //     .data(root.descendants())
    //     .enter().append("text")
    //     .attr("class", "label")
    //     .style("display", function(d) {
    //         return d.parent === root ? "inline" : "none";
    //     });

    var node = svg.selectAll("circle,text");

    d3.select("body").on("click", function () {
        zoom(root);
    });

    zoomTo([root.x, root.y, root.r * 2 + margin]);

    function zoom(d) {
        var focus = d;

        d3.transition().duration(d3.event.altKey ? 7500 : 750).tween("zoom", function (d) {
            var i = d3.interpolateZoom(view, [focus.x, focus.y, focus.r * 2 + margin]);
            return function (t) {
                zoomTo(i(t));
            };
        });

        // transition.selectAll("text")
        //     .filter(function(d) {
        //         return d.parent === focus || this.style.display === "inline";
        //     })
        //     .style("fill-opacity", function(d) {
        //         return d.parent === focus ? 1 : 0;
        //     })
        //     .style("display", function(d) {
        //         return d.parent === focus ? "inline" : "none";
        //     })
        //     .each("start", function(d) {
        //         if (d.parent === focus) {
        //            this.style.display = "inline";
        //         }
        //     })
        //     .each("end", function(d) {
        //         if (d.parent !== focus) {
        //           this.style.display = "none";
        //         }
        //     });
    }
    var view;
    function zoomTo(v) {
        var k = diameter / v[2];

        //set global zoom
        view = v;

        node.attr("transform", function (d) {
            if (d && d.x && d.y) {
                return "translate(" + (d.x - v[0]) * k + "," + (d.y - v[1]) * k + ")";
            }
        });

        circle.attr("r", function (d) {
            return d.r * k;
        });
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],15:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.pie = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generatePie = generatePie;

/************************************************ Pie Data functions ******************************************************/

/**setPieData
 *  gets pie data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    chart.data.legendData = setPieLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart.options.color, chart.data.legendData, chart.colors);
}
/**setPieLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setPieLegendData(data) {
    var legendArray = [];
    for (var i = data.chartData.length - 1; i >= 0; i--) {
        legendArray.push(data.chartData[i][data.dataTable.label]);
    }
    return legendArray;
}

function paint(chart) {
    var customMargins = {
        top: 40,
        right: 20,
        bottom: 20,
        left: 20
    };
    chart.currentData = chart.data;
    chart.options.color = chart.data.color;
    chart.legendData = chart.data.legendData;
    chart.generateSVG(chart.data.legendData, customMargins);

    //If the container size is small, don't generate a legend
    if (chart.config.container.width > 550) {
        chart.generateVerticalLegend('generatePie');
    }

    chart.generatePie(chart.currentData);
}

/**generatePie
 *
 * creates and draws a pie chart on the svg element
 * @params svg, pieData, options, container, chartName
 * @returns {{}}
 */
function generatePie(currentData) {
    var chart = this,
        svg = chart.svg,
        pieData = currentData.chartData,
        options = chart.options,
        container = chart.config.container,
        legendData = chart.currentData.legendData,
        chartName = chart.config.name;

    //define variables to change attr's
    svg.select('g.pie-container').remove();

    //var keys = Object.keys(pieData[0]);//Data headers
    var keys = [chart.data.dataTable.label, chart.data.dataTable.value];
    var colors = options.color;

    var w = container.width;
    var h = container.height;
    var r = Math.min(h / 2, w / 3);

    var data = [];
    var total = 0;

    for (var i = 0; i < pieData.length; i++) {
        data[i] = { label: pieData[i][keys[0]], value: pieData[i][keys[1]] };
        //total += parseFloat(pieData[i][keys[1]]);
    }

    var pieDataNew = JSON.parse(JSON.stringify(data)); //copy of pie data


    if (!chart.options.legendHeaders) {
        chart.options.legendHeaders = legendData;
    }

    var dataHeaders = chart.options.legendHeaders;

    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);

    if (legendElementToggleArray) {
        for (var j = 0; j < pieDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === pieDataNew[j].label && legendElementToggleArray[i].toggle === false) {
                    //pieDataNew.splice(j,1);
                    pieDataNew[j].value = 0;
                }
            }
        }
    }

    for (var i = 0; i < pieDataNew.length; i++) {
        total += parseFloat(pieDataNew[i].value);
    }

    var vis = svg.append('g').data([pieDataNew]).attr('class', 'pie-container').attr('height', 200).attr('transform', 'translate(' + w / 2 + ',' + r + ')');

    var pie = d3.pie().value(function (d) {
        return d.value;
    });

    //declare an arc generator function
    var arc = d3.arc().innerRadius(0) //Normal pie chart when this = 0, can be changed to create donut chart
    .outerRadius(r);

    var arcOver = d3.arc().innerRadius(0).outerRadius(r + 15);

    //select paths, use arc generator to draw
    var arcs = vis.selectAll('g.slice').data(pie).enter().append('g').attr('class', 'slice');

    arcs.append('path').attr('fill', function (d, i) {
        return jvCharts.getColors(colors, i, pieData[i][keys[0]]);
    }).attr('d', function (d) {
        return arc(d);
    }).attr('class', function (d, i) {
        return 'editable editable-pie pie-slice-' + i + ' highlight-class-' + i;
    }).attr('stroke', '#FFFFFF').attr('stroke-width', 1).on('mouseover', function (d, i) {
        if (chart.draw.showToolTip) {
            //Get tip data
            var tipData = chart.setTipData(d.data, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);

            arcs.selectAll('*').style('opacity', 0.7);
            var slice = d3.select(this);
            slice.style('opacity', 1);
            slice.transition().duration(200).attr('d', arcOver);
        }
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            //Get tip data
            var tipData = chart.setTipData(d.data, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on('mouseout', function (d) {
        chart.tip.hideTip();
        arcs.selectAll('*').style('opacity', 1);
        d3.select(this).transition().duration(250).attr('d', arc);
    });

    arcs.append('svg:text').attr('class', 'sliceLabel').attr('transform', function (d) {
        var test = arc.centroid(d);
        test[0] = test[0] * 1.6;
        test[1] = test[1] * 1.6;
        return 'translate(' + test + ')';
    }).attr('dy', '.35em').attr('text-anchor', 'middle').text(function (d, i) {
        var percent = pieDataNew[i].value / total * 100;
        percent = d3.format('.1f')(percent);
        if (percent > 5) {
            return percent + '%';
        }
    }).attr('font-size', chart.options.fontSize).attr('fill', '#FFFFFF').attr('pointer-events', 'none');
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],16:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.radial = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateRadial = generateRadial;

/************************************************ Radial Data functions ******************************************************/
/**setRadialChartData
 *  gets bar data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    chart.data.legendData = setRadialLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart.options.color, chart.data.legendData, chart.colors);
}

function paint(chart) {
    chart.options.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var radialMargins = {
        top: 40,
        right: 20,
        bottom: 20,
        left: 20
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, radialMargins);
    chart.generateVerticalLegend('generateRadial');
    chart.generateRadial();
}

/**setRadialLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setRadialLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.length; i++) {
        if (legendArray.indexOf(data.chartData[i][data.dataTable.label]) == -1) {
            legendArray.push(data.chartData[i][data.dataTable.label]);
        }
    }
    return legendArray;
}

/**generateRadial
 *
 * paints the radil bar chart on the chart
 * @params radialData
 */

function generateRadial() {
    var chart = this,
        svg = chart.svg,
        colors = chart.options.color,
        container = chart.config.container,
        legendData = chart.data.legendData,
        radialData = chart.data.chartData,
        tickNumber = 3,
        barHeight = container.height / 2 - 40,
        width = container.width,
        height = container.height,
        r = Math.min(height / 2, width / 3),
        data = [],
        allKeys = [chart.data.dataTable.label, chart.data.dataTable.value],
        radialDataNew,
        dataHeaders,
        legendElementToggleArray = [],
        radialDataFiltered;

    for (var i = 0; i < radialData.length; i++) {
        data[i] = { label: radialData[i][allKeys[0]], value: radialData[i][allKeys[1]] };
        //total += parseFloat(radialData[i][keys[1]]);
    }

    radialDataNew = JSON.parse(JSON.stringify(data)); //copy of pie data


    if (!chart.options.legendHeaders) {
        chart.options.legendHeaders = legendData;
    }

    dataHeaders = chart.options.legendHeaders;
    legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);
    radialDataFiltered = [];

    if (legendElementToggleArray) {
        for (var j = 0; j < radialDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === radialDataNew[j].label && legendElementToggleArray[i].toggle === false) {
                    radialDataNew[j].value = -1;
                }
            }
        }
    }

    for (var j = 0; j < radialDataNew.length; j++) {
        if (radialDataNew[j].value !== -1) {
            radialDataFiltered.push(radialDataNew[j]);
        }
    }

    radialDataFiltered.sort(function (a, b) {
        return b.value - a.value;
    });

    //Remove existing bars from page
    svg.selectAll('g.radial-container').remove();

    var vis = svg.append('g').attr('class', 'radial-container').attr('height', height).attr('transform', 'translate(' + width / 2 + ',' + r + ')');

    var extent = d3.extent(radialDataFiltered, function (d) {
        return d.value;
    });

    //commas and 0 decimals
    var formatNumber = d3.format(',.0f');
    if (extent[1] >= 1000000) {
        //millions
        var p = d3.precisionPrefix(1e5, 1.3e6);
        formatNumber = d3.formatPrefix('.' + p, 1.3e6);
    } else if (extent[1] <= 100) {
        //2 decimals
        formatNumber = d3.format(',.2f');
    }

    if (extent[0] !== 0) {
        extent[0] = 0;
    }
    var barScale = d3.scaleLinear().domain(extent).range([0, barHeight]);

    var keys = radialDataFiltered.map(function (d, i) {
        return d.label;
    });
    var numBars = keys.length;

    var x = d3.scaleLinear().domain(extent).range([0, -barHeight]);

    //create xAxis drawing function
    var xAxis = d3.axisLeft().scale(x).ticks(tickNumber).tickFormat(formatNumber);

    vis.selectAll('circle').data(x.ticks(3)).enter().append('circle').attr('r', function (d) {
        return barScale(d);
    }).style('fill', 'none').style('stroke', 'black').style('stroke-dasharray', '2,2').style('stroke-width', '.5px');

    var arc = d3.arc().startAngle(function (d, i) {
        return i * 2 * Math.PI / numBars;
    }).endAngle(function (d, i) {
        return (i + 1) * 2 * Math.PI / numBars;
    }).innerRadius(0);

    var segments = vis.selectAll('path').data(radialDataFiltered).enter().append('g')
    //.attr("class", "label")
    .append('path').each(function (d) {
        d.outerRadius = 0;
    }).style('fill', function (d, i) {
        return jvCharts.getColors(colors, i, d.label);
    }).attr('d', arc).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            //chart.tip.hideTip();
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on('mouseout', function (d) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            svg.selectAll('line.tip-line').remove();
        }
    });

    segments.transition().duration(800).ease(d3.easeElastic).delay(function (d, i) {
        return 750 - 50 * i;
    }).attrTween('d', function (d, index) {
        var i = d3.interpolate(d.outerRadius, barScale(+d.value));
        return function (t) {
            d.outerRadius = i(t);
            return arc(d, index);
        };
    });

    vis.append('circle').attr('r', barHeight).classed('outer', true).style('fill', 'none').style('stroke', 'black').style('stroke-width', '1.5px');

    vis.selectAll('line').data(keys).enter().append('g').attr('class', 'label').append('line').attr('y2', -barHeight - 20).style('stroke', 'black').style('stroke-width', '.5px').attr('transform', function (d, i) {
        return 'rotate(' + i * 360 / numBars + ')';
    });

    var axisGroup = vis.append('g').attr('class', 'xAxis').style('pointer-events', 'none').call(xAxis);
    var yAxisClass = 'yAxisLabels editable editable-yAxis editable-text editable-num';

    axisGroup.selectAll('text').attr('fill', 'black') //Customize the color of axis labels
    .attr('class', yAxisClass).attr('transform', function (d) {
        if (d === xAxis.scale().ticks(tickNumber)[tickNumber]) {
            return 'translate(0, 10)';
        }
        return 'translate(0,0)';
    }).attr('font-size', chart.options.fontSize).append('svg:title');
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],17:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.sankey = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateSankey = generateSankey;

/************************************************ Sankey functions ******************************************************/
/**
 *
 * @param data
 * @param dataTable
 * @param colors
 */
function setData(chart) {
    var sankeyData = {},
        data = chart.data.chartData,
        dataTable = chart.data.dataTable;

    sankeyData.links = [];
    sankeyData.nodes = [];

    //Iterate through sources and targets to make a node list
    var nodeList = [];
    for (var item in dataTable) {
        if (item === "value") {
            continue;
        };
        for (var i = 0; i < data.length; i++) {
            var potentialNode = data[i][dataTable[item]];
            var addToList = true;
            for (var j = 0; j < nodeList.length; j++) {
                if (potentialNode === nodeList[j]) {
                    addToList = false;
                    break;
                }
            }
            if (addToList) {
                nodeList.push(potentialNode);
            }
        }
    }
    //Create nodes object
    for (var i = 0; i < nodeList.length; i++) {
        sankeyData.nodes.push({
            "name": nodeList[i]
        });
    }

    sankeyData.links = data.map(function (x) {
        return {
            "source": x[dataTable.start],
            "target": x[dataTable.end],
            "value": x[dataTable.value]
        };
    });

    var nodeMap = {};
    for (var i = 0; i < sankeyData.nodes.length; i++) {
        sankeyData.nodes[i].node = i;
        nodeMap[sankeyData.nodes[i].name] = i;
    }
    sankeyData.links = sankeyData.links.map(function (x) {
        return {
            source: nodeMap[x.source],
            target: nodeMap[x.target],
            value: x.value
        };
    });

    chart.data.chartData = sankeyData;
    chart.data.color = d3.scaleOrdinal(d3.schemeCategory20);
}

function paint(chart) {
    var data = chart.data.chartData;

    //generate SVG
    chart.generateSVG();
    chart.generateSankey(data);
}

/**
 * Generates a sankey chart with the given data
 * @param sankeyData
 */
function generateSankey(sankeyData) {
    var chart = this,
        svg = chart.svg,
        color = chart.options.color;

    var width = chart.config.container.width;
    var height = chart.config.container.height;

    var formatNumber = d3.format(",.0f"),
        // zero decimal places
    format = function format(d) {
        return formatNumber(d) + " " + "Widgets";
    },
        color = d3.scaleOrdinal(d3.schemeCategory20);

    //var nodeMap = {};
    //for (var i = 0; i < sankeyData.nodes.length; i++) {
    //    sankeyData.nodes[i].node = i;
    //    nodeMap[sankeyData.nodes[i].name] = i;
    //}
    //sankeyData.links = sankeyData.links.map(function(x){
    //    return {
    //        source: nodeMap[x.source],
    //        target: nodeMap[x.target],
    //        value: x.value
    //    };
    //});

    var sankey = d3.sankey().nodeWidth(10).nodePadding(15).size([width, height]);

    var path = sankey.link();

    // //Adding zoom v4 behavior to sankey
    d3.selectAll("svg").call(d3.zoom().scaleExtent([.1, 10]).on("zoom", zoom)); //zoom event listener

    sankey.nodes(sankeyData.nodes).links(sankeyData.links).layout(32);

    var link = svg.append("g").selectAll(".sankey-link").data(sankeyData.links).enter().append("path").filter(function (d) {
        return d.value > 0;
    }).attr("class", "sankey-link").attr("d", path).style("stroke-width", function (d) {
        return Math.max(1, d.dy);
    }).sort(function (a, b) {
        return b.dy - a.dy;
    }).on("mouseover", function (d, i) {
        if (chart.draw.showToolTip) {
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on("mousemove", function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on("mouseout", function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
        }
    });

    var node = svg.append("g").selectAll(".node").data(sankeyData.nodes).enter().append("g").filter(function (d) {
        return d.value > 0;
    }).attr("class", "node").attr("transform", function (d) {
        return "translate(" + d.x + ", " + d.y + ")";
    }).call(d3.drag().subject(function (d) {
        return d;
    }).on("start", function (d) {
        d3.event.sourceEvent.stopPropagation();
        this.parentNode.appendChild(this);
    }).on("drag", dragmove));

    node.append("rect").attr("height", function (d) {
        return Math.max(d.dy, 0);
    }).attr("width", sankey.nodeWidth()).style("fill", function (d) {
        return d.color = color(d.name);
    }).style("stroke", function (d) {
        return d3.rgb(d.color).darker(2);
    });

    node.append("text").attr("x", -6).attr("y", function (d) {
        return d.dy / 2;
    }).attr("dy", ".35em").attr("text-anchor", "end").attr("transform", null).attr("transform", null).text(function (d) {
        return d.name;
    }).filter(function (d) {
        return d.x < width / 2;
    }).attr("x", 6 + sankey.nodeWidth()).attr("text-anchor", "start");

    function dragmove(d) {
        d3.select(this).attr("transform", "translate(" + (d.x = Math.max(0, Math.min(width - d.dx, d3.event.x))) + "," + (d.y = Math.max(0, Math.min(height - d.dy, d3.event.y))) + ")");
        sankey.relayout();
        link.attr("d", path);
    }

    function zoom() {
        //Implementing the v4 zooming feature
        svg.attr("transform", d3.event.transform);
    }
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],18:[function(require,module,exports){
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.scatterplot = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateScatter = generateScatter;
jvCharts.prototype.createLineGuide = createLineGuide;

/************************************************ Scatter functions ******************************************************/

/**setScatterData
 *  gets scatter data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    chart.data.legendData = setScatterLegendData(chart.data);
    chart.data.xAxisData = setScatterAxisData(chart.data, 'x', chart.options);
    chart.data.yAxisData = setScatterAxisData(chart.data, 'y', chart.options);
    chart.data.zAxisData = chart.data.dataTable.hasOwnProperty('z') ? setScatterAxisData(chart.data, 'z', chart.options) : {};
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart.options.color, chart.data.legendData, chart.colors);
}

/**setScatterLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setScatterLegendData(data) {
    var legendArray = [];
    if (data.dataTable.hasOwnProperty('series')) {
        var item = data.dataTable.series;
        for (var value in data.chartData) {
            var legendElement = data.chartData[value][item];
            if (legendArray.indexOf(legendElement) === -1) {
                legendArray.push(legendElement);
            }
        }
    } else if (data.dataTable.hasOwnProperty('label')) {
        legendArray.push(data.dataTable.label);
    }
    if (typeof legendArray[0] === 'undefined') {
        legendArray = [];
        legendArray.push(data.dataTable.label);
    }
    //order legend data in alphabetical order
    legendArray.sort();
    return legendArray;
}

/**setScatterAxisData
 *  gets z axis data based on the chartData
 *
 * @params data, dataTable
 * @returns object with label and values
 */
function setScatterAxisData(data, axis, options) {
    //declare vars
    var axisData = [],
        chartData = data.chartData,
        scatterLabel = data.dataTable[axis],
        label,
        min = scatterLabel ? chartData[0][scatterLabel] : 0,
        max = scatterLabel ? chartData[0][scatterLabel] : 0,
        dataType;

    for (var j = 0; j < data.dataTableKeys.length; j++) {
        if (data.dataTableKeys[j].vizType === axis) {
            dataType = data.dataTableKeys[j].type;
            break;
        }
    }
    //loop over data to find max and min
    //also determines the y axis total if the data is stacked
    for (var i = 1; i < chartData.length; i++) {
        if (chartData[i].hasOwnProperty(scatterLabel)) {
            var num = chartData[i][scatterLabel];
            if (!isNaN(num)) {
                num = parseFloat(num);
                if (num > max) {
                    max = num;
                } else if (num < min) {
                    min = num;
                }
            }
        }
    }
    if (axis !== 'z') {
        min *= 0.9;
        max *= 1.1;
    }

    if (options) {
        if (options.yMin && !isNaN(options.yMin) && axis === 'y') {
            min = options.yMin;
        }
        if (options.yMax && !isNaN(options.yMax) && axis === 'y') {
            max = options.yMax;
        }
        if (options.xMin && !isNaN(options.xMin) && axis === 'x') {
            min = options.xMin;
        }
        if (options.xMax && !isNaN(options.xMax) && axis === 'x') {
            max = options.xMax;
        }
    }

    axisData.push(min);
    axisData.push(max);
    return {
        'label': scatterLabel,
        'values': axisData,
        'dataType': 'NUMBER',
        'min': min,
        'max': max
    };
}

function paint(chart) {
    var dataObj = {};

    dataObj.chartData = chart.data.chartData;
    dataObj.legendData = chart.data.legendData;
    dataObj.dataTable = chart.data.dataTable;
    chart.options.color = chart.data.color;
    dataObj.xAxisData = chart.data.xAxisData;
    dataObj.yAxisData = chart.data.yAxisData;
    dataObj.zAxisData = chart.data.zAxisData;
    chart.currentData = dataObj;

    //generate svg dynamically based on legend data
    chart.generateSVG(dataObj.legendData);

    //TODO remove these from draw object
    chart.generateXAxis(chart.currentData.xAxisData);
    chart.generateYAxis(chart.currentData.yAxisData);
    chart.generateLegend(chart.currentData.legendData, 'generateScatter');

    chart.generateScatter();
    chart.createLineGuide();

    if (typeof dataObj.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(dataObj.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(dataObj.xAxisScale.domain().length);
    }
}

function calculateMean(data, type) {
    return d3.mean(data, function (value) {
        return +value[type];
    });
}

function createLineGuide() {
    var chart = this,
        svg = chart.svg,
        options = chart.options,
        container = chart.config.container,
        chartData = chart.currentData.chartData,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData;

    var xLineVal = calculateMean(chartData, dataTable.x);
    var yLineVal = calculateMean(chartData, dataTable.y);

    var x = jvCharts.getAxisScale('x', xAxisData, container, null, options);
    var y = jvCharts.getAxisScale('y', yAxisData, container, null, options);

    svg.selectAll('g.lineguide.x').remove();
    svg.selectAll('g.lineguide.y').remove();

    var lineGroup = svg.append('g').attr('class', 'line-group');

    //x line group for crosshair
    var lineGuideX = lineGroup.append('g').attr('class', 'lineguide x').append('line').style('stroke', 'gray').style('stroke-dasharray', '3, 3').style('opacity', function () {
        if (options.lineGuide) {
            return 1;
        }
        return 0;
    }).style('fill', 'black');

    //y line group for crosshair
    var lineGuideY = lineGroup.append('g').attr('class', 'lineguide y').append('line').style('stroke', 'gray').style('stroke-dasharray', '3, 3').style('opacity', function () {
        if (options.lineGuide) {
            return 1;
        }
        return 0;
    }).style('fill', 'black');

    //create crosshair based on median x (up/down) 'potentially' passed with data
    lineGuideX.attr('x1', x(xLineVal)).attr('y1', 0).attr('x2', x(xLineVal)).attr('y2', container.height);

    //create crosshair based on median y (left/right) 'potentially' passed with data
    lineGuideY.attr('x1', 0).attr('y1', y(yLineVal)).attr('x2', container.width).attr('y2', y(yLineVal));

    return lineGroup;
}
/**generateScatter
 *
 * creates and draws a scatter plot on the svg element
 * @params svg, scatterData, options, xAxisData, yAxisData, zAxisData, container, dataTable legendData, chartName
 * @returns {{}}
 */
function generateScatter() {
    var chart = this,
        svg = chart.svg,
        options = chart.options,
        container = chart.config.container,
        chartName = chart.config.name,
        scatterData = chart.currentData.chartData,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        yAxisData = chart.currentData.yAxisData,
        zAxisData = chart.currentData.zAxisData,
        legendData = chart.currentData.legendData,
        colors = options.color,
        keys = [dataTable.label, dataTable.x, dataTable.y, dataTable.z, dataTable.series],
        data = [],
        total = 0,
        scatterDataNew = JSON.parse(JSON.stringify(scatterData));

    if (!options.NODE_MIN_SIZE) {
        options.NODE_MIN_SIZE = 4.5;
    }
    if (!options.NODE_MAX_SIZE) {
        options.NODE_MAX_SIZE = 25;
    }

    svg.selectAll('g.scatter-container').remove();
    svg.selectAll('g.scatter-container.editable-scatter').remove();

    if (!chart.options.legendHeaders) {
        chart.options.legendHeaders = legendData;
    }

    var dataHeaders = chart.options.legendHeaders;
    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, legendData);
    var scatterDataFiltered = [];

    if (legendElementToggleArray) {
        for (var j = 0; j < scatterDataNew.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (typeof scatterDataNew[j][dataTable.label] === 'undefined' || scatterDataNew[j][dataTable.label] === '') {
                    if (legendElementToggleArray[i].toggle === false) {
                        scatterDataNew[j][dataTable.x] = -1;
                        scatterDataNew[j][dataTable.y] = -1;
                        scatterDataNew[j][dataTable.z] = -1;
                    }
                } else if (legendElementToggleArray[i].element === scatterDataNew[j][dataTable.series] && legendElementToggleArray[i].toggle === false) {
                    scatterDataNew[j][dataTable.x] = -1;
                    scatterDataNew[j][dataTable.y] = -1;
                    scatterDataNew[j][dataTable.z] = -1;
                }
            }
        }
    }

    for (var j = 0; j < scatterDataNew.length; j++) {
        if (scatterDataNew[j][dataTable.x] !== -1 && scatterDataNew[j][dataTable.y] !== -1) {
            scatterDataFiltered.push(scatterDataNew[j]);
        }
    }

    var x = jvCharts.getAxisScale('x', xAxisData, container, null, options);
    var y = jvCharts.getAxisScale('y', yAxisData, container, null, options);

    if (zAxisData && (typeof zAxisData === 'undefined' ? 'undefined' : _typeof(zAxisData)) === 'object' && Object.keys(zAxisData).length > 0) {
        console.log(zAxisData);
        var z = jvCharts.getZScale(zAxisData, container, options);
    }

    var cxTranslate, cyTranslate;

    cxTranslate = function cxTranslate(d, i) {
        return x(scatterDataFiltered[i][xAxisData.label]);
    };
    cyTranslate = function cyTranslate(d, i) {
        return y(scatterDataFiltered[i][yAxisData.label]);
    };

    var scatters = svg.append('g').attr('class', 'scatter-container').selectAll('g');

    var scatterGroup = scatters.data(function () {
        return scatterDataFiltered;
    }).enter().append('circle').attr('class', function (d, i) {
        return 'editable editable-scatter scatter-circle-' + i + ' highlight-class';
    }).attr('cx', function (d, i) {
        return cxTranslate(d, i);
    }).attr('cy', function (d, i) {
        return cyTranslate(d, i);
    }).attr("opacity", 0.8).attr('r', function (d, i) {
        if (dataTable.hasOwnProperty('z')) {
            if (options.toggleZ && zAxisData && (typeof zAxisData === 'undefined' ? 'undefined' : _typeof(zAxisData)) === 'object' && Object.keys(zAxisData).length > 0 && scatterDataFiltered[i][dataTable.z]) {
                return z(scatterDataFiltered[i][dataTable.z]);
            }
        }
        return options.NODE_MIN_SIZE;
    }).on('mouseover', function (d, i, j) {
        if (chart.draw.showToolTip) {
            var tipData = chart.setTipData(d, i);

            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on('mousemove', function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
            //Get tip data
            var tipData = chart.setTipData(d, i);
            //Draw tip line
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }
    }).on('mouseout', function () {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
        }
    }).attr('fill', function (d, i) {
        var color;
        if (dataTable.hasOwnProperty('series')) {
            color = jvCharts.getColors(colors, i, scatterDataFiltered[i][dataTable.series]);
        } else {
            color = jvCharts.getColors(colors, i, scatterDataFiltered[i][dataTable.label]);
        }
        return color;
    });

    return scatters;
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],19:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.singleaxis = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.getSingleAxisData = getSingleAxisData;
jvCharts.prototype.getSingleAxisZ = getSingleAxisZ;
jvCharts.prototype.generatePoints = generatePoints;

/************************************************ Single Axis Cluster functions ******************************************************/

function setData(chart) {
    chart.currentData = { chartData: chart.data.chartData, dataTable: chart.data.dataTable };

    //Set the legend Data to the label from dataTable Keys
    chart.currentData.legendData = [chart.currentData.dataTable.x];
    chart.currentData.xAxisData = chart.getSingleAxisData(chart.currentData.chartData, chart.currentData.dataTable);

    if (chart.currentData.dataTable.hasOwnProperty('size')) {
        chart.currentData.zAxisData = chart.getSingleAxisZ(chart.currentData.chartData);
    }

    chart.currentData.color = 'red'; //chart.setChartColors (chart.options.color, chart.data.legendData, colors);
}

function paint(chart) {
    var splitData = {},
        //If there is a split, the data that has been split
    numVizzes,
        //If there is a split, the number of single axis clusters that are created
    customSize = {},
        //If there is a split, the svg needs to be a custom predefined height
    margin = {
        top: 40,
        left: 100,
        right: 75,
        bottom: 50
    };

    //If there is a split on the viz, run through this logic
    if (chart.options.splitData != "" && chart.options.splitData != "none") {
        //Check to see how many vizzes need to be created because of the split

        var splitDataKeys = [];
        var splitOptionName = chart.options.splitData.replace(/_/g, " ");

        for (var i = 0; i < chart.currentData.chartData.length; i++) {
            var addToKeys = true;
            for (var j = 0; j < splitDataKeys.length; j++) {
                if (chart.currentData.chartData[i][splitOptionName] === splitDataKeys[j]) {
                    addToKeys = false;
                    break;
                }
            }
            if (addToKeys) {
                splitDataKeys.push(chart.currentData.chartData[i][splitOptionName]);
            }
        }

        //Create Object with keys and assign each element of the data array to corresponding object
        for (var i = 0; i < splitDataKeys.length; i++) {
            splitData[splitDataKeys[i]] = []; //Assign empty array to each location
        }

        //Assign Data elements to appropriate place in splitData object
        for (var i = 0; i < chart.currentData.chartData.length; i++) {
            splitData[chart.currentData.chartData[i][splitOptionName]].push(chart.currentData.chartData[i]);
        }

        numVizzes = splitDataKeys.length;

        customSize = {};

        customSize.height = numVizzes * 300;

        chart.generateSVG(chart.currentData.legendData, margin, customSize);
        chart.generateXAxis(chart.currentData.xAxisData);
        chart.drawGridlines(chart.currentData.xAxisData);

        for (var i = 0; i < numVizzes; i++) {
            chart.generatePoints(splitData[splitDataKeys[i]], i);
        }
    }
    //When there isn't a split, the base case
    else {
            chart.generateSVG(chart.currentData.legendData, margin);
            chart.generateXAxis(chart.currentData.xAxisData);
            chart.drawGridlines(chart.currentData.xAxisData);
            chart.generatePoints(chart.currentData.chartData);
        }

    if (typeof chart.currentData.xAxisScale.ticks === "function") {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.ticks().length);
    } else {
        chart.formatXAxisLabels(chart.currentData.xAxisScale.domain().length);
    }
}

function getSingleAxisZ(data) {
    var chart = this,
        size = chart.currentData.dataTable.size,
        min = data[0][size],
        max = data[0][size];
    //Find min and max of the data
    for (var i = 0; i < data.length; i++) {
        var num = data[i][size];
        if (num > max) {
            max = num;
        } else if (num < min) {
            min = num;
        }
    }

    return {
        'min': min,
        'max': max,
        'label': size
    };
}

function generatePoints(data, yLevel) {
    var chart = this,
        svg = chart.svg,
        width = chart.config.container.width,
        height = chart.config.container.height,
        dataTable = chart.currentData.dataTable,
        xAxisData = chart.currentData.xAxisData,
        zAxisData = chart.currentData.zAxisData,
        options = chart.options,
        container = chart.config.container,
        pointColor = "#609cdb",
        coloredPoint = "#e88a17";

    var x = jvCharts.getAxisScale('x', xAxisData, chart.config.container, null, null, chart.options);

    var SPLIT_CLUSTER_HEIGHT = 300;
    var TRANSLATE_SPLIT_CLUSTER = 150;

    //If there's a split, account for the multiple axes
    var currentAxisHeight;
    if (yLevel != null) {
        currentAxisHeight = yLevel * SPLIT_CLUSTER_HEIGHT + TRANSLATE_SPLIT_CLUSTER; //Each height is 100px
    } else {
        currentAxisHeight = height / 2;
    }

    if (!options.NODE_MIN_SIZE) {
        options.NODE_MIN_SIZE = 4.5;
    }
    if (!options.NODE_MAX_SIZE) {
        options.NODE_MAX_SIZE = 25;
    }

    //Add a path line through the height of the axis
    if (yLevel != null) {
        svg.append("line").attr("x1", 0).attr("x2", container.width).attr("y1", currentAxisHeight).attr("y2", currentAxisHeight).attr("stroke", "white").attr("stroke-width", "20px").attr("transform", "translate(0, " + TRANSLATE_SPLIT_CLUSTER + ")");

        svg.append("text").datum(data).attr("x", 0).attr("y", currentAxisHeight).text(function (d, i) {
            return d[0][options.splitData.replace(/_/g, ' ')];
        }).attr("transform", "translate(-85, 0)");
    }

    var simulation = d3.forceSimulation(data).alphaDecay(.05).force("x", d3.forceX(function (d) {
        return x(d[dataTable.x]);
    }).strength(1)).force("y", d3.forceY(currentAxisHeight)).force("collide", d3.forceCollide(function (d, i) {
        //Set collision radius equal to the radius of the circle
        if (dataTable.hasOwnProperty('size')) {
            var norm = (d[dataTable.size] - zAxisData.min) / (zAxisData.max - zAxisData.min);
            var val = (options.NODE_MAX_SIZE - options.NODE_MIN_SIZE) * norm + options.NODE_MIN_SIZE;
        } else {
            var val = options.NODE_MIN_SIZE;
        }
        return val;
    }).strength(1)).force("charge", d3.forceManyBody().strength(-6)).stop();
    //

    //On Draw Move Points
    function moveTowardDataPosition(alpha) {
        return function (d) {
            d.x += (x(d.x) - d.x) * .1 * alpha;
            d.y += (y(d.y) - d.y) * .05 * alpha;
        };
    }

    for (var i = 0; i < 120; ++i) {
        simulation.tick();
    }var cell = svg.append("g").attr("class", "cells").selectAll("g").data(d3.voronoi().extent([[0, 0], [width, height]]).x(function (d) {
        return d.x;
    }).y(function (d) {
        return d.y;
    }).polygons(data)).enter().append("g").attr("class", "cell-container");

    cell.append("circle").attr("r", function (d, i, j) {
        //if(d == null){
        //    console.log(d + " is undefined at index " + i);
        //}
        //else{
        //    console.log(d.data.Title);
        //}
        if (dataTable.hasOwnProperty('size') && d != null && d.hasOwnProperty('data')) {
            var norm = (d.data[dataTable.size] - zAxisData.min) / (zAxisData.max - zAxisData.min);
            if (!isNaN(norm)) {
                var val = (options.NODE_MAX_SIZE - options.NODE_MIN_SIZE) * norm + options.NODE_MIN_SIZE;
            } else {
                //If there is only 1 node on the chart
                var val = options.NODE_MIN_SIZE;
            }
        } else if (d == null) {
            var val = 0; //Don't display undefined nodes
        } else {
            var val = options.NODE_MIN_SIZE; //Default node size of 15
        }
        //val = 3;
        return val;
    }).attr("cx", function (d) {
        if (d == null) {
            return;
        } else {
            return d.data.x;
        }
    }).attr("cy", function (d) {
        if (d == null) {
            return;
        } else {
            return d.data.y;
        }
    }).attr("fill", function (d) {
        if (d != null && d.data[options.colorDataCategory] === options.colorDataInstance) {
            return coloredPoint;
        } else {
            return pointColor;
        }
    }).attr("opacity", .8).attr("stroke", "black").attr("stroke-width", 1).on("mouseenter", function (d, i) {
        if (chart.draw.showToolTip) {
            var tipData = chart.setTipData(d, i);
            chart.tip.generateSimpleTip(tipData, dataTable, d3.event);
        }
        d3.select(this).attr("fill", "red");
        //d3.select(this)
        //    .attr("fill", "blue");
    }).on("mouseleave", function (d, i) {
        if (chart.draw.showToolTip) {
            chart.tip.hideTip();
        }
        d3.select(this).attr("fill", function (d) {
            if (d != null && d.data[options.colorDataCategory] === options.colorDataInstance) {
                return coloredPoint;
            } else {
                return pointColor;
            }
        });
        //d3.select(this)
        //    .attr("fill", "none");
    });

    //cell.append("path")
    //    .attr("class", "voronoi-path")
    //    .attr("d", function(d) {
    //        if(d == null){
    //            return;
    //        }
    //        else{
    //            return "M" + d.join("L") + "Z";
    //        }
    //    })
    //    .attr("fill", "none")
    //    .attr("stroke", "red")//Add a color here to see the voronoi outlines
    //    .attr("pointer-events", "all")
    //    .on("mouseenter", function(d, i){
    //        if(chart.draw.showToolTip){
    //            var tipData = chart.setTipData(d, i);
    //            chart.tip.generateSimpleTip(tipData, dataTable, d3.event);
    //        }
    //        d3.select(this.previousSibling)
    //            .attr("fill", "red");
    //        //d3.select(this)
    //        //    .attr("fill", "blue");
    //    })
    //    .on("mousemove", function (d, i){
    //        if(chart.draw.showToolTip){
    //            chart.tip.hideTip();
    //        }
    //        d3.select(this.previousSibling)
    //            .attr("fill", "#04386E");
    //        if(chart.draw.showToolTip){
    //            var tipData = chart.setTipData(d, i);
    //            chart.tip.generateSimpleTip(tipData, dataTable, d3.event);
    //        }
    //        d3.select(this.previousSibling)
    //            .attr("fill", "red");
    //    })
    //    .on("mouseleave", function(d, i){
    //        if(chart.draw.showToolTip){
    //            chart.tip.hideTip();
    //        }
    //        d3.select(this.previousSibling)
    //            .attr("fill", "#04386E");
    //
    //        //d3.select(this)
    //        //    .attr("fill", "none");
    //    })

    var formatValue = d3.format(",d");
}

function getSingleAxisData(data, dataTable) {
    var chart = this,
        options = chart.options;

    var label,
        dataType,
        min,
        max,
        values = [];

    if (dataTable) {
        if (dataTable.hasOwnProperty('x')) {
            label = dataTable.x;
        }
    }

    dataType = 'NUMBER';

    for (var i = 0; i < data.length; i++) {
        values.push(data[i][dataTable.x]);
    }

    min = Math.min.apply(null, values);
    max = Math.max.apply(null, values);

    //Add a 10% buffer to both sides
    min = Math.floor(min - (max - min) * .10);
    max = Math.ceil(max + (max - min) * .10);

    //For axis min/max widget
    if (chart.options.hasOwnProperty('xMin') && chart.options.xMin != 'none') {
        min = chart.options.xMin;
    }
    if (chart.options.hasOwnProperty('xMax') && chart.options.xMax != 'none') {
        max = chart.options.xMax;
    }

    return {
        'label': label,
        'values': values,
        'dataType': dataType,
        'min': min,
        'max': max
    };
}

module.exports = jvCharts;

},{"../jvCharts.js":3}],20:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.sunburst = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateSunburst = generateSunburst;

/************************************************ Sunburst functions ******************************************************/

/**setSunburstChartData
 *  gets sunburst data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    chart.data.color = chart.colors;
}

function paint(chart) {
    chart.options.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var sunburstMargins = {
        top: 15,
        right: 15,
        bottom: 15,
        left: 15
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, sunburstMargins);
    // chart.generateLegend(chart.currentData.legendData, 'generateSunburst');
    chart.generateSunburst(chart.currentData);
}

/** generateSunburst
 *
 * paints the sunburst on the chart
 * @params sunburstData
 */
function generateSunburst(sunburstData) {

    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        chartName = chart.config.name,
        width = container.width,
        height = container.height,
        radius = Math.min(width, height) / 2 - 10;

    chart.children = chart.data.chartData;

    var newData = JSON.parse(JSON.stringify(chart.children)); //copy of pie data

    var formatNumber = d3.format(",d");

    var x = d3.scaleLinear().range([0, 2 * Math.PI]);

    var y = d3.scaleSqrt().range([0, radius]);

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 1;return c;
    }));

    // var color = d3.scaleOrdinal(d3.schemeCategory10);

    var partition = d3.partition();

    var arc = d3.arc().startAngle(function (d) {
        return Math.max(0, Math.min(2 * Math.PI, x(d.x0)));
    }).endAngle(function (d) {
        return Math.max(0, Math.min(2 * Math.PI, x(d.x1)));
    }).innerRadius(function (d) {
        return Math.max(0, y(d.y0));
    }).outerRadius(function (d) {
        return Math.max(0, y(d.y1));
    });

    //  assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(chart.children, function (d) {
        return d.children;
    });

    root.sum(function (d) {
        return d.value;
    });

    var vis = svg.append("g").attr("class", "sunburst").attr("width", width).attr("height", height).attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

    vis.selectAll("path").data(partition(root).descendants()).enter().append("g").attr("class", "node");

    var path = vis.selectAll(".node").append("path").attr("d", arc).style("fill", function (d) {
        if (d.data.name === "root") {
            d.color = chart.options.backgroundColor;
            return chart.options.backgroundColor;
        } else {
            d.color = color(d.data.name);
            return color(d.data.name);
        }
    }).on("mouseenter", function (d, i) {
        //Get tip data
        var tipData = chart.setTipData(d, i);
        //Draw tip line
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
    }).on("click", click).on("mouseout", function (d) {
        chart.tip.hideTip();
    });

    if (chart.options.displayValues) {
        var text = vis.selectAll(".node").append("text").attr("transform", function (d) {
            return "rotate(" + computeTextRotation(d) + ")";
        }).attr("x", function (d) {
            return y(d.y0);
        }).attr("dx", "6") // margin
        .attr("dy", ".35em") // vertical-align
        .text(function (d) {
            return d.data.name === "root" ? "" : d.data.name;
        });
    }

    function click(d) {
        // fade out all text elements
        if (chart.options.displayValues) {
            text.transition().attr("opacity", 0);
        }

        vis.transition().duration(750).tween("scale", function () {
            var xd = d3.interpolate(x.domain(), [d.x0, d.x1]),
                yd = d3.interpolate(y.domain(), [d.y0, 1]),
                yr = d3.interpolate(y.range(), [d.y0 ? 20 : 0, radius]);

            return function (t) {
                x.domain(xd(t));y.domain(yd(t)).range(yr(t));
            };
        }).selectAll("path").attrTween("d", function (d) {
            return function () {
                return arc(d);
            };
        }).on("end", function (e, i) {
            if (chart.options.displayValues) {
                // check if the animated element's data e lies within the visible angle span given in d
                if (e.x0 > d.x0 && e.x0 < d.x1) {
                    // get a selection of the associated text element
                    var arcText = d3.select(this.parentNode).select("text");
                    // fade in the text element and recalculate positions
                    arcText.transition().duration(750).attr("opacity", 1).attr("class", "visible").attr("transform", function () {
                        return "rotate(" + computeTextRotation(e) + ")";
                    }).attr("x", function (d) {
                        return y(d.y0);
                    }).text(function (d) {
                        return d.data.name === "root" ? "" : d.data.name;
                    });
                }
            }
        });
    }

    function computeTextRotation(d) {
        return (x((d.x0 + d.x1) / 2) - Math.PI / 2) / Math.PI * 180;
    }
};

module.exports = jvCharts;

},{"../jvCharts.js":3}],21:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.treemap = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateTreeMap = generateTreeMap;
/************************************************ TreeMap functions ******************************************************/

/**setTreeMapData
 *  gets treemap data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    chart.data.legendData = setTreeMapLegendData(chart.data);
    //define color object for chartData
    chart.data.color = jvCharts.setChartColors(chart.options.color, chart.data.legendData, chart.colors);
}

/**setTreeMapLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setTreeMapLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.children.length; i++) {
        if (legendArray.indexOf(data.chartData.children[i][data.dataTable.series]) == -1) {
            legendArray.push(data.chartData.children[i][data.dataTable.series]);
        }
    }
    return legendArray;
}

function paint(chart) {
    chart.options.color = chart.data.color;

    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var treeMapMargins = {
        top: 45,
        right: 50,
        left: 50,
        bottom: 130
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, treeMapMargins);
    chart.generateLegend(chart.currentData.legendData, 'generateTreeMap');
    chart.generateTreeMap(chart.currentData);
};

/** generateTreeMap
 *
 * paints the treemap on the chart
 * @params treeMapData
 */
function generateTreeMap(treeMapData) {

    var chart = this,
        svg = chart.svg,
        colors = treeMapData.color,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        treemap = null,
        chartName = chart.config.name;

    chart.children = chart.data.chartData;

    var newData = JSON.parse(JSON.stringify(chart.children)); //copy of pie data

    if (!chart.options.legendHeaders) {
        chart.options.legendHeaders = legendData;
    }

    var dataHeaders = chart.options.legendHeaders;

    var legendElementToggleArray = jvCharts.getLegendElementToggleArray(dataHeaders, chart.data.legendData);

    if (legendElementToggleArray) {
        for (var j = 0; j < newData.children.length; j++) {
            for (var i = 0; i < legendElementToggleArray.length; i++) {
                if (legendElementToggleArray[i].element === newData.children[j][relationMap.series] && legendElementToggleArray[i].toggle === false) {
                    newData.children[j].show = false;
                }
            }
        }
    }

    var treeMapDataFiltered = {};
    treeMapDataFiltered["Parent"] = "Top Level";
    treeMapDataFiltered.children = [];

    for (var j = 0; j < newData.children.length; j++) {
        if (newData.children[j].show !== false) {
            treeMapDataFiltered.children.push(newData.children[j]);
        }
    }

    //  assigns the data to a hierarchy using parent-child relationships
    var root = d3.hierarchy(treeMapDataFiltered, function (d) {
        return d.children;
    });

    var treemap = d3.treemap().size([container.width, container.height]).padding(2);

    var nodes = treemap(root.sum(function (d) {
        return d[relationMap.size];
    }).sort(function (a, b) {
        return b.height - a.height || b.value - a.value;
    })).descendants();

    //Remove existing bars from page
    svg.selectAll("g.treemap").remove();
    svg.append("g").attr("class", "treemap");

    var node = svg.select(".treemap").selectAll("g").data(root.leaves()).enter().append('g').attr('transform', function (d) {
        return 'translate(0,0)';
    });

    node.append('rect')
    // .call(position)
    .attr("x", function (d) {
        return d.x0 + "px";
    }).attr("y", function (d) {
        return d.y0 + "px";
    }).attr("width", function (d) {
        return d.x1 - d.x0 + "px";
    }).attr("height", function (d) {
        return d.y1 - d.y0 + "px";
    }).attr("fill", function (d, i) {
        return jvCharts.getColors(colors, i, d.data[relationMap.series]);
    }).attr("fill-opacity", .8).attr("stroke", "#FFFFFF").attr("stroke-width", "1").on("mouseover", function (d, i) {
        //Get tip data
        var tipData = chart.setTipData(d.data, i);
        //Draw tip line
        chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);

        var rect = d3.select(this);
        rect.attr("fill", '#BBB');
        rect.transition().duration(200);
    }).on("mouseout", function (d) {
        chart.tip.hideTip();
        var rect = d3.select(this);
        rect.attr("fill", function (d, i) {
            return jvCharts.getColors(colors, i, d.data[relationMap.series]);
        });
        rect.transition().duration(200);
    });

    node.append('text')
    // .call(position)
    .attr("x", function (d) {
        return d.x0 + "px";
    }).attr("y", function (d) {
        return d.y0 + "px";
    }).attr("width", function (d) {
        return d.x1 - d.x0 + "px";
    }).attr("height", function (d) {
        return d.y1 - d.y0 + "px";
    }).attr("transform", "translate(3, 18)").text(function (d) {
        if (d.dy !== 0) {
            return d.children ? null : d.data[relationMap.label];
        }
    });
    // .on("mouseover", function (d, i) {
    //     chart.draw.tip.show({d: d, i: i}, this);
    // })
    // .on("mouseout", function (d) {
    //     chart.draw.tip.hide();
    // });


    /* Don't display text if text is wider than rect */
    var temp = svg.select(".treemap").selectAll("g").selectAll("text");
    temp.attr("style", function (d) {
        if (this.getBBox().width >= d.x1 - d.x0 - 5) {
            return "display:none";
        }
        if (this.getBBox().height >= d.y1 - d.y0 - 5) {
            return "display:none";
        }
    });
};
module.exports = jvCharts;

},{"../jvCharts.js":3}],22:[function(require,module,exports){
'use strict';

var jvCharts = require('../jvCharts.js');

jvCharts.prototype.cloud = {
    paint: paint,
    setData: setData
};

jvCharts.prototype.generateCloud = generateCloud;

/************************************************ Cloud functions ******************************************************/

/**setCloudData
 *  gets cloud data and adds it to the chart object
 *
 * @params data, dataTable, colors
 */
function setData(chart) {
    //define color object for chartData
    chart.data.color = chart.colors;
};

/**setCloudLegendData
 *  gets legend info from chart Data
 *
 * @params data, type
 * @returns [] of legend text
 */
function setCloudLegendData(data) {
    var legendArray = [];
    for (var i = 0; i < data.chartData.children.length; i++) {
        if (legendArray.indexOf(data.chartData.children[i][data.dataTable.series]) == -1) {
            legendArray.push(data.chartData.children[i][data.dataTable.series]);
        }
    }
    return legendArray;
}

function paint(chart) {
    chart.options.color = chart.data.color;
    chart.currentData = chart.data; //Might have to move into method bc of reference/value relationship

    var cloudMargins = {
        top: 15,
        right: 15,
        left: 15,
        bottom: 15
    };

    //Generate SVG-legend data is used to determine the size of the bottom margin (set to null for no legend)
    chart.generateSVG(null, cloudMargins);
    // chart.generateLegend(chart.currentData.legendData, 'generateCloud');
    chart.generateCloud(chart.currentData);
};

/** generateCloud
 *
 * paints the cloud  on the chart
 * @params cloud Data
 */
function generateCloud(cloudData) {
    var chart = this,
        svg = chart.svg,
        container = chart.config.container,
        allFilterList = [],
        relationMap = chart.data.dataTable,
        chartName = chart.config.name,
        width = container.width,
        height = container.height,
        margin = chart.config.margin,
        min,
        max;

    var categories = d3.keys(d3.nest().key(function (d) {
        if (!min && !max) {
            min = d[relationMap.value];
            max = d[relationMap.value];
        } else {
            if (d[relationMap.value] > max) {
                max = d[relationMap.value];
            }
            if (d[relationMap.value] < min) {
                min = d[relationMap.value];
            }
        }
        return d[relationMap.value];
    }).map(cloudData.chartData));

    var color = d3.scaleOrdinal().range(chart.data.color.map(function (c) {
        c = d3.rgb(c);c.opacity = 0.8;return c;
    }));

    var fontSize = d3.scalePow().exponent(5).domain([0, 1]).range([10, 80]);

    var layout = d3.layout.cloud().timeInterval(10).size([width, height]).words(cloudData.chartData).rotate(function (d) {
        return 0;
    }).font('Roboto').fontSize(function (d, i) {
        return fontSize(max - min !== 0 ? (d[relationMap.value] - min) / (max - min) : 0);
    }).text(function (d) {
        return d[relationMap.label];
    }).spiral("archimedean").on("end", draw).start();

    var wordcloud = svg.append("g").attr('class', 'wordcloud').attr("width", width + margin.left + margin.right).attr("height", height + margin.top + margin.bottom).attr("transform", "translate(" + width / 2 + "," + height / 2 + ")");

    function draw(words) {
        wordcloud.selectAll("text").data(cloudData.chartData).enter().append("text").attr('class', 'word').style("font-size", function (d) {
            return d.size + "px";
        }).style("font-family", function (d) {
            return d.font;
        }).style("fill", function (d) {
            return color(d[relationMap.value]);
        }).attr("text-anchor", "middle").attr("transform", function (d) {
            return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
        }).text(function (d) {
            return d.text;
        }).on("mouseover", function (d, i) {
            //Get tip data
            var tipData = chart.setTipData(d, i);
            tipData.color = color(d[relationMap.value]);

            //Draw tip
            chart.tip.generateSimpleTip(tipData, chart.data.dataTable, d3.event);
        }).on("mouseout", function (d) {
            chart.tip.hideTip();
        });
    }
};

module.exports = jvCharts;

},{"../jvCharts.js":3}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmNcXGp2LmpzIiwic3JjXFxqdkJydXNoLmpzIiwic3JjXFxqdkNoYXJ0cy5qcyIsInNyY1xcanZDb21tZW50LmpzIiwic3JjXFxqdkVkaXQuanMiLCJzcmNcXGp2U2VsZWN0LmpzIiwic3JjXFxqdlRpcC5qcyIsInNyY1xcanZWYXJzLmpzIiwic3JjXFx2aXN1YWxzXFxqdkFyZWEuanMiLCJzcmNcXHZpc3VhbHNcXGp2QmFyLmpzIiwic3JjXFx2aXN1YWxzXFxqdkdhbnR0LmpzIiwic3JjXFx2aXN1YWxzXFxqdkhlYXRtYXAuanMiLCJzcmNcXHZpc3VhbHNcXGp2TGluZS5qcyIsInNyY1xcdmlzdWFsc1xcanZQYWNrLmpzIiwic3JjXFx2aXN1YWxzXFxqdlBpZS5qcyIsInNyY1xcdmlzdWFsc1xcanZSYWRpYWwuanMiLCJzcmNcXHZpc3VhbHNcXGp2U2Fua2V5LmpzIiwic3JjXFx2aXN1YWxzXFxqdlNjYXR0ZXIuanMiLCJzcmNcXHZpc3VhbHNcXGp2U2luZ2xlQXhpcy5qcyIsInNyY1xcdmlzdWFsc1xcanZTdW5idXJzdC5qcyIsInNyY1xcdmlzdWFsc1xcanZUcmVlbWFwLmpzIiwic3JjXFx2aXN1YWxzXFxqdldvcmRDbG91ZC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQ0FBO0FBQ0E7O0FBQ0EsUUFBUSxhQUFSO0FBQ0EsUUFBUSxZQUFSO0FBQ0EsUUFBUSxjQUFSO0FBQ0EsUUFBUSxnQkFBUjtBQUNBLFFBQVEsYUFBUjtBQUNBLFFBQVEsb0JBQVI7QUFDQSxRQUFRLG9CQUFSO0FBQ0EsUUFBUSxxQkFBUjtBQUNBLFFBQVEsd0JBQVI7QUFDQSxRQUFRLHFCQUFSO0FBQ0EsUUFBUSxzQkFBUjtBQUNBLFFBQVEsd0JBQVI7QUFDQSxRQUFRLHFCQUFSO0FBQ0EsUUFBUSx1QkFBUjtBQUNBLFFBQVEsdUJBQVI7QUFDQSxRQUFRLDJCQUFSO0FBQ0EsUUFBUSx5QkFB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QUFVLE1BQU0sVUFBTixDQUFpQixDQUFqQixFQUFvQixDQUFwQixDQUFkO0FBQ0Esb0JBQVEsS0FBUixHQUFnQixNQUFNLEVBQUUsWUFBWSxLQUFkLENBQU4sQ0FBaEI7O0FBRUE7QUFDQSxrQkFBTSxHQUFOLENBQVUsaUJBQVYsQ0FBNEIsT0FBNUIsRUFBcUMsTUFBTSxJQUFOLENBQVcsU0FBaEQsRUFBMkQsR0FBRyxLQUE5RDtBQUNILFNBdkJMLEVBd0JLLEVBeEJMLENBd0JRLFVBeEJSLEVBd0JvQixVQUFVLENBQVYsRUFBYTtBQUN6QixrQkFBTSxHQUFOLENBQVUsT0FBVjtBQUNILFNBMUJMO0FBMkJIO0FBRUo7O0FBRUQsT0FBTyxPQUFQLEdBQWlCLFFBQWpCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIid1c2Ugc3RyaWN0JztcclxuLy9hZGQgYWxsIHJlcXVpcmVkIGZpbGVzXHJcbnJlcXVpcmUoJy4vanZWYXJzLmpzJyk7XHJcbnJlcXVpcmUoJy4vanZUaXAuanMnKTtcclxucmVxdWlyZSgnLi9qdkJydXNoLmpzJyk7XHJcbnJlcXVpcmUoJy4vanZDb21tZW50LmpzJyk7XHJcbnJlcXVpcmUoJy4vanZFZGl0LmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdkJhci5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZQaWUuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2TGluZS5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZTY2F0dGVyLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdkFyZWEuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2R2FudHQuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2SGVhdG1hcC5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZQYWNrLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdlJhZGlhbC5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZTYW5rZXkuanMnKTtcclxucmVxdWlyZSgnLi92aXN1YWxzL2p2U2luZ2xlQXhpcy5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZTdW5idXJzdC5qcycpO1xyXG5yZXF1aXJlKCcuL3Zpc3VhbHMvanZUcmVlbWFwLmpzJyk7XHJcbnJlcXVpcmUoJy4vdmlzdWFscy9qdldvcmRDbG91ZC5qcycpO1xyXG5cclxuLy9hdHRhY2gganYgY2hhcnRzIG9iamVjdHMgdG8gdGhlIHdpbmRvd1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuL2p2Q2hhcnRzLmpzJyk7XHJcbnZhciBqdkJydXNoID0gcmVxdWlyZSgnLi9qdkJydXNoLmpzJyk7XHJcbnZhciBqdkNvbW1lbnQgPSByZXF1aXJlKCcuL2p2Q29tbWVudC5qcycpO1xyXG52YXIganZFZGl0ID0gcmVxdWlyZSgnLi9qdkVkaXQuanMnKTtcclxudmFyIGp2U2VsZWN0ID0gcmVxdWlyZSgnLi9qdlNlbGVjdCcpO1xyXG5cclxuLy9Db21tZW50IG91dCB0byByZW1vdmUgZnJvbSB3aW5kb3cgb2JqZWN0IC0gaWYgeW91IGFyZSBub3QgdXNpbmcganZDaGFydHMgYXMgYSBtaW5pZmllZCBmaWxlXHJcbndpbmRvdy5qdkNoYXJ0cyA9IGp2Q2hhcnRzO1xyXG53aW5kb3cuanZCcnVzaCA9IGp2QnJ1c2g7XHJcbndpbmRvdy5qdkNvbW1lbnQgPSBqdkNvbW1lbnQ7XHJcbndpbmRvdy5qdkVkaXQgPSBqdkVkaXQ7XHJcbndpbmRvdy5qdlNlbGVjdCA9IGp2U2VsZWN0O1xyXG4iLCIvKioqICBqdkJydXNoICoqKi9cclxuZnVuY3Rpb24ganZCcnVzaChjb25maWdPYmopIHtcclxuICAgICd1c2Ugc3RyaWN0JztcclxuICAgIHZhciBicnVzaE9iaiA9IHRoaXM7XHJcbiAgICBicnVzaE9iai5jaGFydERpdiA9IGNvbmZpZ09iai5jaGFydERpdjtcclxuICAgIGJydXNoT2JqLmJydXNoRGl2ID0gJyc7XHJcbiAgICBicnVzaE9iai5qdkNoYXJ0ID0gY29uZmlnT2JqLmp2Q2hhcnQ7XHJcbiAgICBicnVzaE9iai5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgYnJ1c2hPYmoudG9nZ2xlQnJ1c2hNb2RlID0gZnVuY3Rpb24gKHRvZ2dsZUJvb2wpIHtcclxuICAgICAgICBpZiAodG9nZ2xlQm9vbCkge1xyXG4gICAgICAgICAgICBicnVzaE9iai5zdGFydEJydXNoKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYnJ1c2hPYmoucmVtb3ZlQnJ1c2goKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgYnJ1c2hPYmouZmlsdGVyQ2FsbGJhY2tGdW5jdGlvbiA9IGNvbmZpZ09iai5maWx0ZXJDYWxsYmFja0Z1bmN0aW9uO1xyXG59XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEFsbCBCcnVzaCBNb2RlIEZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmp2QnJ1c2gucHJvdG90eXBlLnJlbW92ZUJydXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJydXNoT2JqID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBicnVzaE9iai5qdkNoYXJ0LnN2ZztcclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKCcuYnJ1c2hhcmVhJykucmVtb3ZlKCk7XHJcbn07XHJcblxyXG5qdkJydXNoLnByb3RvdHlwZS5zdGFydEJydXNoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGJydXNoT2JqID0gdGhpcyxcclxuICAgICAgICBoZWlnaHQgPSBicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIHdpZHRoID0gYnJ1c2hPYmouanZDaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgIHN2ZyA9IGJydXNoT2JqLmp2Q2hhcnQuc3ZnO1xyXG5cclxuICAgIGlmIChicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2luZ2xlYXhpcycpIHtcclxuICAgICAgICBicnVzaE9iai5icnVzaFR5cGUgPSAneCc7XHJcbiAgICAgICAgc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdicnVzaGFyZWEnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2hlaWdodCcsIGhlaWdodCArICdweCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnd2lkdGgnLCB3aWR0aCArICdweCcpXHJcbiAgICAgICAgICAgIC5jYWxsKGQzLmJydXNoWCgpXHJcbiAgICAgICAgICAgICAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pXHJcbiAgICAgICAgICAgICAgICAub24oJ2VuZCcsIGJydXNoRW5kKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJydXNoT2JqLmJydXNoVHlwZSA9ICd4eSc7XHJcbiAgICAgICAgc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdicnVzaGFyZWEnKVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2hlaWdodCcsIGhlaWdodCArICdweCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnd2lkdGgnLCB3aWR0aCArICdweCcpXHJcbiAgICAgICAgICAgIC5jYWxsKGQzLmJydXNoKClcclxuICAgICAgICAgICAgICAgIC5leHRlbnQoW1swLCAwXSwgW3dpZHRoLCBoZWlnaHRdXSlcclxuICAgICAgICAgICAgICAgIC5vbignZW5kJywgYnJ1c2hFbmQpKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqYnJ1c2hFbmRcclxuICAgICAqIEBkZXNjIC0gZnVuY3Rpb24gY2FsbGVkIGF0IHRoZSBlbmQgb2YgdGhlIHVzZXIgYnJ1c2hpbmdcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYnJ1c2hFbmQoKSB7XHJcbiAgICAgICAgdmFyIHhTY2FsZSA9IGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZSxcclxuICAgICAgICAgICAgeVNjYWxlID0gYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YS55QXhpc1NjYWxlLFxyXG4gICAgICAgICAgICBmaWx0ZXJlZFhBeGlzTGFiZWxzID0gW10sXHJcbiAgICAgICAgICAgIGZpbHRlcmVkWUF4aXNMYWJlbHMgPSBbXSxcclxuICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSBmYWxzZSxcclxuICAgICAgICAgICAgZSA9IGQzLmV2ZW50LnNlbGVjdGlvbixcclxuICAgICAgICAgICAgcmV0dXJuT2JqLFxyXG4gICAgICAgICAgICBmaWx0ZXJlZExhYmVscyA9IFtdLFxyXG4gICAgICAgICAgICBmaWx0ZXJlZENvbmNlcHRzID0ge30sXHJcbiAgICAgICAgICAgIGluZGV4LFxyXG4gICAgICAgICAgICBmaWx0ZXJDb2wsXHJcbiAgICAgICAgICAgIGZpbHRlcmVkTGFiZWxzWCxcclxuICAgICAgICAgICAgZmlsdGVyZWRMYWJlbHNZO1xyXG5cclxuICAgICAgICBpZiAoZSkge1xyXG4gICAgICAgICAgICBpZiAoIGJydXNoT2JqLmJydXNoVHlwZSA9PT0gJ3h5Jykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHhTY2FsZSAmJiB0eXBlb2YgeFNjYWxlLmludmVydCAhPT0gJ2Z1bmN0aW9uJykgeyAvL21lYW5zIHRoYXQgdGhlIHNjYWxlIGlzIG9yZGluYWwgYW5kIG5vdCBsaW5lYXJcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmogPSBjYWxjdWxhdGVCcnVzaEFyZWFPcmRpbmFsKGVbMF1bMF0sIGVbMV1bMF0sIHhTY2FsZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRYQXhpc0xhYmVscyA9IHJldHVybk9iai5maWx0ZXJlZEF4aXNMYWJlbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSByZXR1cm5PYmouc2hvdWxkUmVzZXQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHhTY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2FsY3VsYXRlIGxhYmVscyBmb3IgbGluZWFyIHNjYWxlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqID0gY2FsY3VsYXRlQnJ1c2hBcmVhTGluZWFyKGVbMF1bMF0sIGVbMV1bMF0sIHhTY2FsZSwgYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YSwgYnJ1c2hPYmouanZDaGFydC5jb25maWcudHlwZSwgJ3gnKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFhBeGlzTGFiZWxzID0gcmV0dXJuT2JqLmZpbHRlcmVkQXhpc0xhYmVscztcclxuICAgICAgICAgICAgICAgICAgICBzaG91bGRSZXNldCA9IHJldHVybk9iai5zaG91bGRSZXNldDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoeVNjYWxlICYmIHR5cGVvZiB5U2NhbGUuaW52ZXJ0ICE9PSAnZnVuY3Rpb24nKSB7IC8vbWVhbnMgdGhhdCB0aGUgc2NhbGUgaXMgb3JpZG5hbCBhbmQgbm90IGxpbmVhclxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iaiA9IGNhbGN1bGF0ZUJydXNoQXJlYU9yZGluYWwoZVswXVsxXSwgZVsxXVsxXSwgeVNjYWxlKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFlBeGlzTGFiZWxzID0gcmV0dXJuT2JqLmZpbHRlcmVkQXhpc0xhYmVscztcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJuT2JqLnNob3VsZFJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHlTY2FsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vY2FsY3VsYXRlIGxhYmVscyBmb3IgbGluZWFyIHNjYWxlXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqID0gY2FsY3VsYXRlQnJ1c2hBcmVhTGluZWFyKGVbMF1bMV0sIGVbMV1bMV0sIHlTY2FsZSwgYnJ1c2hPYmouanZDaGFydC5jdXJyZW50RGF0YSwgYnJ1c2hPYmouanZDaGFydC5jb25maWcudHlwZSwgJ3knKTtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZFlBeGlzTGFiZWxzID0gcmV0dXJuT2JqLmZpbHRlcmVkQXhpc0xhYmVscztcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV0dXJuT2JqLnNob3VsZFJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZFJlc2V0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLnR5cGUgPT09ICdjbG91ZCcpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmogPSBjYWxjdWxhdGVDbG91ZEJydXNoKGUsIGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkWUF4aXNMYWJlbHMgPSByZXR1cm5PYmouZmlsdGVyZWRBeGlzTGFiZWxzO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXR1cm5PYmouc2hvdWxkUmVzZXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYnJ1c2hPYmouanZDaGFydC5jb25maWcudHlwZSA9PT0gJ2hlYXRtYXAnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqID0gY2FsY3VsYXRlSGVhdG1hcEJydXNoKGUsIGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEsIGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLm1hcmdpbik7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRMYWJlbHNYID0gcmV0dXJuT2JqLmZpbHRlcmVkWEF4aXNMYWJlbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRMYWJlbHNZID0gcmV0dXJuT2JqLmZpbHRlcmVkWUF4aXNMYWJlbHM7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHVybk9iai5zaG91bGRSZXNldCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRSZXNldCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJydXNoT2JqLmJydXNoVHlwZSA9PT0gJ3gnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm5PYmogPSBjYWxjdWxhdGVCcnVzaEFyZWFMaW5lYXIoZVswXSwgZVsxXSwgeFNjYWxlLCBicnVzaE9iai5qdkNoYXJ0LmN1cnJlbnREYXRhLCBicnVzaE9iai5qdkNoYXJ0LmNvbmZpZy50eXBlLCAneCcpO1xyXG4gICAgICAgICAgICAgICAgZmlsdGVyZWRYQXhpc0xhYmVscyA9IHJldHVybk9iai5maWx0ZXJlZEF4aXNMYWJlbHM7XHJcbiAgICAgICAgICAgICAgICBpZiAocmV0dXJuT2JqLnNob3VsZFJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2hvdWxkUmVzZXQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGZpbHRlcmVkWEF4aXNMYWJlbHMubGVuZ3RoID4gMCAmJiBmaWx0ZXJlZFlBeGlzTGFiZWxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgLy9tZXJnZSBheGlzTGFiZWxzXHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZmlsdGVyZWRYQXhpc0xhYmVscy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaW5kZXggPSBmaWx0ZXJlZFlBeGlzTGFiZWxzLmluZGV4T2YoZmlsdGVyZWRYQXhpc0xhYmVsc1tqXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkTGFiZWxzLnB1c2goZmlsdGVyZWRYQXhpc0xhYmVsc1tqXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGZpbHRlcmVkWEF4aXNMYWJlbHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBmaWx0ZXJlZExhYmVscyA9IGZpbHRlcmVkWEF4aXNMYWJlbHM7XHJcbiAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJlZFlBeGlzTGFiZWxzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgZmlsdGVyZWRMYWJlbHMgPSBmaWx0ZXJlZFlBeGlzTGFiZWxzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGJydXNoT2JqLmp2Q2hhcnQuY29uZmlnLnR5cGUgPT09ICdoZWF0bWFwJykge1xyXG4gICAgICAgICAgICBpZiAoIXNob3VsZFJlc2V0KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyQ29sWCA9IGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLng7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyQ29sWSA9IGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLnk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyZWRMYWJlbHNYLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZENvbmNlcHRzW2ZpbHRlckNvbFhdID0gZmlsdGVyZWRMYWJlbHNYO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlcmVkTGFiZWxzWS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRDb25jZXB0c1tmaWx0ZXJDb2xZXSA9IGZpbHRlcmVkTGFiZWxzWTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZpbHRlckNvbCA9IGJydXNoT2JqLmp2Q2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaWx0ZXJlZENvbmNlcHRzW2ZpbHRlckNvbF0gPSBmaWx0ZXJlZExhYmVscztcclxuXHJcbiAgICAgICAgLy9jYWxscyBiYWNrIHRvIHVwZGF0ZSBkYXRhIHdpdGggYnJ1c2hlZCBkYXRhXHJcbiAgICAgICAgYnJ1c2hPYmouZmlsdGVyQ2FsbGJhY2tGdW5jdGlvbihmaWx0ZXJlZENvbmNlcHRzLCBzaG91bGRSZXNldCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipjYWxjdWxhdGVCcnVzaEFyZWFPcmRpbmFsXHJcbiAqXHJcbiAqIEBwYXJhbSBtb3VzZVBvc01pblxyXG4gKiBAcGFyYW0gbW91c2VQb3NNYXhcclxuICogQHBhcmFtIHNjYWxlXHJcbiAqIEByZXR1cm5zIE9iamVjdFxyXG4gKiBAZGVzYyBjYWxjdWxhdGVzIHRoZSBvcmRpbmFsIHZhbHVlcyB0aGF0IGFyZSBpbiB0aGUgYnJ1c2hlZCBhcmVhXHJcbiAqL1xyXG5mdW5jdGlvbiBjYWxjdWxhdGVCcnVzaEFyZWFPcmRpbmFsKG1vdXNlUG9zTWluLCBtb3VzZVBvc01heCwgc2NhbGUpIHtcclxuICAgIHZhciBkb21haW4gPSBzY2FsZS5kb21haW4oKSxcclxuICAgICAgICBwYWRkaW5nID0gc2NhbGUucGFkZGluZygpLFxyXG4gICAgICAgIHN0ZXAgPSBzY2FsZS5zdGVwKCksXHJcbiAgICAgICAgbWluSW5kZXgsIG1heEluZGV4LFxyXG4gICAgICAgIHBhZGRpbmdEaXN0YW5jZSA9IHBhZGRpbmcgKiBzdGVwIC8gMixcclxuICAgICAgICBmaWx0ZXJlZEF4aXNMYWJlbHM7XHJcblxyXG4gICAgLy9kZXRlcm1pbmUgbWluIGluZGV4XHJcbiAgICBpZiAobW91c2VQb3NNaW4gJSBzdGVwID4gc3RlcCAtIHBhZGRpbmdEaXN0YW5jZSkge1xyXG4gICAgICAgIC8vZG9uJ3QgaW5jbHVkZSBvbiBtaW4gc2lkZVxyXG4gICAgICAgIG1pbkluZGV4ID0gKE1hdGguZmxvb3IobW91c2VQb3NNaW4gLyBzdGVwKSArIDEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvL2luY2x1ZGUgb24gbWluIHNpZGVcclxuICAgICAgICBtaW5JbmRleCA9IChNYXRoLmZsb29yKG1vdXNlUG9zTWluIC8gc3RlcCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZGV0ZXJtaW5lIG1heCBpbmRleFxyXG4gICAgaWYgKG1vdXNlUG9zTWF4ICUgc3RlcCA8IHBhZGRpbmdEaXN0YW5jZSkge1xyXG4gICAgICAgIC8vZG9uJ3QgaW5jbHVkZSBvbiBtYXggc2lkZVxyXG4gICAgICAgIG1heEluZGV4ID0gKE1hdGguZmxvb3IobW91c2VQb3NNYXggLyBzdGVwKSAtIDEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvL2luY2x1ZGUgb24gbWF4IHNpZGVcclxuICAgICAgICBtYXhJbmRleCA9IChNYXRoLmZsb29yKG1vdXNlUG9zTWF4IC8gc3RlcCkpO1xyXG4gICAgICAgIGlmIChtYXhJbmRleCA9PT0gZG9tYWluLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBtYXhJbmRleCAtPSAxO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmaWx0ZXJlZEF4aXNMYWJlbHMgPSBkb21haW4uc2xpY2UobWluSW5kZXgsIG1heEluZGV4ICsgMSk7XHJcblxyXG4gICAgcmV0dXJuIHtmaWx0ZXJlZEF4aXNMYWJlbHM6IGZpbHRlcmVkQXhpc0xhYmVscywgc2hvdWxkUmVzZXQ6IGZpbHRlcmVkQXhpc0xhYmVscy5sZW5ndGggPT09IDB9O1xyXG59XHJcblxyXG4vKipjYWxjdWxhdGVCcnVzaEFyZWFPcmRpbmFsXHJcbiAqXHJcbiAqIEBwYXJhbSBtb3VzZVBvc01pblxyXG4gKiBAcGFyYW0gbW91c2VQb3NNYXhcclxuICogQHBhcmFtIHNjYWxlXHJcbiAqIEBwYXJhbSBkYXRhIGNoYXJ0RGF0YVxyXG4gKiBAcGFyYW0gdHlwZSB2aXN1YWwgdHlwZVxyXG4gKiBAcGFyYW0gYXhpcyAtIHggLyB5XHJcbiAqIEByZXR1cm5zIE9iamVjdFxyXG4gKiBAZGVzYyBjYWxjdWxhdGVzIHRoZSBvcmRpbmFsIHZhbHVlcyB0aGF0IGFyZSBpbiB0aGUgYnJ1c2hlZCBhcmVhXHJcbiAqL1xyXG5mdW5jdGlvbiBjYWxjdWxhdGVCcnVzaEFyZWFMaW5lYXIobW91c2VQb3NNaW4sIG1vdXNlUG9zTWF4LCBzY2FsZSwgZGF0YSwgdHlwZSwgYXhpcykge1xyXG4gICAgdmFyIGZpbHRlcmVkQXhpc0xhYmVscyA9IFtdLFxyXG4gICAgICAgIG1pbixcclxuICAgICAgICBtYXgsXHJcbiAgICAgICAgYXhpc0xhYmVsO1xyXG5cclxuICAgIC8vc3dpdGNoIG1pbiBhbmQgbWF4IGlmIHNjYWxlIGlzIHkgZHVlIHRvIHN2ZyBkcmF3aW5nICh5IGF4aXMgaW5jcmVhc2VzIHVwIHRoZSBzY3JlZW4gd2hpbGUgbW91c2VQb3MgZGVjcmVhc2VzKVxyXG4gICAgaWYgKGF4aXMgPT09ICd5Jykge1xyXG4gICAgICAgIG1heCA9IHNjYWxlLmludmVydChtb3VzZVBvc01pbik7XHJcbiAgICAgICAgbWluID0gc2NhbGUuaW52ZXJ0KG1vdXNlUG9zTWF4KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgbWluID0gc2NhbGUuaW52ZXJ0KG1vdXNlUG9zTWluKTtcclxuICAgICAgICBtYXggPSBzY2FsZS5pbnZlcnQobW91c2VQb3NNYXgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICh0eXBlID09PSAnYmFyJykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZWdlbmREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGF4aXNMYWJlbCA9IGRhdGEubGVnZW5kRGF0YVtpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhLmNoYXJ0RGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPj0gbWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWRBeGlzTGFiZWxzLnB1c2goZGF0YS5jaGFydERhdGFbal1bZGF0YS5kYXRhVGFibGUubGFiZWxdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2xpbmUnICB8fCB0eXBlID09PSAnYXJlYScgfHwgdHlwZSA9PT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlZ2VuZERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYXhpc0xhYmVsID0gZGF0YS5sZWdlbmREYXRhW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEuY2hhcnREYXRhLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YS5jaGFydERhdGFbal1bYXhpc0xhYmVsXSA8PSBtYXggJiYgZGF0YS5jaGFydERhdGFbal1bYXhpc0xhYmVsXSA+PSBtaW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJlZEF4aXNMYWJlbHMucHVzaChkYXRhLmNoYXJ0RGF0YVtqXVtkYXRhLmRhdGFUYWJsZS5sYWJlbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnc2NhdHRlcnBsb3QnKSB7XHJcbiAgICAgICAgYXhpc0xhYmVsID0gZGF0YS5kYXRhVGFibGVbYXhpc107XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBkYXRhLmNoYXJ0RGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5jaGFydERhdGFbal1bYXhpc0xhYmVsXSA8PSBtYXggJiYgZGF0YS5jaGFydERhdGFbal1bYXhpc0xhYmVsXSA+PSBtaW4pIHtcclxuICAgICAgICAgICAgICAgIGZpbHRlcmVkQXhpc0xhYmVscy5wdXNoKGRhdGEuY2hhcnREYXRhW2pdW2RhdGEuZGF0YVRhYmxlLmxhYmVsXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdoZWF0bWFwJykge1xyXG4gICAgICAgIGF4aXNMYWJlbCA9IGRhdGEuZGF0YVRhYmxlW2F4aXNdO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5jaGFydERhdGEubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPD0gbWF4ICYmIGRhdGEuY2hhcnREYXRhW2pdW2F4aXNMYWJlbF0gPj0gbWluKSB7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZEF4aXNMYWJlbHMucHVzaChkYXRhLmNoYXJ0RGF0YVtqXVtkYXRhLmRhdGFUYWJsZS5sYWJlbF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7ZmlsdGVyZWRBeGlzTGFiZWxzOiBmaWx0ZXJlZEF4aXNMYWJlbHMsIHNob3VsZFJlc2V0OiBmaWx0ZXJlZEF4aXNMYWJlbHMubGVuZ3RoID09PSAwfTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUNsb3VkQnJ1c2goZSwgZGF0YSkge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIGQgPSBkYXRhW2ldO1xyXG4gICAgICAgIHZhciBtb3VzZVgwID0gZVswXVswXTtcclxuICAgICAgICB2YXIgbW91c2VYMSA9IGVbMF1bMV07XHJcbiAgICAgICAgdmFyIG1vdXNlWTAgPSBlWzFdWzBdO1xyXG4gICAgICAgIHZhciBtb3VzZVkxID0gZVsxXVsxXTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW107XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUhlYXRtYXBCcnVzaChlLCBkYXRhKSB7XHJcbiAgICB2YXIgbW91c2VYbWluID0gZVswXVswXTtcclxuICAgIHZhciBtb3VzZVltaW4gPSBlWzBdWzFdO1xyXG4gICAgdmFyIG1vdXNlWG1heCA9IGVbMV1bMF07XHJcbiAgICB2YXIgbW91c2VZbWF4ID0gZVsxXVsxXTtcclxuICAgIHZhciBmaWx0ZXJlZFhBeGlzTGFiZWxzID0gW107XHJcbiAgICB2YXIgZmlsdGVyZWRZQXhpc0xhYmVscyA9IFtdO1xyXG4gICAgdmFyIGZpbHRlcmVkRGF0YSA9IFtdO1xyXG4gICAgdmFyIHJlc2V0ID0gdHJ1ZTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vdXNlWG1heC8yMDsgaSsrKSB7XHJcbiAgICAgICAgaWYoaSA+PSBtb3VzZVhtaW4vMjApe1xyXG4gICAgICAgICAgICBmaWx0ZXJlZFhBeGlzTGFiZWxzLnB1c2goZGF0YS54QXhpc0RhdGEudmFsdWVzW2ldKTtcclxuICAgICAgICAgICAgcmVzZXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vdXNlWW1heC8yMDsgaSsrKSB7XHJcbiAgICAgICAgaWYoaSA+PSBtb3VzZVltaW4vMjApe1xyXG4gICAgICAgICAgICBmaWx0ZXJlZFlBeGlzTGFiZWxzLnB1c2goZGF0YS55QXhpc0RhdGEudmFsdWVzW2ldKTtcclxuICAgICAgICAgICAgcmVzZXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9NaWdodCBuZWVkIHdoZW4gbmV3IFBLUUwgcGl4ZWwuLi4gY29tZXMgb3V0XHJcbiAgICAvLyBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAvLyAgICAgdmFyIGQgPSBkYXRhLmNoYXJ0RGF0YVtpXTtcclxuICAgIC8vICAgICBpZihmaWx0ZXJlZFhBeGlzTGFiZWxzLmluY2x1ZGVzKGRbZGF0YS5kYXRhVGFibGUueF0pICYmIGZpbHRlcmVkWUF4aXNMYWJlbHMuaW5jbHVkZXMoZFtkYXRhLmRhdGFUYWJsZS55XSkpIHtcclxuICAgIC8vICAgICAgICAgZmlsdGVyZWREYXRhWC5wdXNoKGRbZGF0YS5kYXRhVGFibGUueF0pO1xyXG4gICAgLy8gICAgICAgICBmaWx0ZXJlZERhdGFZLnB1c2goZFtkYXRhLmRhdGFUYWJsZS55XSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIHJldHVybiB7ZmlsdGVyZWRYQXhpc0xhYmVsczogZmlsdGVyZWRYQXhpc0xhYmVscywgZmlsdGVyZWRZQXhpc0xhYmVsczogZmlsdGVyZWRZQXhpc0xhYmVscywgc2hvdWxkUmVzZXQ6IHJlc2V0fTtcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkJydXNoOyIsIid1c2Ugc3RyaWN0JztcclxuLyoqKiAganZDaGFydHMgKioqL1xyXG52YXIganZUaXAgPSByZXF1aXJlKCcuL2p2VGlwLmpzJyk7XHJcblxyXG4vKipDcmVhdGUgYSBqdkNoYXJ0cyBvYmplY3RcclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmogLSBDb25maWd1cmF0aW9uIG9iamVjdCBwYXNzZWQgaW50byBqdkNoYXJ0cyBjb25zdHJ1Y3RvclxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnT2JqLnR5cGUgLSBUaGUgdHlwZSBvZiBjaGFydFxyXG4gKiBAcGFyYW0ge3N0cmluZ30gY29uZmlnT2JqLm5hbWUgLSBUaGUgbmFtZSBvZiB0aGUgY2hhcnRcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iai5jb250YWluZXIgLSBUaGUgY29udGFpbmVyIG9mIHRoZSBjaGFydFxyXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnT2JqLm9wdGlvbnMgLSBVSSBvcHRpb25zIGZvciB0aGUgY2hhcnRcclxuICogQHBhcmFtIHtPYmplY3R9IGNvbmZpZ09iai50aXBDb25maWcgLSBDb25maWd1cmF0aW9uIG9iamVjdCBmb3IganZUb29sdGlwXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWdPYmouY2hhcnREaXYgLSBBIGRpdiB3cmFwcGVyIGZvciB0aGUgY2hhcnQgYW5kIG90aGVyIGp2IGZlYXR1cmVzXHJcbiAqL1xyXG5jbGFzcyBqdkNoYXJ0cyB7XHJcbiAgICBjb25zdHJ1Y3RvciAoY29uZmlnT2JqKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgICAgICBjaGFydC5jb25maWcgPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IGNvbmZpZ09iai50eXBlLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgICAgIG5hbWU6IGNvbmZpZ09iai5uYW1lLFxyXG4gICAgICAgICAgICBjb250YWluZXI6IGNvbmZpZ09iai5jb250YWluZXJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBjaGFydC5jaGFydERpdiA9IGNvbmZpZ09iai5jaGFydERpdjtcclxuICAgICAgICBjaGFydC5sb2NhbENhbGxiYWNrUmVsYXRlZEluc2lnaHRzID0gY29uZmlnT2JqLmxvY2FsQ2FsbGJhY2tSZWxhdGVkSW5zaWdodHM7XHJcbiAgICAgICAgY2hhcnQub3B0aW9ucyA9IGNsZWFuVG9vbERhdGEoY29uZmlnT2JqLm9wdGlvbnMpO1xyXG4gICAgICAgIGNoYXJ0LnZhcnMgPSBjaGFydC5nZXREZWZhdWx0T3B0aW9ucygpO1xyXG5cclxuICAgICAgICBpZiAoY29uZmlnT2JqLmhhc093blByb3BlcnR5KCdpbmZpbml0ZVNjcm9sbEZ1bmMnKSkge1xyXG4gICAgICAgICAgICBjaGFydC5pbmZpbml0ZVNjcm9sbEZ1bmMgPSBjb25maWdPYmouaW5maW5pdGVTY3JvbGxGdW5jO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbmZpZ09iai5oYXNPd25Qcm9wZXJ0eSgnc29ydENvbHVtbkZ1bmMnKSkge1xyXG4gICAgICAgICAgICBjaGFydC5zb3J0Q29sdW1uRnVuYyA9IGNvbmZpZ09iai5zb3J0Q29sdW1uRnVuYztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNoYXJ0LnRpcCA9IG5ldyBqdlRpcCh7XHJcbiAgICAgICAgICAgIHR5cGU6IGNvbmZpZ09iai50aXBDb25maWcudHlwZSxcclxuICAgICAgICAgICAgY2hhcnREaXY6IGNvbmZpZ09iai5jaGFydERpdlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjaGFydC5zaG93Q29tbWVudHMgPSBmYWxzZTtcclxuICAgICAgICBjaGFydC5kcmF3ID0ge307XHJcbiAgICAgICAgY2hhcnQuZHJhdy5zaG93VG9vbFRpcCA9IHRydWU7XHJcbiAgICAgICAgY2hhcnQuY3VycmVudERhdGEgPSB7fTtcclxuXHJcbiAgICAgICAgY2hhcnQudG9nZ2xlRGVmYXVsdE1vZGUgPSBmdW5jdGlvbiAodG9nZ2xlQm9vbCkge1xyXG4gICAgICAgICAgICBpZiAodG9nZ2xlQm9vbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGVudGlyZVN2ZyA9IGNoYXJ0LmNoYXJ0RGl2LnNlbGVjdCgnLmVkaXRhYmxlLXN2ZycpO1xyXG4gICAgICAgICAgICAgICAgZW50aXJlU3ZnLm9uKCdkYmxjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNoYXJ0LmxvY2FsQ2FsbGJhY2tSZWxhdGVkSW5zaWdodHMgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQubG9jYWxDYWxsYmFja1JlbGF0ZWRJbnNpZ2h0cygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgZW50aXJlU3ZnLm9uKCdjbGljaycsIGZhbHNlKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXAgPSB0cnVlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuZHJhdy5zaG93VG9vbFRpcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQucmVtb3ZlSGlnaGxpZ2h0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoY29uZmlnT2JqLnNldERhdGEpIHtcclxuICAgICAgICAgICAgY2hhcnQuZGF0YSA9IHsgY2hhcnREYXRhOiBjb25maWdPYmouc2V0RGF0YS5kYXRhLCBkYXRhVGFibGU6IGNvbmZpZ09iai5zZXREYXRhLmRhdGFUYWJsZSwgZGF0YVRhYmxlS2V5czogY29uZmlnT2JqLnNldERhdGEuZGF0YVRhYmxlS2V5cyB9O1xyXG4gICAgICAgICAgICBjaGFydC5jb2xvcnMgPSBjb25maWdPYmouc2V0RGF0YS5jb2xvcnM7XHJcbiAgICAgICAgICAgIGlmIChjb25maWdPYmouc2V0RGF0YS5hZGRpdGlvbmFsSW5mbykge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQuZGF0YS5hZGRpdGlvbmFsSW5mbyA9IGNvbmZpZ09iai5zZXREYXRhLmFkZGl0aW9uYWxJbmZvO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjb25maWdPYmouc2V0RGF0YS5tYXJrZXJUeXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5kYXRhLm1hcmtlclR5cGUgPSBjb25maWdPYmouc2V0RGF0YS5tYXJrZXJUeXBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXS5zZXREYXRhKGNoYXJ0LCBjb25maWdPYmouc2V0RGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0eXBlb2YgY2hhcnRbY2hhcnQuY29uZmlnLnR5cGVdID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgY2hhcnRbY2hhcnQuY29uZmlnLnR5cGVdLnBhaW50ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0W2NoYXJ0LmNvbmZpZy50eXBlXS5wYWludChjaGFydCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ25vIHBhaW50IGZ1bmN0aW9uIGZvcjogJyArIGNoYXJ0LmNvbmZpZy50eXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyBlbmQgb2YgY29uc3RydWN0b3JcclxuXHJcbiAgICBzZXRBeGlzRGF0YShheGlzLCBkYXRhLCBrZXlzKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgICAgICB2YXIgYXhpc0RhdGEgPSBbXTtcclxuICAgICAgICB2YXIgY2hhcnREYXRhID0gZGF0YS5jaGFydERhdGE7XHJcbiAgICAgICAgdmFyIGxhYmVsID0gJyc7XHJcbiAgICAgICAgdmFyIG1heFN0YWNrID0gMDtcclxuICAgICAgICB2YXIgb3B0aW9ucyA9IGNoYXJ0Lm9wdGlvbnMsXHJcbiAgICAgICAgICAgIGRhdGFUYWJsZUtleXMgPSBkYXRhLmRhdGFUYWJsZUtleXMsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlO1xyXG5cclxuICAgICAgICBpZiAoIWRhdGFUYWJsZUtleXMpIHtcclxuICAgICAgICAgICAgZGF0YVRhYmxlS2V5cyA9IGtleXM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1N0ZXAgMTogZmluZCBvdXQgd2hhdCB0aGUgbGFiZWwgaXMgZm9yIHRoZSBheGlzXHJcbiAgICAgICAgaWYgKGF4aXMgPT09ICd4Jykge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgnbGFiZWwnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsID0gZGF0YS5kYXRhVGFibGUubGFiZWw7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJMYWJlbCBkb2Vzbid0IGV4aXN0IGluIGRhdGFUYWJsZVwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdEYXRhVGFibGUgZG9lcyBub3QgZXhpc3QnKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZGF0YVR5cGUgPSAnU1RSSU5HJztcclxuXHJcbiAgICAgICAgICAgIC8vUmVwbGFjZSB1bmRlcnNjb3JlcyB3aXRoIHNwYWNlc1xyXG4gICAgICAgICAgICBsYWJlbCA9IGxhYmVsLnJlcGxhY2UoL18vZywgJyAnKTtcclxuXHJcbiAgICAgICAgICAgIC8vbG9vcCB0aHJvdWdoIGRhdGEgdG8gcG9wdWxhdGUgYXhpc0RhdGFcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydERhdGFbaV1bbGFiZWxdID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXhpc0RhdGEucHVzaCgnTlVMTF9WQUxVRScpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFydERhdGFbaV1bbGFiZWxdID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXNEYXRhLnB1c2goJ0VNUFRZX1NUUklORycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFydERhdGFbaV1bbGFiZWxdIHx8IGNoYXJ0RGF0YVtpXVtsYWJlbF0gPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKGNoYXJ0RGF0YVtpXVtsYWJlbF0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9GaW5kIHRoZSBtYXggdmFsdWUgZm9yIFkgRGF0YVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGFUYWJsZUtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhVGFibGVLZXlzW2ldLnZpelR5cGUgIT09ICdsYWJlbCcpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYWJlbCA9IGRhdGFUYWJsZUtleXNbaV0udmFyS2V5O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBkYXRhVHlwZSA9IGdldERhdGFUeXBlRnJvbUtleXMobGFiZWwsIGRhdGFUYWJsZUtleXMpO1xyXG5cclxuICAgICAgICAgICAgLy9BZGQgYWxsIHZhbHVlcyB0aGF0IGFyZSBvbiB5YXhpcyB0byBheGlzIGRhdGFcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBzdGFjayA9IDA7IC8vS2VlcHMgdHJhY2sgb2YgdGhlIG1heGltdW0gc2l6ZSBvZiBzdGFja2VkIGRhdGEgc28gdGhhdCBheGlzIGNhbiBiZSBzY2FsZWQgdG8gZml0IG1heCBzaXplXHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrIGluIGRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0RGF0YVtpXS5oYXNPd25Qcm9wZXJ0eShkYXRhLmRhdGFUYWJsZVtrXSkgJiYgayAhPT0gJ2xhYmVsJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdGFjayArPSBjaGFydERhdGFbaV1bZGF0YS5kYXRhVGFibGVba11dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBheGlzRGF0YS5wdXNoKGNoYXJ0RGF0YVtpXVtkYXRhLmRhdGFUYWJsZVtrXV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzdGFjayA+IG1heFN0YWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4U3RhY2sgPSBzdGFjaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL1JlcGxhY2UgdW5kZXJzY29yZXMgd2l0aCBzcGFjZXMgc2luY2UgbGFiZWwgaXMgcmV0cmlldmVkIGZyb20gZGF0YVRhYmxlS2V5c1xyXG4gICAgICAgICAgICBsYWJlbCA9IGxhYmVsLnJlcGxhY2UoL18vZywgJyAnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vRmluZCB0aGUgbWluIGFuZCBtYXggb2YgbnVtZXJpYyBkYXRhIGZvciBidWlsZGluZyBheGVzIGFuZCBhZGQgaXQgdG8gdGhlIHJldHVybmVkIG9iamVjdFxyXG4gICAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Lm9wdGlvbnMuc3RhY2tUb2dnbGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXggPSBtYXhTdGFjaztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBtYXggPSBNYXRoLm1heC5hcHBseShudWxsLCBheGlzRGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBtaW4gPSBNYXRoLm1pbi5hcHBseShudWxsLCBheGlzRGF0YSk7XHJcbiAgICAgICAgICAgIG1pbiA9IE1hdGgubWluKDAsIG1pbik7XHJcblxyXG4gICAgICAgICAgICAvL0NoZWNrIGlmIHRoZXJlJ3MgYW4gYXhpcyBtaW4vbWF4IHNldFxyXG4gICAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy54TWluICE9IG51bGwgJiYgb3B0aW9ucy54TWluICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBvcHRpb25zLnhNaW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy54TWF4ICE9IG51bGwgJiYgb3B0aW9ucy54TWF4ICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBvcHRpb25zLnhNYXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXhpcyA9PT0gJ3knKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy55TWluICE9IG51bGwgJiYgb3B0aW9ucy55TWluICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBvcHRpb25zLnlNaW47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy55TWF4ICE9IG51bGwgJiYgb3B0aW9ucy55TWF4ICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBvcHRpb25zLnlNYXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ05VTUJFUicgJiYgYXhpc0RhdGEubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXhpc0RhdGFbMF0gPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXNEYXRhLnVuc2hpZnQoMCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGF4aXNEYXRhLnB1c2goMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAnbGFiZWwnOiBsYWJlbCxcclxuICAgICAgICAgICAgICAgICd2YWx1ZXMnOiBheGlzRGF0YSxcclxuICAgICAgICAgICAgICAgICdkYXRhVHlwZSc6IGRhdGFUeXBlLFxyXG4gICAgICAgICAgICAgICAgJ21pbic6IG1pbixcclxuICAgICAgICAgICAgICAgICdtYXgnOiBtYXhcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICdsYWJlbCc6IGxhYmVsLFxyXG4gICAgICAgICAgICAndmFsdWVzJzogYXhpc0RhdGEsXHJcbiAgICAgICAgICAgICdkYXRhVHlwZSc6IGRhdGFUeXBlXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLyoqc2V0RmxpcHBlZFNlcmllc1xyXG4gICAgICogIGZsaXBzIHNlcmllcyBhbmQgcmV0dXJucyBmbGlwcGVkIGRhdGFcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW1zIGNoYXJ0RGF0YSwgZGF0YVRhYmxlLCBkYXRhTGFiZWxcclxuICAgICAqIEByZXR1cm5zIE9iamVjdCBvZiBkYXRhIGFuZCB0YWJsZSBmb3IgZmxpcHBlZCBzZXJpZXNcclxuICAgICAqL1xyXG4gICAgc2V0RmxpcHBlZFNlcmllcyhkYXRhVGFibGVLZXlzKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgICAgICB2YXIgY2hhcnREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGE7XHJcbiAgICAgICAgdmFyIGRhdGFUYWJsZSA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlO1xyXG4gICAgICAgIHZhciBkYXRhTGFiZWwgPSBjaGFydC5kYXRhLnhBeGlzRGF0YS5sYWJlbDtcclxuXHJcbiAgICAgICAgdmFyIGZsaXBwZWREYXRhID0gW107XHJcbiAgICAgICAgdmFyIGZsaXBwZWREYXRhVGFibGUgPSB7fTtcclxuICAgICAgICB2YXIgdmFsdWVDb3VudCA9IDE7XHJcbiAgICAgICAgdmFyIGZpbHRlcmVkRGF0YVRhYmxlQXJyYXkgPSBbXTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgayBpbiBkYXRhVGFibGUpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eShrKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZsaXBwZWRPYmplY3QgPSB7fTtcclxuICAgICAgICAgICAgICAgIGlmIChkYXRhVGFibGVba10gIT09IGRhdGFMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZsaXBwZWRPYmplY3RbZGF0YUxhYmVsXSA9IGRhdGFUYWJsZVtrXTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmbGlwcGVkT2JqZWN0W2NoYXJ0RGF0YVtpXVtkYXRhTGFiZWxdXSA9IGNoYXJ0RGF0YVtpXVtkYXRhVGFibGVba11dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyZWREYXRhVGFibGVBcnJheS5pbmRleE9mKGNoYXJ0RGF0YVtpXVtkYXRhTGFiZWxdKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsaXBwZWREYXRhVGFibGVbJ3ZhbHVlICcgKyB2YWx1ZUNvdW50XSA9IGNoYXJ0RGF0YVtpXVtkYXRhTGFiZWxdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWREYXRhVGFibGVBcnJheS5wdXNoKGNoYXJ0RGF0YVtpXVtkYXRhTGFiZWxdKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmbGlwcGVkRGF0YS5wdXNoKGZsaXBwZWRPYmplY3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZsaXBwZWREYXRhVGFibGUubGFiZWwgPSBkYXRhTGFiZWw7XHJcbiAgICAgICAgY2hhcnQuZmxpcHBlZERhdGEgPSB7IGNoYXJ0RGF0YTogZmxpcHBlZERhdGEsIGRhdGFUYWJsZTogZmxpcHBlZERhdGFUYWJsZSB9O1xyXG5cclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdiYXInIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnbGluZScgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdhcmVhJykge1xyXG4gICAgICAgICAgICBjaGFydC5mbGlwcGVkRGF0YS54QXhpc0RhdGEgPSBjaGFydC5zZXRBeGlzRGF0YSgneCcsIGNoYXJ0LmZsaXBwZWREYXRhLCBkYXRhVGFibGVLZXlzKTtcclxuICAgICAgICAgICAgY2hhcnQuZmxpcHBlZERhdGEueUF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3knLCBjaGFydC5mbGlwcGVkRGF0YSwgZGF0YVRhYmxlS2V5cyk7XHJcbiAgICAgICAgICAgIGNoYXJ0LmZsaXBwZWREYXRhLmxlZ2VuZERhdGEgPSBzZXRCYXJMaW5lTGVnZW5kRGF0YShjaGFydC5mbGlwcGVkRGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0FkZCBhZGRpdGlvbmFsIGNoYXJ0IHR5cGUgdG8gc2V0IGZsaXBwZWQgc2VyaWVzJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKm9yZ2FuaXplQ2hhcnREYXRhXHJcbiAgICAgKiAgcmVvcmRlcnMgYWxsIGRhdGEgYmFzZWQgb24gdGhlIHNvcnRMYWJlbCBhbmQgc29ydFR5cGVcclxuICAgICAqICAtT25seSBmb3IgY2hhcnREYXRhLCBkb2VzIG5vdCB3b3JrIHdpdGggZmxpcHBlZCBkYXRhXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtcyBzb3J0TGFiZWwgLCBzb3J0VHlwZVxyXG4gICAgICogQHJldHVybnMgW10gc29ydGVkIGRhdGFcclxuICAgICAqL1xyXG4gICAgb3JnYW5pemVDaGFydERhdGEoc29ydFBhcmFtLCBzb3J0VHlwZSkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIG9yZ2FuaXplZERhdGEsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlLFxyXG4gICAgICAgICAgICBkYXRhVGFibGVLZXlzID0gY2hhcnQuZGF0YS5kYXRhVGFibGVLZXlzLFxyXG4gICAgICAgICAgICBzb3J0TGFiZWwgPSBzb3J0UGFyYW07XHJcblxyXG4gICAgICAgIC8vSWYgc29ydExhYmVsIGRvZXNuJ3QgZXhpc3QsIHNvcnQgb24gdGhlIHggYXhpcyBsYWJlbCBieSBkZWZhdWx0XHJcbiAgICAgICAgaWYgKHNvcnRMYWJlbCA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVRhYmxlS2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFUYWJsZUtleXNbaV0udml6VHlwZSA9PT0gJ2xhYmVsJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvcnRMYWJlbCA9IGRhdGFUYWJsZUtleXNbaV0udXJpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL1JlbW92ZSB1bmRlcnNjb3JlcyBmcm9tIHNvcnRMYWJlbFxyXG4gICAgICAgIHNvcnRMYWJlbCA9IHNvcnRMYWJlbC5yZXBsYWNlKC9fL2csICcgJyk7XHJcblxyXG4gICAgICAgIGlmICghY2hhcnQuZGF0YS5jaGFydERhdGFbMF1bc29ydExhYmVsXSkge1xyXG4gICAgICAgICAgICAvL0NoZWNrIGlmIHRoZSBzb3J0IGxhYmVsIGlzIGEgY2FsY3VsYXRlZEJ5IGZpZWxkXHJcbiAgICAgICAgICAgIHZhciBpc1ZhbGlkU29ydExhYmVsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVRhYmxlS2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9iajEgPSBkYXRhVGFibGVLZXlzW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iajEub3BlcmF0aW9uLmhhc093blByb3BlcnR5KCdjYWxjdWxhdGVkQnknKSAmJiBvYmoxLm9wZXJhdGlvbi5jYWxjdWxhdGVkQnlbMF0gPT09IHNvcnRMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNvcnRMYWJlbCA9IG9iajEudXJpLnJlcGxhY2UoL18vZywgJyAnKTtcclxuICAgICAgICAgICAgICAgICAgICBpc1ZhbGlkU29ydExhYmVsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL0lmIGl0J3Mgbm90IGEgdmFsaWQgc29ydCBsYWJlbCwgcmV0dXJuIGFuZCBkb24ndCBzb3J0IHRoZSBkYXRhXHJcbiAgICAgICAgICAgIGlmICghaXNWYWxpZFNvcnRMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignTm90IGEgdmFsaWQgc29ydCcpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0NoZWNrIHRoZSBkYXRhIHR5cGUgdG8gZGV0ZXJtaW5lIHdoaWNoIGxvZ2ljIHRvIGZsb3cgdGhyb3VnaFxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YVRhYmxlS2V5cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgb2JqID0gZGF0YVRhYmxlS2V5c1tpXTtcclxuICAgICAgICAgICAgLy9Mb29wIHRocm91Z2ggZGF0YVRhYmxlS2V5cyB0byBmaW5kIHNvcnRMYWJlbFxyXG4gICAgICAgICAgICBpZiAob2JqLnVyaS5yZXBsYWNlKC9fL2csICcgJykgPT09IHNvcnRMYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgZGF0YVR5cGUgPSBvYmoudHlwZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0RhdGUgc29ydGluZ1xyXG4gICAgICAgIGlmIChkYXRhVHlwZSAhPSBudWxsICYmIGRhdGFUeXBlID09PSAnREFURScpIHtcclxuICAgICAgICAgICAgb3JnYW5pemVkRGF0YSA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjID0gbmV3IERhdGUoYVtzb3J0TGFiZWxdKTtcclxuICAgICAgICAgICAgICAgIHZhciBkID0gbmV3IERhdGUoYltzb3J0TGFiZWxdKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjIC0gZDtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhVHlwZSAhPSBudWxsICYmIGRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICBvcmdhbml6ZWREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihhW3NvcnRMYWJlbF0pICYmICFpc05hTihiW3NvcnRMYWJlbF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbc29ydExhYmVsXSAtIGJbc29ydExhYmVsXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb3JnYW5pemVkRGF0YSA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oYVtzb3J0TGFiZWxdKSAmJiAhaXNOYU4oYltzb3J0TGFiZWxdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJzZUZsb2F0KGFbc29ydExhYmVsXSkgPCBwYXJzZUZsb2F0KGJbc29ydExhYmVsXSkpIHsgLy9zb3J0IHN0cmluZyBhc2NlbmRpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFyc2VGbG9hdChhW3NvcnRMYWJlbF0pID4gcGFyc2VGbG9hdChiW3NvcnRMYWJlbF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChhW3NvcnRMYWJlbF0udG9Mb3dlckNhc2UoKSA8IGJbc29ydExhYmVsXS50b0xvd2VyQ2FzZSgpKSB7IC8vc29ydCBzdHJpbmcgYXNjZW5kaW5nXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFbc29ydExhYmVsXS50b0xvd2VyQ2FzZSgpID4gYltzb3J0TGFiZWxdLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN3aXRjaCAoc29ydFR5cGUpIHtcclxuICAgICAgICBjYXNlICdzb3J0QXNjZW5kaW5nJzpcclxuICAgICAgICBjYXNlICdhc2NlbmRpbmcnOlxyXG4gICAgICAgICAgICBjaGFydC5kYXRhLmNoYXJ0RGF0YSA9IG9yZ2FuaXplZERhdGE7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ3NvcnREZXNjZW5kaW5nJzpcclxuICAgICAgICBjYXNlICdkZXNjZW5kaW5nJzpcclxuICAgICAgICAgICAgY2hhcnQuZGF0YS5jaGFydERhdGEgPSBvcmdhbml6ZWREYXRhLnJldmVyc2UoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY2hhcnQuZGF0YS5jaGFydERhdGEgPSBvcmdhbml6ZWREYXRhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipzZXRUaXBEYXRhXHJcbiAgICAgKlxyXG4gICAgICogY3JlYXRlcyBkYXRhIG9iamVjdCB0byBkaXNwbGF5IGluIHRvb2x0aXBcclxuICAgICAqIEBwYXJhbXNcclxuICAgICAqIEByZXR1cm5zIHt7fX1cclxuICAgICAqL1xyXG4gICAgc2V0VGlwRGF0YShkLCBpKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgZGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YTtcclxuXHJcbiAgICAgICAgLy9HZXQgQ29sb3IgZnJvbSBjaGFydERhdGEgYW5kIGFkZCB0byBvYmplY3RcclxuICAgICAgICB2YXIgY29sb3IgPSBjaGFydC5vcHRpb25zLmNvbG9yO1xyXG5cclxuICAgICAgICB2YXIgdGl0bGUgPSBkW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsXTtcclxuICAgICAgICB2YXIgZGF0YVRhYmxlID0ge307XHJcblxyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ3RyZWVtYXAnKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW0gaW4gZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0gPT09IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLnNlcmllcyB8fCBpdGVtID09PSBjaGFydC5kYXRhLmRhdGFUYWJsZS5zaXplKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVRhYmxlW2l0ZW1dID0gZFtpdGVtXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYmFyJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2xpbmUnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYXJlYScpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSBkYXRhW2ldW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPT0gY2hhcnQuZGF0YS5kYXRhVGFibGUubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhVGFibGVbaXRlbV0gPSBkYXRhW2ldW2l0ZW1dO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdnYW50dCcpIHtcclxuICAgICAgICAgICAgLy9DYWxjdWxhdGUgbGVuZ3RoIG9mIGRhdGVzXHJcbiAgICAgICAgICAgIGZvciAoaXRlbSBpbiBkYXRhW2ldKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtpXS5oYXNPd25Qcm9wZXJ0eShpdGVtKSAmJiBpdGVtICE9PSBjaGFydC5kYXRhLmRhdGFUYWJsZS5ncm91cCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUYWJsZVtpdGVtXSA9IGRhdGFbaV1baXRlbV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBzdGFydCxcclxuICAgICAgICAgICAgICAgIGVuZCxcclxuICAgICAgICAgICAgICAgIGRpZmZlcmVuY2U7XHJcblxyXG4gICAgICAgICAgICAvL0NhbGN1bHRpbmcgZHVyYXRpb24gb2YgZGF0ZSByYW5nZXMgdG8gYWRkIHRvIHRvb2x0aXBcclxuICAgICAgICAgICAgdmFyIG51bVBhaXJzID0gTWF0aC5mbG9vcihPYmplY3Qua2V5cyhjaGFydC5kYXRhLmRhdGFUYWJsZSkubGVuZ3RoIC8gMik7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDw9IG51bVBhaXJzOyBqKyspIHtcclxuICAgICAgICAgICAgICAgIHN0YXJ0ID0gbmV3IERhdGUoZGF0YVtpXVtjaGFydC5kYXRhLmRhdGFUYWJsZVsnc3RhcnQgJyArIGpdXSk7XHJcbiAgICAgICAgICAgICAgICBlbmQgPSBuZXcgRGF0ZShkYXRhW2ldW2NoYXJ0LmRhdGEuZGF0YVRhYmxlWydlbmQgJyArIGpdXSk7XHJcbiAgICAgICAgICAgICAgICBkaWZmZXJlbmNlID0gZW5kLmdldFRpbWUoKSAtIHN0YXJ0LmdldFRpbWUoKTtcclxuICAgICAgICAgICAgICAgIGRhdGFUYWJsZVsnRHVyYXRpb24gJyArIGpdID0gTWF0aC5jZWlsKGRpZmZlcmVuY2UgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpICsgJyBkYXlzJztcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGl0bGUgPSBkYXRhW2ldW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmdyb3VwXTtcclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAncGllJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ3JhZGlhbCcpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSBkLmxhYmVsO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIGQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtICE9PSAnbGFiZWwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVRhYmxlW2l0ZW1dID0gZFtpdGVtXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVsZXRlIGRhdGFUYWJsZS5vdXRlclJhZGl1cztcclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnY2lyY2xlcGFjaycgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzdW5idXJzdCcpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSBkLmRhdGEubmFtZTtcclxuICAgICAgICAgICAgZGF0YVRhYmxlW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLnZhbHVlXSA9IGQudmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2Nsb3VkJykge1xyXG4gICAgICAgICAgICB0aXRsZSA9IGRbY2hhcnQuZGF0YS5kYXRhVGFibGUubGFiZWxdO1xyXG4gICAgICAgICAgICBkYXRhVGFibGVbY2hhcnQuZGF0YS5kYXRhVGFibGUudmFsdWVdID0gZFtjaGFydC5kYXRhLmRhdGFUYWJsZS52YWx1ZV07XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2hlYXRtYXAnKSB7XHJcbiAgICAgICAgICAgIHRpdGxlID0gZC55QXhpc05hbWUgKyAnIHRvICcgKyBkLnhBeGlzTmFtZTtcclxuICAgICAgICAgICAgaWYgKGQuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFUYWJsZS52YWx1ZSA9IGQudmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2Fua2V5Jykge1xyXG4gICAgICAgICAgICB0aXRsZSA9IGQuc291cmNlLm5hbWUgKyAnIHRvICcgKyBkLnRhcmdldC5uYW1lO1xyXG4gICAgICAgICAgICBpZiAoZC5oYXNPd25Qcm9wZXJ0eSgndmFsdWUnKSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YVRhYmxlLnZhbHVlID0gZC52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzaW5nbGVheGlzJykge1xyXG4gICAgICAgICAgICB0aXRsZSA9IGQuZGF0YVtjaGFydC5kYXRhLmRhdGFUYWJsZS5sYWJlbF07XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIGNoYXJ0LmRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbSAhPSAnbGFiZWwnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVRhYmxlW2NoYXJ0LmRhdGEuZGF0YVRhYmxlW2l0ZW1dXSA9IGQuZGF0YVtjaGFydC5kYXRhLmRhdGFUYWJsZVtpdGVtXV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtIGluIGQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtICE9PSBjaGFydC5kYXRhLmRhdGFUYWJsZS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFUYWJsZVtpdGVtXSA9IGRbaXRlbV07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgcmV0dXJuIHsgJ2RhdGEnOiBkLCAndGlwRGF0YSc6IGRhdGFUYWJsZSwgJ2luZGV4JzogaSwgJ3RpdGxlJzogdGl0bGUsICdjb2xvcic6IGNvbG9yLCAndml6JzogY2hhcnQuY29uZmlnLnR5cGUgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIERyYXcgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbiAgICAvKipnZW5lcmF0ZVNWR1xyXG4gICAgICpjcmVhdGVzIGFuIFNWRyBlbGVtZW50IG9uIHRoZSBwYW5lbFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbXMgY29udGFpbmVyLCBtYXJnaW4sIG5hbWVcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlU1ZHKGxlZ2VuZERhdGEsIGN1c3RvbU1hcmdpblBhcmFtLCBjdXN0b21TaXplUGFyYW0pIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBtYXJnaW4gPSB7fSxcclxuICAgICAgICAgICAgY29udGFpbmVyID0ge30sXHJcbiAgICAgICAgICAgIGRpbWVuc2lvbnMgPSBjaGFydC5jaGFydERpdi5ub2RlKCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXHJcbiAgICAgICAgICAgIGN1c3RvbU1hcmdpbnMgPSBjdXN0b21NYXJnaW5QYXJhbSxcclxuICAgICAgICAgICAgY3VzdG9tU2l6ZSA9IGN1c3RvbVNpemVQYXJhbSxcclxuICAgICAgICAgICAgdGV4dFdpZHRoO1xyXG5cclxuICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy5jdXN0b21NYXJnaW5zKSB7XHJcbiAgICAgICAgICAgIGN1c3RvbU1hcmdpbnMgPSBjaGFydC5vcHRpb25zLmN1c3RvbU1hcmdpbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3NldCBtYXJnaW5zXHJcbiAgICAgICAgaWYgKCFjdXN0b21NYXJnaW5zKSB7XHJcbiAgICAgICAgICAgIC8vZGVjbGFyZSBtYXJnaW5zIGlmIHRoZXkgYXJlbnQgcGFzc2VkIGluXHJcbiAgICAgICAgICAgIG1hcmdpbiA9IHtcclxuICAgICAgICAgICAgICAgIHRvcDogNTUsXHJcbiAgICAgICAgICAgICAgICByaWdodDogNTAsXHJcbiAgICAgICAgICAgICAgICBsZWZ0OiAxMDAsXHJcbiAgICAgICAgICAgICAgICBib3R0b206IDcwXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChsZWdlbmREYXRhICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmREYXRhLmxlbmd0aCA8PSAzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IDcwO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChsZWdlbmREYXRhLmxlbmd0aCA8PSA2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWFyZ2luLmJvdHRvbSA9IDg1O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW4uYm90dG9tID0gMTMwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWFyZ2luID0gY3VzdG9tTWFyZ2lucztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vcmVkdWNlIG1hcmdpbnMgaWYgbGVnZW5kIGlzIHRvZ2dsZWQgb2ZmXHJcbiAgICAgICAgLy9UT0RPIG1ha2UgdGhpcyBiZXR0ZXJcclxuICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgndG9nZ2xlTGVnZW5kJykgJiYgIWNoYXJ0Lm9wdGlvbnMudG9nZ2xlTGVnZW5kKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ3BpZScgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdyYWRpYWwnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnY2lyY2xlcGFjaycgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdoZWF0bWFwJykge1xyXG4gICAgICAgICAgICAgICAgbWFyZ2luLmxlZnQgPSA0MDtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ3RyZWVtYXAnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYmFyJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2dhbnR0JyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ3NjYXR0ZXInIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnbGluZScpIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi5ib3R0b20gPSA0MDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9zZXQgeUF4aXMgbWFyZ2luc1xyXG4gICAgICAgIGlmIChjaGFydC5jdXJyZW50RGF0YSAmJiBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEpIHtcclxuICAgICAgICAgICAgdGV4dFdpZHRoID0gZ2V0TWF4V2lkdGhGb3JBeGlzRGF0YSgneScsIGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSwgY2hhcnQub3B0aW9ucywgZGltZW5zaW9ucywgbWFyZ2luLCBjaGFydC5jaGFydERpdiwgY2hhcnQuY29uZmlnLnR5cGUpO1xyXG4gICAgICAgICAgICBtYXJnaW4ubGVmdCA9IE1hdGguY2VpbCh0ZXh0V2lkdGgpICsgMjA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3NldCB4QXhpcyB0b3AgbWFyZ2luc1xyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2hlYXRtYXAnICYmIGNoYXJ0LmN1cnJlbnREYXRhICYmIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSkge1xyXG4gICAgICAgICAgICB0ZXh0V2lkdGggPSBnZXRNYXhXaWR0aEZvckF4aXNEYXRhKCd4JywgY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLCBjaGFydC5vcHRpb25zLCBkaW1lbnNpb25zLCBtYXJnaW4sIGNoYXJ0LmNoYXJ0RGl2LCBjaGFydC5jb25maWcudHlwZSk7XHJcbiAgICAgICAgICAgIC8vc3VidHJhY3Qgc3BhY2UgZm9yIHRpbHRcclxuICAgICAgICAgICAgdGV4dFdpZHRoID0gIE1hdGguY2VpbCh0ZXh0V2lkdGgpO1xyXG4gICAgICAgICAgICBpZiAodGV4dFdpZHRoID4gMTAwKSB7XHJcbiAgICAgICAgICAgICAgICB0ZXh0V2lkdGggPSAxMjA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbWFyZ2luLnRvcCA9IE1hdGguY2VpbCh0ZXh0V2lkdGgpO1xyXG4gICAgICAgICAgICBjdXN0b21TaXplID0ge307XHJcbiAgICAgICAgICAgIC8vc2V0IGNvbnRhaW5lclxyXG4gICAgICAgICAgICBjdXN0b21TaXplLndpZHRoID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLnZhbHVlcy5sZW5ndGggKiAyMDtcclxuICAgICAgICAgICAgY3VzdG9tU2l6ZS5oZWlnaHQgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEudmFsdWVzLmxlbmd0aCAqIDIwO1xyXG4gICAgICAgICAgICBpZiAoY3VzdG9tU2l6ZS53aWR0aCA8IGRpbWVuc2lvbnMud2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi5yaWdodCA9IHBhcnNlSW50KGRpbWVuc2lvbnMud2lkdGgpIC0gbWFyZ2luLmxlZnQgLSBjdXN0b21TaXplLndpZHRoIC0gMTA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN1c3RvbVNpemUuaGVpZ2h0IDwgZGltZW5zaW9ucy5oZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgIG1hcmdpbi5ib3R0b20gPSBwYXJzZUludChkaW1lbnNpb25zLmhlaWdodCkgLSBtYXJnaW4udG9wIC0gY3VzdG9tU2l6ZS5oZWlnaHQgLSAxMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9zZXQgY29udGFpbmVyIGF0dHJpYnV0ZXNcclxuICAgICAgICAvL1NldCBzdmcgc2l6ZSBiYXNlZCBvbiBjYWxjdWxhdGlvbiBtYXJnaW5zIG9yIGN1c3RvbSBzaXplIGlmIHNwZWNpZmllZFxyXG4gICAgICAgIGlmIChjdXN0b21TaXplICYmIGN1c3RvbVNpemUuaGFzT3duUHJvcGVydHkoJ2hlaWdodCcpKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5oZWlnaHQgPSBjdXN0b21TaXplLmhlaWdodDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb250YWluZXIuaGVpZ2h0ID0gcGFyc2VJbnQoZGltZW5zaW9ucy5oZWlnaHQpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY3VzdG9tU2l6ZSAmJiBjdXN0b21TaXplLmhhc093blByb3BlcnR5KCd3aWR0aCcpKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci53aWR0aCA9IGN1c3RvbVNpemUud2lkdGg7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29udGFpbmVyLndpZHRoID0gcGFyc2VJbnQoZGltZW5zaW9ucy53aWR0aCkgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vYWRkIG1hcmdpbiBhbmQgY29udGFpbmVyIHRvIGNoYXJ0IGNvbmZpZyBvYmplY3RcclxuICAgICAgICBjaGFydC5jb25maWcubWFyZ2luID0gbWFyZ2luO1xyXG4gICAgICAgIGNoYXJ0LmNvbmZpZy5jb250YWluZXIgPSBjb250YWluZXI7XHJcblxyXG4gICAgICAgIC8vcmVtb3ZlIG9sZCBzdmcgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgY2hhcnQuc3ZnID0gY2hhcnQuY2hhcnREaXYuc2VsZWN0KCdzdmcnKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgLy9zdmcgbGF5ZXJcclxuICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdoZWF0bWFwJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnN2ZyA9IGNoYXJ0LmNoYXJ0RGl2LmFwcGVuZCgnc3ZnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdlZGl0YWJsZS1zdmcnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgY29udGFpbmVyLndpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignaGVpZ2h0JywgY29udGFpbmVyLmhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnY29udGFpbmVyJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBtYXJnaW4ubGVmdCArICcsJyArIChtYXJnaW4udG9wKSArICcpJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2hhcnQuc3ZnID0gY2hhcnQuY2hhcnREaXYuYXBwZW5kKCdzdmcnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Z1bGwtd2lkdGggZnVsbC1oZWlnaHQgZWRpdGFibGUtc3ZnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGNvbnRhaW5lci53aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGNvbnRhaW5lci5oZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIG1hcmdpbi5sZWZ0ICsgJywnICsgKG1hcmdpbi50b3ApICsgJyknKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vVE9ETyBtb3ZlIHRvIGVkaXQgbW9kZVxyXG4gICAgICAgIGlmIChjaGFydC5vcHRpb25zLmhhc093blByb3BlcnR5KCdiYWNrZ3JvdW5kQ29sb3InKSkge1xyXG4gICAgICAgICAgICBjaGFydC5jb2xvckJhY2tncm91bmQoY2hhcnQub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipnZW5lcmF0ZVhBeGlzXHJcbiAgICAgKiBjcmVhdGVzIHggYXhpcyBvbiB0aGUgc3ZnXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtcyB4QXhpc0RhdGFcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVYQXhpcyh4QXhpc0RhdGEsIHRpY2tzKSB7XHJcbiAgICAgICAgLy9kZWNsYXJlIHZhcmlhYmxlc1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHhBeGlzLFxyXG4gICAgICAgICAgICAvL05lZWQgdG8gZ2V0WEF4aXNTY2FsZSBlYWNoIHRpbWUgc28gdGhhdCBheGlzIHVwZGF0ZXMgb24gcmVzaXplXHJcbiAgICAgICAgICAgIHhBeGlzU2NhbGUgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNoYXJ0LmNvbmZpZy5jb250YWluZXIsIGNoYXJ0Lm9wdGlvbnMpLFxyXG4gICAgICAgICAgICBjb250YWluZXJIZWlnaHQgPSBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICAgICAgY29udGFpbmVyV2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgICAgICB4QXhpc0NsYXNzID0gJ3hBeGlzTGFiZWxzIGVkaXRhYmxlIGVkaXRhYmxlLXhBeGlzIGVkaXRhYmxlLXRleHQnO1xyXG5cclxuICAgICAgICAvL2Fzc2lnbiBjc3MgY2xhc3MgZm9yIGVkaXQgbW9kZVxyXG4gICAgICAgIC8vaWYgdGhlIGF4aXMgaXMgbnVtYmVycyBhZGQgZWRpdGFibGUtbnVtXHJcbiAgICAgICAgaWYgKHhBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgeEF4aXNDbGFzcyArPSAnIGVkaXRhYmxlLW51bSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL3JlbW92ZSBwcmV2aW91cyB4QXhpcyBjb250YWluZXIgaWYgaXRzIHRoZXJlXHJcbiAgICAgICAgY2hhcnQuc3ZnLnNlbGVjdEFsbCgnLnhBeGlzQ29udGFpbmVyJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIC8vU2F2ZSB0aGUgYXhpcyBzY2FsZSB0byBjaGFydCBvYmplY3RcclxuICAgICAgICBjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlID0geEF4aXNTY2FsZTtcclxuXHJcbiAgICAgICAgdmFyIHRpY2tTaXplID0gMDtcclxuICAgICAgICBpZiAoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICB0aWNrU2l6ZSA9IDU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL2NyZWF0ZSB4QXhpcyBkcmF3aW5nIGZ1bmN0aW9uXHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2luZ2xlYXhpcycpIHtcclxuICAgICAgICAgICAgeEF4aXMgPSBkMy5heGlzVG9wKHhBeGlzU2NhbGUpXHJcbiAgICAgICAgICAgICAgICAudGlja1NpemUodGlja1NpemUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4QXhpc1NjYWxlKVxyXG4gICAgICAgICAgICAgICAgLnRpY2tTaXplKHRpY2tTaXplKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aWNrcykge1xyXG4gICAgICAgICAgICB4QXhpcy50aWNrcyh0aWNrcyk7XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdmFyIGF4aXNIZWlnaHQgPSBjb250YWluZXJIZWlnaHQ7XHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2luZ2xlYXhpcycpIHsvL0ZvciBhbnkgYXhlcyB0aGF0IGFyZSBvbiB0b3Agb2YgdGhlIGRhdGFcclxuICAgICAgICAgICAgYXhpc0hlaWdodCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgeENvbnRlbnQgPSBjaGFydC5zdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3hBeGlzQ29udGFpbmVyJylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgKGF4aXNIZWlnaHQpICsgJyknKTtcclxuXHJcbiAgICAgICAgdmFyIHhBeGlzR3JvdXAgPSB4Q29udGVudC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneEF4aXMnKVxyXG4gICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgIC5kdXJhdGlvbigwKVxyXG4gICAgICAgICAgICAuY2FsbCh4QXhpcyk7XHJcblxyXG4gICAgICAgIHZhciBmb3JtYXRWYWx1ZVR5cGUgPSBqdkZvcm1hdFZhbHVlVHlwZSh4QXhpc0RhdGEudmFsdWVzKTtcclxuXHJcbiAgICAgICAgLy9TdHlsaW5nIHRoZSBheGlzXHJcbiAgICAgICAgeEF4aXNHcm91cC5zZWxlY3QoJ3BhdGgnKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQudmFycy5heGlzQ29sb3IpXHJcbiAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBjaGFydC52YXJzLnN0cm9rZVdpZHRoKTtcclxuXHJcbiAgICAgICAgLy9TdHlsaW5nIGZvciB0aWNrc1xyXG4gICAgICAgIHhBeGlzR3JvdXAuc2VsZWN0QWxsKCdsaW5lJylcclxuICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsIGNoYXJ0LnZhcnMuYXhpc0NvbG9yKVxyXG4gICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQudmFycy5zdHJva2UpO1xyXG5cclxuICAgICAgICAvL1N0eWxpbmcgdGhlIGxhYmVscyBmb3IgZWFjaCBwaWVjZSBvZiBkYXRhXHJcbiAgICAgICAgeEF4aXNHcm91cC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbCcsIGNoYXJ0LnZhcnMuYmxhY2spLy9DdXN0b21pemUgdGhlIGNvbG9yIG9mIGF4aXMgbGFiZWxzXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsIHhBeGlzQ2xhc3MpXHJcbiAgICAgICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnbWlkZGxlJylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Lm9wdGlvbnMuZm9udFNpemUpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsIDMpJylcclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInIHx8IGNoYXJ0Lm9wdGlvbnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqdkZvcm1hdFZhbHVlKGQsIGZvcm1hdFZhbHVlVHlwZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vU3R5bGluZyB0aGUgbGFiZWwgZm9yIHRoZSBlbnRpcmUgYXhpc1xyXG4gICAgICAgIHhDb250ZW50LmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd4TGFiZWwnKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3hMYWJlbCBlZGl0YWJsZSBlZGl0YWJsZS10ZXh0IGVkaXRhYmxlLWNvbnRlbnQnKVxyXG4gICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Lm9wdGlvbnMuZm9udFNpemUpXHJcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdEQVRFJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiB4QXhpc0RhdGEubGFiZWw7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyBjb250YWluZXJXaWR0aCAvIDIgKyAnLCAzMyknKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipGb3JtYXRYQXhpc0xhYmVsc1xyXG4gICAgICpcclxuICAgICAqIElmIHgtYXhpcyBsYWJlbHMgYXJlIHRvbyBsb25nL292ZXJsYXBwaW5nLCB0aGV5IHdpbGwgYmUgaGlkZGVuL3Nob3J0ZW5lZFxyXG4gICAgICovXHJcbiAgICBmb3JtYXRYQXhpc0xhYmVscyhkYXRhTGVuZ3RoLCByZWN1cnNpb24pIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzaG93QXhpc0xhYmVscyA9IHRydWUsXHJcbiAgICAgICAgICAgIHhBeGlzTGVuZ3RoID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICAgICAgdGV4dFdpZHRoID0gW10sXHJcbiAgICAgICAgICAgIGZvcm1hdFZhbHVlVHlwZSA9IG51bGwsXHJcbiAgICAgICAgICAgIGRhdGFUeXBlID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLmRhdGFUeXBlLFxyXG4gICAgICAgICAgICBheGlzVmFsdWVzID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLnZhbHVlcztcclxuXHJcbiAgICAgICAgaWYgKGRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICBmb3JtYXRWYWx1ZVR5cGUgPSBqdkZvcm1hdFZhbHVlVHlwZShheGlzVmFsdWVzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vY3JlYXRlIGR1bW15IHRleHQgdG8gZGV0ZXJtaW5lIGNvbXB1dGVkIHRleHQgbGVuZ3RoIGZvciB0aGUgYXhpcyBsYWJlbHNcclxuICAgICAgICAvL25lY2Vzc2FyeSB0byBkbyB0aGlzIGJlY2F1c2UgYXhpcyBsYWJlbHMgZ2V0QkJveCgpIGlzIHJldHVybmluZyAwIHNpbmNlIHRoZXkgZG8gbm90IHNlZW0gdG8gYmUgZHJhd24geWV0XHJcbiAgICAgICAgY2hhcnQuc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5zZWxlY3RBbGwoJy5kdW1teVRleHQnKVxyXG4gICAgICAgICAgICAuZGF0YShheGlzVmFsdWVzKVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2ZvbnQtZmFtaWx5JywgJ3NhbnMtc2VyaWYnKVxyXG4gICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQub3B0aW9ucy5mb250U2l6ZSlcclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWwgPSBkO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVyblZhbCA9IGp2Rm9ybWF0VmFsdWUoZCwgZm9ybWF0VmFsdWVUeXBlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5WYWw7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vYWRkaW5nIDEwcHggYnVmZmVyXHJcbiAgICAgICAgICAgICAgICB2YXIgdGhpc1dpZHRoID0gdGhpcy5nZXRDb21wdXRlZFRleHRMZW5ndGgoKSArIDEwO1xyXG4gICAgICAgICAgICAgICAgdGV4dFdpZHRoLnB1c2godGhpc1dpZHRoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlKCk7IC8vcmVtb3ZlIHRoZW0ganVzdCBhZnRlciBkaXNwbGF5aW5nIHRoZW1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dFdpZHRoLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXh0RWxlV2lkdGggPSB0ZXh0V2lkdGhbaV07XHJcbiAgICAgICAgICAgIGlmICh0ZXh0RWxlV2lkdGggPiB4QXhpc0xlbmd0aCAvIGRhdGFMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIHNob3dBeGlzTGFiZWxzID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzaG93QXhpc0xhYmVscykge1xyXG4gICAgICAgICAgICBpZiAocmVjdXJzaW9uKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5nZW5lcmF0ZVhBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSwgZGF0YUxlbmd0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hhcnQuc3ZnLnNlbGVjdEFsbCgnLnhBeGlzTGFiZWxzJykuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICB9IGVsc2UgaWYgKGRhdGFMZW5ndGggPiAxICYmIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAgICAgLy9yZWN1cnNpdmVseSBrZWVwIGRlY3JlYXNpbmcgdG8gZmlndXJlIG91dCB0aWNrcyBsZW5ndGggdG8gcmVwYWludCB0aGUgeEF4aXMgaWYgaXRzIG51bWVyaWNcclxuICAgICAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoKGRhdGFMZW5ndGggLSAxKSwgdHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2hhcnQuc3ZnLnNlbGVjdEFsbCgnLnhBeGlzJykuc2VsZWN0QWxsKCd0ZXh0Jykuc3R5bGUoJ2Rpc3BsYXknLCAnbm9uZScpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipnZW5lcmF0ZVlBeGlzXHJcbiAgICAgKiBjcmVhdGVzIHkgYXhpcyBvbiB0aGUgc3ZnXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtcyBnZW5lcmF0ZVlBeGlzXHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlWUF4aXMoeUF4aXNEYXRhKSB7XHJcbiAgICAgICAgLy9kZWNsYXJlIGxvY2FsIHZhcmlhYmxlc1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHlBeGlzU2NhbGUgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNoYXJ0LmNvbmZpZy5jb250YWluZXIsIG51bGwsIGNoYXJ0Lm9wdGlvbnMpLFxyXG4gICAgICAgICAgICB5QXhpc0NsYXNzID0gJ3lBeGlzTGFiZWxzIGVkaXRhYmxlIGVkaXRhYmxlLXlBeGlzIGVkaXRhYmxlLXRleHQnLFxyXG4gICAgICAgICAgICBtYXhZQXhpc0xhYmVsV2lkdGgsXHJcbiAgICAgICAgICAgIG51bWJlck9mVGlja3MgPSBNYXRoLmZsb29yKGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0IC8gMTQpLFxyXG4gICAgICAgICAgICB5QXhpcyxcclxuICAgICAgICAgICAgeUNvbnRlbnQsXHJcbiAgICAgICAgICAgIHlBeGlzR3JvdXA7XHJcblxyXG4gICAgICAgIC8vYXNzaWduIGNzcyBjbGFzcyBmb3IgZWRpdCBtb2RlXHJcbiAgICAgICAgLy9pZiB0aGUgYXhpcyBpcyBudW1iZXJzIGFkZCBlZGl0YWJsZS1udW1cclxuICAgICAgICBpZiAoeUF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICB5QXhpc0NsYXNzICs9ICcgZWRpdGFibGUtbnVtJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vU2F2ZSB5IGF4aXMgc2NhbGUgdG8gY2hhcnQgb2JqZWN0XHJcbiAgICAgICAgY2hhcnQuY3VycmVudERhdGEueUF4aXNTY2FsZSA9IHlBeGlzU2NhbGU7XHJcblxyXG4gICAgICAgIC8vcmVtb3ZlIHByZXZpb3VzIHN2ZyBlbGVtZW50c1xyXG4gICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoJy55QXhpc0NvbnRhaW5lcicpLnJlbW92ZSgpO1xyXG4gICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoJ3RleHQueUxhYmVsJykucmVtb3ZlKCk7XHJcblxyXG4gICAgICAgIGlmIChudW1iZXJPZlRpY2tzID4gMTApIHtcclxuICAgICAgICAgICAgaWYgKG51bWJlck9mVGlja3MgPCAyMCkge1xyXG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZUaWNrcyA9IDEwO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKG51bWJlck9mVGlja3MgPCAzMCkge1xyXG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZUaWNrcyAvPSAyO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbnVtYmVyT2ZUaWNrcyA9IDE1O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB5QXhpcyA9IGQzLmF4aXNMZWZ0KClcclxuICAgICAgICAgICAgLnRpY2tzKG51bWJlck9mVGlja3MpLy9MaW5rIHRvIEQzLnN2Zy5heGlzIG9wdGlvbnM6IGh0dHBzOi8vZ2l0aHViLmNvbS9tYm9zdG9jay9kMy93aWtpL1NWRy1BeGVzXHJcbiAgICAgICAgICAgIC5zY2FsZSh5QXhpc1NjYWxlKS8vU2V0cyB0aGUgc2NhbGUgdG8gdXNlIGluIHRoZSBheGlzXHJcbiAgICAgICAgICAgIC50aWNrU2l6ZSg1KS8vU2V0cyB0aGUgdGhpY2tuZXNzIG9mIHRoZSBheGlzIGxpbmVcclxuICAgICAgICAgICAgLnRpY2tQYWRkaW5nKDUpO1xyXG5cclxuICAgICAgICAvL0hpZGUgQXhpcyB2YWx1ZXMgaWYgbmVjZXNzYXJ5XHJcbiAgICAgICAgaWYgKHlBeGlzRGF0YS5oaWRlVmFsdWVzKSB7XHJcbiAgICAgICAgICAgIHlBeGlzLnRpY2tGb3JtYXQoJycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgeUNvbnRlbnQgPSBjaGFydC5zdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3lBeGlzQ29udGFpbmVyJyk7XHJcblxyXG4gICAgICAgIHlDb250ZW50LmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd5TGFiZWwnKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3lMYWJlbCBlZGl0YWJsZSBlZGl0YWJsZS10ZXh0IGVkaXRhYmxlLWNvbnRlbnQnKVxyXG4gICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnc3RhcnQnKVxyXG4gICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQub3B0aW9ucy5mb250U2l6ZSlcclxuICAgICAgICAgICAgLmF0dHIoJ2ZpbGwtb3BhY2l0eScsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKCd4JywgMClcclxuICAgICAgICAgICAgLmF0dHIoJ3knLCAwKVxyXG4gICAgICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKC1jaGFydC5jb25maWcubWFyZ2luLmxlZnQgKyAxMCkgKyAnLCAtMTApJylcclxuICAgICAgICAgICAgLnRleHQoeUF4aXNEYXRhLmxhYmVsKVxyXG4gICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgIC5kdXJhdGlvbigwKVxyXG4gICAgICAgICAgICAuYXR0cignZmlsbC1vcGFjaXR5JywgMSk7XHJcblxyXG4gICAgICAgIHlBeGlzR3JvdXAgPSB5Q29udGVudC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAneUF4aXMnKTtcclxuXHJcblxyXG4gICAgICAgIHlBeGlzR3JvdXBcclxuICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAuZHVyYXRpb24oMClcclxuICAgICAgICAgICAgLmNhbGwoeUF4aXMpO1xyXG5cclxuICAgICAgICAvL1N0eWxpbmcgZm9yIEF4aXNcclxuICAgICAgICB5QXhpc0dyb3VwLnNlbGVjdCgncGF0aCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBjaGFydC52YXJzLmF4aXNDb2xvcilcclxuICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIGNoYXJ0LnZhcnMuc3Ryb2tlV2lkdGgpO1xyXG5cclxuICAgICAgICBtYXhZQXhpc0xhYmVsV2lkdGggPSAwO1xyXG5cclxuICAgICAgICBpZiAoeUF4aXNEYXRhLmhpZGVWYWx1ZXMpIHtcclxuICAgICAgICAgICAgLy9TdHlsaW5nIGZvciB0aWNrc1xyXG4gICAgICAgICAgICB5QXhpc0dyb3VwLnNlbGVjdEFsbCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy9TdHlsaW5nIGZvciB0aWNrc1xyXG4gICAgICAgICAgICB5QXhpc0dyb3VwLnNlbGVjdEFsbCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgY2hhcnQudmFycy5heGlzQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgY2hhcnQudmFycy5zdHJva2UpO1xyXG4gICAgICAgICAgICAvL1N0eWxpbmcgZm9yIGRhdGEgbGFiZWxzIG9uIGF4aXNcclxuICAgICAgICAgICAgeUF4aXNHcm91cC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKS8vQ3VzdG9taXplIHRoZSBjb2xvciBvZiBheGlzIGxhYmVsc1xyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgeUF4aXNDbGFzcylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAncm90YXRlKDApJykvL0FkZCBsb2dpYyB0byByb3RhdGUgYXhpcyBiYXNlZCBvbiBzaXplIG9mIHRpdGxlXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQub3B0aW9ucy5mb250U2l6ZSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3N2Zzp0aXRsZScpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGZvcm1hdFZhbHVlVHlwZSA9IGp2Rm9ybWF0VmFsdWVUeXBlKHlBeGlzRGF0YS52YWx1ZXMpO1xyXG5cclxuICAgICAgICAgICAgeUF4aXNHcm91cC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2YXIgbWF4TGVuZ3RoID0gMTM7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnQgPSAnJztcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZC5sZW5ndGggPiBtYXhMZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGQuc3Vic3RyaW5nKDAsIG1heExlbmd0aCkgKyAnLi4uJztcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50ID0gZDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGp2Rm9ybWF0VmFsdWUoY3VycmVudCwgZm9ybWF0VmFsdWVUeXBlKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuZWFjaChmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChqWzBdLmdldEJCb3goKS53aWR0aCA+IG1heFlBeGlzTGFiZWxXaWR0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhZQXhpc0xhYmVsV2lkdGggPSBqWzBdLmdldEJCb3goKS53aWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIGlmIChtYXhZQXhpc0xhYmVsV2lkdGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC5vcHRpb25zLnlMYWJlbFdpZHRoID0gTWF0aC5jZWlsKG1heFlBeGlzTGFiZWxXaWR0aCkgKyAyMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogTGVnZW5kIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgZ2VuZXJhdGVMZWdlbmQobGVnZW5kRGF0YSwgZHJhd0Z1bmMpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzdmcgPSBjaGFydC5zdmc7XHJcblxyXG4gICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgLy9SZXR1cm5zIHRoZSBsZWdlbmQgcmVjdGFuZ2xlcyB0aGF0IGFyZSB0b2dnbGVkIG9uL29mZlxyXG4gICAgICAgIHZhciBsZWdlbmRFbGVtZW50cyA9IGdlbmVyYXRlTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKTtcclxuICAgICAgICBpZiAoZHJhd0Z1bmMpIHtcclxuICAgICAgICAgICAgYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZChjaGFydCwgbGVnZW5kRWxlbWVudHMsIGRyYXdGdW5jLCBsZWdlbmREYXRhKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjaGFydC5vcHRpb25zLnRocmVzaG9sZHMgIT09ICdub25lJyAmJiBjaGFydC5vcHRpb25zLnRoZXNob2xkTGVnZW5kID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2JhcicgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdhcmVhJyB8fCBjaGFydC5jb25maWcudHlwZSA9PT0gJ2xpbmUnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQgPiAyMDAgJiYgY2hhcnQuY29uZmlnLmNvbnRhaW5lci53aWR0aCA+IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdlbmVyYXRlVGhyZXNob2xkTGVnZW5kKGNoYXJ0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFjaGFydC5vcHRpb25zLnRvZ2dsZUxlZ2VuZCkge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQtY2Fyb3VzZWwnKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZFxyXG4gICAgICpcclxuICAgICAqIGNyZWF0ZXMgYW5kIGRyYXdzIGEgdmVydGljYWwgbGVnZW5kIG9uIHRoZSBzdmcgZWxlbWVudFxyXG4gICAgICogQHBhcmFtcyBzdmcsIGxlZ2VuZERhdGEsIG9wdGlvbnMsIGNvbnRhaW5lciwgY2hhcnREYXRhLCB4QXhpc0RhdGEsIHlBeGlzRGF0YSwgY2hhcnRUeXBlXHJcbiAgICAgKiBAcmV0dXJucyB7e319XHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlVmVydGljYWxMZWdlbmQocGFpbnRGdW5jKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgICAgICBsZWdlbmREYXRhID0gY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YTtcclxuXHJcbiAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZCcpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAvL1JldHVybnMgdGhlIGxlZ2VuZCByZWN0YW5nbGVzIHRoYXQgYXJlIHRvZ2dsZWQgb24vb2ZmXHJcbiAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzKGNoYXJ0LCBsZWdlbmREYXRhLCBwYWludEZ1bmMpO1xyXG4gICAgICAgIGlmIChwYWludEZ1bmMgIT09ICdnZW5lcmF0ZVBhY2snKSB7XHJcbiAgICAgICAgICAgIGF0dGFjaENsaWNrRXZlbnRzVG9MZWdlbmQoY2hhcnQsIGxlZ2VuZEVsZW1lbnRzLCBwYWludEZ1bmMsIGxlZ2VuZERhdGEpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFjaGFydC5vcHRpb25zLnRvZ2dsZUxlZ2VuZCkge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQtY2Fyb3VzZWwnKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogR2VuZXJhdGVzIGEgY2xpcCBwYXRoIHRoYXQgY29udGFpbnMgdGhlIGNvbnRlbnRzIG9mIHRoZSBjaGFydCBhcmVhIHRvIHRoZSB2aWV3IG9mIHRoZSBjaGFydCBhcmVhIGNvbnRhaW5lclxyXG4gICAgICogaS5lIC0gZG9uJ3Qgd2FudCBiYXJzIGdvaW5nIGJlbG93IHRoZSB4IGF4aXNcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVDbGlwUGF0aCgpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgICAgIHR5cGUgPSBjaGFydC5jb25maWcudHlwZTtcclxuXHJcbiAgICAgICAgc3ZnXHJcbiAgICAgICAgICAgIC5hcHBlbmQoJ2NsaXBQYXRoJylcclxuICAgICAgICAgICAgLmF0dHIoJ2lkJywgJ2NsaXAnKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCAwKVxyXG4gICAgICAgICAgICAuYXR0cigneScsIDApXHJcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGgpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCk7XHJcblxyXG4gICAgICAgIC8vQnJlYWsgdGhpcyBvdXQgaW50byBsb2dpYyBmb3IgYWxsIG90aGVyIHZpenplcyB0aGF0IGhhdmUgb3ZlcmZsb3cgaXNzdWVzXHJcbiAgICAgICAgdmFyIGNvbnRhaW5lck5hbWUgPSAnLicgKyB0eXBlICsgJy1jb250YWluZXInO1xyXG4gICAgICAgIHN2Z1xyXG4gICAgICAgICAgICAuc2VsZWN0KGNvbnRhaW5lck5hbWUpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGlwLXBhdGgnLCAndXJsKCNjbGlwKScpO1xyXG4gICAgfVxyXG5cclxuICAgIHNldFRocmVzaG9sZChkYXRhKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICAgICAgdGhyZXNob2xkcyA9IGNoYXJ0Lm9wdGlvbnMudGhyZXNob2xkcyxcclxuICAgICAgICAgICAgbGVuZ3RoID0gdGhyZXNob2xkcz8gT2JqZWN0LmtleXModGhyZXNob2xkcykubGVuZ3RoIDogMDtcclxuXHJcbiAgICAgICAgaWYgKHRocmVzaG9sZHMgIT09ICdub25lJykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gbGVuZ3RoIC0gMTsgaSA+IC0xOyBpLS0pIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGQgPSB0aHJlc2hvbGRzW2ldO1xyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyh0eXBlb2YgZGF0YSA9PSBcImRhdGVcIik7XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YSA+PSBOdW1iZXIodGhyZXNob2xkLnRocmVzaG9sZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3JlY3QtJyArIGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVMaW5lVGhyZXNob2xkKCkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICAgICAgd2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgICAgICBoZWlnaHQgPSBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICAgICAgdGhyZXNob2xkcyA9IGNoYXJ0Lm9wdGlvbnMudGhyZXNob2xkcyxcclxuICAgICAgICAgICAgbGVuZ3RoID0gT2JqZWN0LmtleXMoY2hhcnQub3B0aW9ucy50aHJlc2hvbGRzKS5sZW5ndGg7XHJcblxyXG4gICAgICAgIHZhciB4ID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZTtcclxuICAgICAgICB2YXIgeSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzU2NhbGU7XHJcblxyXG4gICAgICAgIGlmICh0aHJlc2hvbGRzICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZCA9IHRocmVzaG9sZHNbaV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3ZnLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgdGhyZXNob2xkLnRocmVzaG9sZENvbG9yKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDEnLCB4KHRocmVzaG9sZC50aHJlc2hvbGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTEnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneDInLCB4KHRocmVzaG9sZC50aHJlc2hvbGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCBoZWlnaHQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UtZGFzaGFycmF5JywgKCczLCAzJykpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzdmcuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIHkodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHdpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cigneTInLCB5KHRocmVzaG9sZC50aHJlc2hvbGQpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLWRhc2hhcnJheScsICgnMywgMycpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb2xvckJhY2tncm91bmQoY29sb3IpIHtcclxuICAgICAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgICAgIHZhciBjaGFydERpdiA9IGNoYXJ0LmNoYXJ0RGl2O1xyXG4gICAgICAgIGNoYXJ0Lm9wdGlvbnMuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XHJcbiAgICAgICAgY2hhcnREaXYuc3R5bGUoJ2JhY2tncm91bmQtY29sb3InLCAnJyArIGNvbG9yKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuICAgIC8qKmRpc3BsYXlWYWx1ZXNcclxuICAgICAqXHJcbiAgICAgKiB0b2dnbGVzIGRhdGEgdmFsdWVzIHRoYXQgYXJlIGRpc3BsYXllZCBvbiB0aGUgc3BlY2lmaWMgdHlwZSBvZiBjaGFydCBvbiB0aGUgc3ZnXHJcbiAgICAgKiBAcGFyYW1zIHN2ZywgYmFyRGF0YSwgb3B0aW9ucywgeEF4aXNEYXRhLCB5QXhpc0RhdGEsIGNvbnRhaW5lclxyXG4gICAgICogQHJldHVybnMge3t9fVxyXG4gICAgICovXHJcbiAgICBkaXNwbGF5VmFsdWVzKCkge1xyXG4gICAgICAgIC8vVE9ETyByZWNlaXZlIGRhdGEgc2ltaWxhciB0byBnZW5lcmF0ZUJhclxyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICAgICAgb3B0aW9ucyA9IGNoYXJ0Lm9wdGlvbnMsXHJcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgICAgIGJhckRhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgICAgICB5QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEsXHJcbiAgICAgICAgICAgIGxlZ2VuZE9wdGlvbnMgPSBjaGFydC5vcHRpb25zLmxlZ2VuZE9wdGlvbnM7XHJcblxyXG4gICAgICAgIC8vSWYgc2VyaWVzIGlzIGZsaXBwZWQsIHVzZSBmbGlwcGVkIGRhdGE7IGluaXRpYWxpemUgd2l0aCB0aGUgZnVsbCBkYXRhIHNldFxyXG4gICAgICAgIGlmIChvcHRpb25zLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICAgICAgYmFyRGF0YSA9IGNoYXJ0LmZsaXBwZWREYXRhLmNoYXJ0RGF0YTtcclxuICAgICAgICAgICAgbGVnZW5kT3B0aW9ucyA9IGNoYXJ0Lm9wdGlvbnMuZmxpcHBlZExlZ2VuZE9wdGlvbnM7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5kaXNwbGF5VmFsdWVzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5kaXNwbGF5VmFsdWVDb250YWluZXInKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gW107Ly9Pbmx5IHN0b3JlcyB2YWx1ZXMgZm9yIGJhcnNcclxuICAgICAgICAgICAgdmFyIGJhckRhdGFOZXcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGJhckRhdGEpKTsvL0NvcHkgb2YgYmFyRGF0YVxyXG5cclxuICAgICAgICAgICAgaWYgKGxlZ2VuZE9wdGlvbnMpIHsvL0NoZWNraW5nIHdoaWNoIGxlZ2VuZCBlbGVtZW50cyBhcmUgdG9nZ2xlZCBvbiByZXNpemVcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYmFyRGF0YU5ldy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kT3B0aW9ucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobGVnZW5kT3B0aW9uc1tpXS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYmFyRGF0YU5ld1tqXVtsZWdlbmRPcHRpb25zW2ldLmVsZW1lbnRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJhckRhdGFOZXcubGVuZ3RoOyBpKyspIHsvL2JhckRhdGFOZXcgdXNlZFxyXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IHZhbHVlcyhiYXJEYXRhTmV3W2ldLCBjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUsIGNoYXJ0LmNvbmZpZy50eXBlKTtcclxuICAgICAgICAgICAgICAgIGRhdGEucHVzaCh2YWwuc2xpY2UoMCwgYmFyRGF0YU5ld1tpXS5sZW5ndGgpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdmFyIHBvc0NhbGMgPSBnZXRQb3NDYWxjdWxhdGlvbnMoYmFyRGF0YU5ldywgb3B0aW9ucywgeEF4aXNEYXRhLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgY2hhcnQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNvbnRhaW5lciwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHZhciB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjb250YWluZXIsIG9wdGlvbnMpO1xyXG5cclxuICAgICAgICAgICAgLy92YXIgZm9ybWF0ID0gZ2V0Rm9ybWF0RXhwcmVzc2lvbihcImRpc3BsYXlWYWx1ZXNcIik7XHJcblxyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAvL0FkZCBhIGNvbnRhaW5lciBmb3IgZGlzcGxheSB2YWx1ZXMgb3ZlciBlYWNoIGJhciBncm91cFxyXG4gICAgICAgICAgICAgICAgdmFyIGRpc3BsYXlWYWx1ZXNHcm91cCA9XHJcbiAgICAgICAgICAgICAgICAgICAgc3ZnXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZGlzcGxheVZhbHVlc0dyb3VwJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhKGRhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZGlzcGxheVZhbHVlc0dyb3VwJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRlID0gKHkucGFkZGluZ091dGVyKCkgKiB5LnN0ZXAoKSkgKyAoeS5zdGVwKCkgKiBpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKDAsJyArIHRyYW5zbGF0ZSArICcpJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVZhbHVlc0dyb3VwLnNlbGVjdEFsbCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdkaXNwbGF5VmFsdWUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGksIGopIHsgLy9zZXRzIHRoZSB4IHBvc2l0aW9uIG9mIHRoZSBiYXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLndpZHRoKGQsIGksIGopICsgcG9zQ2FsYy54KGQsIGksIGopO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSwgaikgeyAvL3NldHMgdGhlIHkgcG9zaXRpb24gb2YgdGhlIGJhclxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy55KGQsIGksIGopICsgKHBvc0NhbGMuaGVpZ2h0KGQsIGksIGopIC8gMik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZHknLCAnLjM1ZW0nKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdzdGFydCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXR1cm5UZXh0ID0gTWF0aC5yb3VuZChkICogMTAwKSAvIDEwMDsvL3JvdW5kIHRvIDIgZGVjaW1hbHNcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGp2Rm9ybWF0VmFsdWUocmV0dXJuVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQub3B0aW9ucy5mb250U2l6ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvL0FkZCBhIGRpc3BsYXkgdmFsdWVzIGNvbnRhaW5lciBvdmVyIGVhY2ggYmFyIGdyb3VwXHJcbiAgICAgICAgICAgICAgICBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZGlzcGxheVZhbHVlc0dyb3VwJylcclxuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCdnJylcclxuICAgICAgICAgICAgICAgICAgICAuZGF0YShkYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Rpc3BsYXlWYWx1ZXNHcm91cCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGUgPSAoeC5wYWRkaW5nT3V0ZXIoKSAqIHguc3RlcCgpKSArICh4LnN0ZXAoKSAqIGkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgdHJhbnNsYXRlICsgJywwKSc7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgZGlzcGxheVZhbHVlc0dyb3VwLnNlbGVjdEFsbCgndGV4dCcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmRhdGEoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdkaXNwbGF5VmFsdWUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGksIGopIHsgLy9zZXRzIHRoZSB4IHBvc2l0aW9uIG9mIHRoZSBiYXIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKChwb3NDYWxjLngoZCwgaSwgaikgKyAocG9zQ2FsYy53aWR0aChkLCBpLCBqKSAvIDIpKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpLCBqKSB7IC8vc2V0cyB0aGUgeSBwb3NpdGlvbiBvZiB0aGUgYmFyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHBvc0NhbGMueShkLCBpLCBqKSk7Ly8rIHBvc0NhbGMuaGVpZ2h0KGQsIGksIGopIC0gNSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICdibGFjaycpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJldHVyblRleHQgPSBNYXRoLnJvdW5kKGQgKiAxMDApIC8gMTAwOy8vUm91bmQgdG8gMiBkZWNpbWFsc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3JldHVybiBmb3JtYXQocmV0dXJuVGV4dCk7Ly9leHByZXNzaW9uKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZGb3JtYXRWYWx1ZShyZXR1cm5UZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5vcHRpb25zLmZvbnRTaXplKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5kaXNwbGF5VmFsdWVDb250YWluZXInKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0dyaWRsaW5lcyhheGlzRGF0YSkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXM7XHJcblxyXG4gICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoJ2cuZ3JpZExpbmVzJykucmVtb3ZlKCk7XHJcbiAgICAgICAgY2hhcnQuc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdncmlkTGluZXMnKTtcclxuICAgICAgICB2YXIgc2NhbGVEYXRhO1xyXG5cclxuICAgICAgICAvL0RldGVybWluZSBpZiBncmlkbGluZXMgYXJlIGhvcml6b250YWwgb3IgdmVydGljYWwgYmFzZWQgb24gcm90YXRlQXhpc1xyXG4gICAgICAgIGlmIChjaGFydC5vcHRpb25zLnJvdGF0ZUF4aXMgPT09IHRydWUgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdnYW50dCcgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdzaW5nbGVheGlzJykge1xyXG4gICAgICAgICAgICB2YXIgZ3JpZExpbmVIZWlnaHQgPSBjaGFydC5jb25maWcuY29udGFpbmVyLmhlaWdodDtcclxuICAgICAgICAgICAgdmFyIHhBeGlzU2NhbGUgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCBheGlzRGF0YSwgY2hhcnQuY29uZmlnLmNvbnRhaW5lcik7XHJcblxyXG4gICAgICAgICAgICBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgICAgICAgICBzY2FsZURhdGEgPSBheGlzRGF0YS52YWx1ZXM7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInIHx8IGF4aXNEYXRhLmRhdGFUeXBlID09PSAnREFURScpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlRGF0YSA9IHhBeGlzU2NhbGUudGlja3MoMTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoYXJ0LnN2Zy5zZWxlY3QoJy5ncmlkTGluZXMnKS5zZWxlY3RBbGwoJy5ob3Jpem9udGFsR3JpZCcpLmRhdGEoc2NhbGVEYXRhKS5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdob3Jpem9udGFsR3JpZCcpXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneDEnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geEF4aXNTY2FsZShkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhBeGlzU2NhbGUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdyaWRMaW5lSGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzaGFwZS1yZW5kZXJpbmcnLCAnY3Jpc3BFZGdlcycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnYmxhY2snO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyNlNmU2ZTYnO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAnMXB4Jyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGdyaWRMaW5lV2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoO1xyXG4gICAgICAgICAgICB2YXIgeUF4aXNTY2FsZSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneScsIGF4aXNEYXRhLCBjaGFydC5jb25maWcuY29udGFpbmVyKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChheGlzRGF0YS5kYXRhVHlwZSA9PT0gJ1NUUklORycpIHtcclxuICAgICAgICAgICAgICAgIHNjYWxlRGF0YSA9IGF4aXNEYXRhLnZhbHVlcztcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChheGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicgfHwgYXhpc0RhdGEuZGF0YVR5cGUgPT09ICdEQVRFJykge1xyXG4gICAgICAgICAgICAgICAgc2NhbGVEYXRhID0geUF4aXNTY2FsZS50aWNrcygxMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hhcnQuc3ZnLnNlbGVjdCgnLmdyaWRMaW5lcycpLnNlbGVjdEFsbCgnLmhvcml6b250YWxHcmlkJykuZGF0YShzY2FsZURhdGEpLmVudGVyKClcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2hvcml6b250YWxHcmlkJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIDApXHJcbiAgICAgICAgICAgICAgICAuYXR0cigneDInLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ3JpZExpbmVXaWR0aDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlBeGlzU2NhbGUoZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB5QXhpc1NjYWxlKGQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzaGFwZS1yZW5kZXJpbmcnLCAnY3Jpc3BFZGdlcycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgJyNlNmU2ZTYnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsICcxcHgnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqZ2V0QmFyRGF0YUZyb21PcHRpb25zXHJcbiAgICAqIF5eIG5vdCBqdXN0IGEgYmFyIGZ1bmN0aW9uLCBsaW5lIGFuZCBhcmVhIGFsc28gdXNlIGl0XHJcbiAgICAqXHJcbiAgICAqIEFzc2lnbnMgdGhlIGNvcnJlY3QgY2hhcnQgZGF0YSB0byBjdXJyZW50IGRhdGEgdXNpbmcgdGhlIGNoYXJ0Lm9wdGlvbnNcclxuICAgICovXHJcbiAgICBnZXRCYXJEYXRhRnJvbU9wdGlvbnMoKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgICAgICAvL2NyZWF0aW5nIHRoZXNlIHR3byBkYXRhIHZhcmlhYmxlcyB0byBhdm9pZCBoYXZpbmcgdG8gcmVmZXJlbmNlIHRoZSBjaGFydCBvYmVqY3QgZXZlcnl0aW1lXHJcbiAgICAgICAgdmFyIGZsaXBwZWQgPSBjaGFydC5mbGlwcGVkRGF0YTtcclxuICAgICAgICB2YXIgZGF0YSA9IGNoYXJ0LmRhdGE7XHJcblxyXG4gICAgICAgIHZhciBkYXRhT2JqID0ge307XHJcbiAgICAgICAgaWYgKGNoYXJ0Lm9wdGlvbnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgICAgICBkYXRhT2JqLmNoYXJ0RGF0YSA9IGZsaXBwZWQuY2hhcnREYXRhO1xyXG4gICAgICAgICAgICBkYXRhT2JqLmxlZ2VuZERhdGEgPSBmbGlwcGVkLmxlZ2VuZERhdGE7XHJcbiAgICAgICAgICAgIGRhdGFPYmouZGF0YVRhYmxlID0gZmxpcHBlZC5kYXRhVGFibGU7XHJcbiAgICAgICAgICAgIGNoYXJ0Lm9wdGlvbnMuY29sb3IgPSBmbGlwcGVkLmNvbG9yO1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy5yb3RhdGVBeGlzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnhBeGlzRGF0YSA9IGZsaXBwZWQueUF4aXNEYXRhO1xyXG4gICAgICAgICAgICAgICAgZGF0YU9iai55QXhpc0RhdGEgPSBmbGlwcGVkLnhBeGlzRGF0YTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGRhdGFPYmoueEF4aXNEYXRhID0gZmxpcHBlZC54QXhpc0RhdGE7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnlBeGlzRGF0YSA9IGZsaXBwZWQueUF4aXNEYXRhO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZGF0YU9iai5jaGFydERhdGEgPSBkYXRhLmNoYXJ0RGF0YTtcclxuICAgICAgICAgICAgZGF0YU9iai5sZWdlbmREYXRhID0gZGF0YS5sZWdlbmREYXRhO1xyXG4gICAgICAgICAgICBkYXRhT2JqLmRhdGFUYWJsZSA9IGRhdGEuZGF0YVRhYmxlO1xyXG4gICAgICAgICAgICBjaGFydC5vcHRpb25zLmNvbG9yID0gZGF0YS5jb2xvcjtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0Lm9wdGlvbnMucm90YXRlQXhpcyA9PT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgZGF0YU9iai54QXhpc0RhdGEgPSBkYXRhLnlBeGlzRGF0YTtcclxuICAgICAgICAgICAgICAgIGRhdGFPYmoueUF4aXNEYXRhID0gZGF0YS54QXhpc0RhdGE7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBkYXRhT2JqLnhBeGlzRGF0YSA9IGRhdGEueEF4aXNEYXRhO1xyXG4gICAgICAgICAgICAgICAgZGF0YU9iai55QXhpc0RhdGEgPSBkYXRhLnlBeGlzRGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGRhdGFPYmo7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBVdGlsaXR5IGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4gICAgLyoqaGlnaGxpZ2h0SXRlbXNcclxuICAgICAqXHJcbiAgICAgKiBoaWdobGlnaHRzIGl0ZW1zIG9uIHRoZSBzdmcgZWxlbWVudFxyXG4gICAgICogQHBhcmFtcyBpdGVtcywgc3ZnXHJcbiAgICAgKiBAcmV0dXJucyB7e319XHJcbiAgICAgKi9cclxuICAgIGhpZ2hsaWdodEl0ZW0oaXRlbXMsIHRhZywgaGlnaGxpZ2h0SW5kZXgsIGhpZ2hsaWdodFVyaSkge1xyXG4gICAgICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZztcclxuXHJcbiAgICAgICAgLy9UT0RPIHJlbW92ZSBpZiBzdGF0ZW1lbnRzXHJcbiAgICAgICAgaWYgKGhpZ2hsaWdodEluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAncGllJykge1xyXG4gICAgICAgICAgICAgICAgLy9zZXQgYWxsIGNpcmNsZXMgc3Ryb2tlIHdpZHRoIHRvIDBcclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5waWUtY29udGFpbmVyJykuc2VsZWN0QWxsKHRhZylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgJyNGRkZGRkYnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAxKTtcclxuICAgICAgICAgICAgICAgIC8vaGlnaGxpZ2h0IG5lY2Vzc2FyeSBwaWUgc2xpY2VzXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcucGllLWNvbnRhaW5lcicpXHJcbiAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbCh0YWcpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcignLmhpZ2hsaWdodC1jbGFzcy0nICsgaGlnaGxpZ2h0SW5kZXgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDIuMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2NhdHRlcnBsb3QnKSB7XHJcbiAgICAgICAgICAgICAgICAvL3NldCBhbGwgY2lyY2xlcyBzdHJva2Ugd2lkdGggdG8gMFxyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdCgnLnNjYXR0ZXItY29udGFpbmVyJykuc2VsZWN0QWxsKHRhZylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgMCk7XHJcbiAgICAgICAgICAgICAgICAvL2hpZ2hsaWdodCBuZWNlc3Nhcnkgc2NhdHRlciBkb3RzXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcuc2NhdHRlci1jb250YWluZXInKS5zZWxlY3RBbGwodGFnKS5maWx0ZXIoJy5zY2F0dGVyLWNpcmNsZS0nICsgaGlnaGxpZ2h0SW5kZXgpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDIuMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKGhpZ2hsaWdodFVyaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdiYXInKSB7XHJcbiAgICAgICAgICAgICAgICAvL3NldCBhbGwgYmFycyBzdHJva2Ugd2lkdGggdG8gMFxyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdCgnLmJhci1jb250YWluZXInKS5zZWxlY3RBbGwodGFnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICAgICAgICAgIC8vaGlnaGxpZ2h0IG5lY2Vzc2FyeSBiYXJzXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcuYmFyLWNvbnRhaW5lcicpLnNlbGVjdEFsbCgnLmhpZ2hsaWdodC1jbGFzcy0nICsgaGlnaGxpZ2h0VXJpKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAyLjApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2xpbmUnIHx8IGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYXJlYScpIHtcclxuICAgICAgICAgICAgICAgIC8vc2V0IGFsbCBjaXJjbGVzIHN0cm9rZSB3aWR0aCB0byAwXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcubGluZS1jb250YWluZXInKS5zZWxlY3RBbGwodGFnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICAgICAgICAgIC8vaGlnaGxpZ2h0IG5lY2Vzc2FyeSBjaXJsY2VzXHJcbiAgICAgICAgICAgICAgICBzdmcuc2VsZWN0KCcubGluZS1jb250YWluZXInKS5zZWxlY3RBbGwodGFnKS5maWx0ZXIoJy5oaWdobGlnaHQtY2xhc3MtJyArIGhpZ2hsaWdodFVyaSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgMi4wKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCduZWVkIHRvIHBhc3MgaGlnaGxpZ2h0IGluZGV4IHRvIGhpZ2hsaWdodCBpdGVtJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgKkBkZXNjIFJlbW92ZXMgaGlnaGxpZ2h0cyB0aGF0IHdlcmUgYXBwbGllZCB3aXRoIHJlbGF0ZWQgaW5zaWdodHNcclxuICAgICpcclxuICAgICovXHJcbiAgICByZW1vdmVIaWdobGlnaHQoKSB7XHJcbiAgICAgICAgdmFyIGNoYXJ0ID0gdGhpcztcclxuICAgICAgICB2YXIgc3ZnID0gY2hhcnQuc3ZnO1xyXG4gICAgICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ3BpZScpIHtcclxuICAgICAgICAgICAgLy9zZXQgYWxsIGNpcmNsZXMgc3Ryb2tlIHdpZHRoIHRvIDBcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdCgnLnBpZS1jb250YWluZXInKS5zZWxlY3RBbGwoJ3BhdGgnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZScsICcjRkZGRkZGJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnc2NhdHRlcnBsb3QnKSB7XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3QoJy5zY2F0dGVyLWNvbnRhaW5lcicpLnNlbGVjdEFsbCgnY2lyY2xlJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnYmFyJykge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0KCcuYmFyLWNvbnRhaW5lcicpLnNlbGVjdEFsbCgncmVjdCcpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgMClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnbGluZScgfHwgY2hhcnQuY29uZmlnLnR5cGUgPT09ICdhcmVhJykge1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0KCcubGluZS1jb250YWluZXInKS5zZWxlY3RBbGwoJ2NpcmNsZScpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgMClcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAwKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuZnVuY3Rpb24ganZGb3JtYXRWYWx1ZSh2YWwsIGZvcm1hdFR5cGUpIHtcclxuICAgIGlmICghaXNOYU4odmFsKSkge1xyXG4gICAgICAgIHZhciBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoJy4wZicpO1xyXG5cclxuICAgICAgICBpZiAoZm9ybWF0VHlwZSA9PT0gJ2JpbGxpb25zJykge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0TnVtYmVyKHZhbCAvIDFlOSkgKyAnQic7XHJcbiAgICAgICAgfSBlbHNlIGlmIChmb3JtYXRUeXBlID09PSAnbWlsbGlvbnMnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsIC8gMWU2KSArICdNJztcclxuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdFR5cGUgPT09ICd0aG91c2FuZHMnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsIC8gMWUzKSArICdLJztcclxuICAgICAgICB9IGVsc2UgaWYgKGZvcm1hdFR5cGUgPT09ICdkZWNpbWFscycpIHtcclxuICAgICAgICAgICAgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KCcuMmYnKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZm9ybWF0VHlwZSA9PT0gJ25vZGVjaW1hbHMnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh2YWwgPT09IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoTWF0aC5hYnModmFsKSA+PSAxMDAwMDAwMDAwKSB7XHJcbiAgICAgICAgICAgIC8vQmlsbGlvbnNcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwgLyAxZTkpICsgJ0InO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnModmFsKSA+PSAxMDAwMDAwKSB7XHJcbiAgICAgICAgICAgIC8vTWlsbGlvbnNcclxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdE51bWJlcih2YWwgLyAxZTYpICsgJ00nO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnModmFsKSA+PSAxMDAwKSB7XHJcbiAgICAgICAgICAgIC8vVGhvdXNhbmRzXHJcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsIC8gMWUzKSArICdLJztcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKHZhbCkgPD0gMTApIHtcclxuICAgICAgICAgICAgLy8yIGRlY2ltYWxzXHJcbiAgICAgICAgICAgIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdCgnLjJmJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0gdGhlIHNldCBvZiB2YWx1ZXMgdGhhdCB5b3Ugd2FudCB0byBmb3JtYXQgdW5pZm9ybWx5XHJcbiAqIEByZXR1cm4gJycgdGhlIGxldmVsIG9mIGZvcm1hdHRpbmcgZm9yIHRoZSBncm91cCBvZiBkYXRhXHJcbiAqIFByb2JsZW0gd2l0aCBqdkZvcm1hdFZhbHVlIGZ1bmN0aW9uIGlzIHRoYXQgaWYgeW91IHBhc3MgaW4gdmFsdWVzIDEwLCAyMC4uLiA5MCwgMTAwLCAxMTIwLCAxMjBcclxuICogeW91IHdpbGwgZ2V0IHRoZSBmb3JtYXRzIDEwLjAwLCAyMC4wMCAuLi4uIDEwMCwgMTEwLCAxMjAgd2hlbiB5b3Ugd2FudCAxMCwgMjAsIC4uLiAxMDAsIDExMFxyXG4gKiAtLUZvcm1hdCB0aGUgdmFsdWUgYmFzZWQgb2ZmIG9mIHRoZSBoaWdoZXN0IG51bWJlciBpbiB0aGUgZ3JvdXBcclxuICovXHJcbmZ1bmN0aW9uIGp2Rm9ybWF0VmFsdWVUeXBlKHZhbHVlcykge1xyXG4gICAgaWYgKHZhbHVlcyAhPSBudWxsKSB7XHJcbiAgICAgICAgdmFyIG1heCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHZhbHVlcyk7XHJcbiAgICAgICAgLy9BZnRlciBnZXR0aW5nIHRoZSBtYXgsIGNoZWNrIHRoZSBtaW5cclxuICAgICAgICB2YXIgbWluID0gTWF0aC5taW4uYXBwbHkobnVsbCwgdmFsdWVzKTtcclxuICAgICAgICB2YXIgcmFuZ2UgPSBtYXggLSBtaW47XHJcbiAgICAgICAgdmFyIGluY3JlbWVtbnQgPSBNYXRoLmFicyhNYXRoLnJvdW5kKHJhbmdlIC8gMTApKTsvLzEwIGJlaW5nIHRoZSBudW1iZXIgb2YgYXhpcyBsYWJlbHMgdG8gc2hvd1xyXG5cclxuICAgICAgICBpZiAoTWF0aC5hYnMoaW5jcmVtZW1udCkgPj0gMTAwMDAwMDAwMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2JpbGxpb25zJztcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGluY3JlbWVtbnQpID49IDEwMDAwMDApIHtcclxuICAgICAgICAgICAgcmV0dXJuICdtaWxsaW9ucyc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChNYXRoLmFicyhpbmNyZW1lbW50KSA+PSAxMDAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAndGhvdXNhbmRzJztcclxuICAgICAgICB9IGVsc2UgaWYgKE1hdGguYWJzKGluY3JlbWVtbnQpIDw9IDEwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnZGVjaW1hbHMnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoTWF0aC5hYnMoaW5jcmVtZW1udCkgPj0gMTApIHtcclxuICAgICAgICAgICAgcmV0dXJuICdub2RlY2ltYWxzJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJyc7XHJcbn1cclxuXHJcbi8qKmdldEZvcm1hdEV4cHJlc3Npb25cclxuICpcclxuICogQGRlc2MgcmV0dXJucyB0aGUgZDMgZm9ybWF0IGV4cHJlc3Npb24gZm9yIGEgZ2l2ZW4gb3B0aW9uXHJcbiAqIEBwYXJhbXMgb3B0aW9uXHJcbiAqIEByZXR1cm5zIHN0cmluZyBleHByZXNzaW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRGb3JtYXRFeHByZXNzaW9uKG9wdGlvbikge1xyXG4gICAgdmFyIGV4cHJlc3Npb24gPSAnJyxcclxuICAgICAgICBwO1xyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ2N1cnJlbmN5Jykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoJyQsJyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSAnZml4ZWRDdXJyZW5jeScpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KCcoJC4yZicpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ3BlcmNlbnQnKSB7XHJcbiAgICAgICAgcCA9IE1hdGgubWF4KDAsIGQzLnByZWNpc2lvbkZpeGVkKDAuMDUpIC0gMik7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdCgnLicgKyBwICsgJyUnKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb24gPT09ICdtaWxsaW9ucycpIHtcclxuICAgICAgICBwID0gZDMucHJlY2lzaW9uUHJlZml4KDFlNSwgMS4zZTYpO1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXRQcmVmaXgoJy4nICsgcCwgMS4zZTYpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ2NvbW1hcycpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KCcsLjBmJyk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSAnbm9uZScgfHwgb3B0aW9uID09PSAnJykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoJycpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gJ2Rpc3BsYXlWYWx1ZXMnKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdCgnLC4yZicpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBleHByZXNzaW9uO1xyXG59XHJcblxyXG4vKipnZXRUb2dnbGVkRGF0YVxyXG4gKlxyXG4gKiBHZXRzIHRoZSBoZWFkZXJzIG9mIHRoZSBkYXRhIHRvIGJlIGRyYXduIGFuZCBmaWx0ZXJzIHRoZSBkYXRhIGJhc2VkIG9uIHRoYXRcclxuICogQHBhcmFtcyBjaGFydERhdGEsIGRhdGFIZWFkZXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRUb2dnbGVkRGF0YShjaGFydERhdGEsIGRhdGFIZWFkZXJzKSB7XHJcbiAgICB2YXIgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBjaGFydERhdGEubGVnZW5kRGF0YSk7XHJcbiAgICB2YXIgZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2hhcnREYXRhLmNoYXJ0RGF0YSkpO1xyXG4gICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSkge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGRhdGFbal1bbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLmVsZW1lbnRdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbi8qKmdldExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVxyXG4gKlxyXG4gKiBHZXRzIGFuIGFycmF5IG9mIGxlZ2VuZCBlbGVtZW50cyB3aXRoIHRydWUvZmFsc2UgdGFncyBmb3IgaWYgdG9nZ2xlZFxyXG4gKiBAcGFyYW1zIHNlbGVjdGVkSGVhZGVycywgYWxsSGVhZGVyc1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KHNlbGVjdGVkSGVhZGVycywgYWxsSGVhZGVycykge1xyXG4gICAgdmFyIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxIZWFkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5LnB1c2goeyBlbGVtZW50OiBhbGxIZWFkZXJzW2ldIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzZWxlY3RlZEhlYWRlcnMubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS5lbGVtZW50ID09PSBzZWxlY3RlZEhlYWRlcnNbal0pIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgIT09IHRydWUpIHtcclxuICAgICAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXk7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlTGVnZW5kRWxlbWVudHNcclxuICpcclxuICogQ3JlYXRlcyB0aGUgbGVnZW5kIGVsZW1lbnRzLS1yZWN0YW5nbGVzIGFuZCBsYWJlbHNcclxuICogQHBhcmFtcyBjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmNcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKSB7XHJcbiAgICB2YXIgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgb3B0aW9ucyA9IGNoYXJ0Lm9wdGlvbnMsXHJcbiAgICAgICAgbGVnZW5kLFxyXG4gICAgICAgIGxlZ2VuZFJvdyA9IDAsXHJcbiAgICAgICAgbGVnZW5kQ29sdW1uID0gMCxcclxuICAgICAgICBsZWdlbmREYXRhTGVuZ3RoID0gbGVnZW5kRGF0YS5sZW5ndGg7XHJcblxyXG4gICAgb3B0aW9ucy5sZWdlbmRNYXggPSA5O1xyXG4gICAgb3B0aW9ucy5ncmlkU2l6ZSA9IDEyO1xyXG5cclxuICAgIGlmICghb3B0aW9ucy5sZWdlbmRJbmRleCkge1xyXG4gICAgICAgIG9wdGlvbnMubGVnZW5kSW5kZXggPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy5sZWdlbmRJbmRleE1heCkge1xyXG4gICAgICAgIG9wdGlvbnMubGVnZW5kSW5kZXhNYXggPSBNYXRoLmZsb29yKGxlZ2VuZERhdGFMZW5ndGggLyBvcHRpb25zLmxlZ2VuZE1heCAtIDAuMDEpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vaWYgbGVnZW5kIGhlYWRlcnMgZG9uJ3QgZXhpc3QsIHNldCB0aGVtIGVxdWFsIHRvIGxlZ2VuZCBkYXRhXHJcbiAgICBpZiAoIW9wdGlvbnMubGVnZW5kSGVhZGVycyAmJiAhb3B0aW9ucy5zZXJpZXNGbGlwcGVkKSB7XHJcbiAgICAgICAgb3B0aW9ucy5sZWdlbmRIZWFkZXJzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsZWdlbmREYXRhKSk7XHJcbiAgICB9IGVsc2UgaWYgKCFvcHRpb25zLmZsaXBwZWRMZWdlbmRIZWFkZXJzICYmIG9wdGlvbnMuc2VyaWVzRmxpcHBlZCkge1xyXG4gICAgICAgIG9wdGlvbnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGxlZ2VuZERhdGEpKTtcclxuICAgIH1cclxuICAgIC8vU2V0IGxlZ2VuZCBlbGVtZW50IHRvZ2dsZSBhcnJheSBiYXNlZCBvbiBpZiBzZXJpZXMgaXMgZmxpcHBlZFxyXG4gICAgaWYgKCFvcHRpb25zLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICB2YXIgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KG9wdGlvbnMubGVnZW5kSGVhZGVycywgbGVnZW5kRGF0YSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBmbGlwcGVkTGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0gZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KG9wdGlvbnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMsIGxlZ2VuZERhdGEpO1xyXG4gICAgfVxyXG5cclxuICAgIGxlZ2VuZCA9IHN2Zy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmQnKTtcclxuXHJcbiAgICAvL0FkZGluZyBjb2xvcmVkIHJlY3RhbmdsZXMgdG8gdGhlIGxlZ2VuZFxyXG4gICAgdmFyIGxlZ2VuZFJlY3RhbmdsZXMgPSBsZWdlbmQuc2VsZWN0QWxsKCdyZWN0JylcclxuICAgICAgICAuZGF0YShsZWdlbmREYXRhKVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZCgncmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZFJlY3QnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgJSAob3B0aW9ucy5sZWdlbmRNYXggLyAzKSA9PT0gMCAmJiBpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kQ29sdW1uID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbGVnZW5kUG9zID0gMjAwICogbGVnZW5kQ29sdW1uO1xyXG4gICAgICAgICAgICBsZWdlbmRDb2x1bW4rKztcclxuICAgICAgICAgICAgcmV0dXJuIGxlZ2VuZFBvcztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgJSAob3B0aW9ucy5sZWdlbmRNYXggLyAzKSA9PT0gMCAmJiBpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kUm93Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGkgJSBvcHRpb25zLmxlZ2VuZE1heCA9PT0gMCAmJiBpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kUm93ID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gKGNvbnRhaW5lci5oZWlnaHQgKyAxMCkgKyAoMTUgKiAobGVnZW5kUm93ICsgMSkpIC0gNTsgLy9JbmNyZW1lbnQgcm93IHdoZW4gY29sdW1uIGxpbWl0IGlzIHJlYWNoZWRcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIG9wdGlvbnMuZ3JpZFNpemUpXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIG9wdGlvbnMuZ3JpZFNpemUpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZ2V0Q29sb3JzKG9wdGlvbnMuY29sb3IsIGksIGxlZ2VuZERhdGFbaV0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2Rpc3BsYXknLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoaSA+PSAob3B0aW9ucy5sZWdlbmRJbmRleCAqIG9wdGlvbnMubGVnZW5kTWF4KSAmJiBpIDw9ICgob3B0aW9ucy5sZWdlbmRJbmRleCAqIG9wdGlvbnMubGVnZW5kTWF4KSArIChvcHRpb25zLmxlZ2VuZE1heCAtIDEpKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICdhbGwnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignb3BhY2l0eScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmICgoIWxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSAmJiAhY2hhcnQub3B0aW9ucy5zZXJpZXNGbGlwcGVkKSB8fCAoY2hhcnQub3B0aW9ucy5zZXJpZXNGbGlwcGVkICYmICFmbGlwcGVkTGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcxJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKCFjaGFydC5vcHRpb25zLnNlcmllc0ZsaXBwZWQgJiYgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gdHJ1ZSkgfHxcclxuICAgICAgICAgICAgICAgIChjaGFydC5vcHRpb25zLnNlcmllc0ZsaXBwZWQgJiYgZmxpcHBlZExlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS50b2dnbGUgPT09IHRydWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJzEnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAnMC4yJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBsZWdlbmRSb3cgPSAwO1xyXG4gICAgbGVnZW5kQ29sdW1uID0gMDtcclxuXHJcbiAgICAvL0FkZGluZyB0ZXh0IGxhYmVscyBmb3IgZWFjaCByZWN0YW5nbGUgaW4gbGVnZW5kXHJcbiAgICB2YXIgbGVnZW5kVGV4dCA9IGxlZ2VuZC5zZWxlY3RBbGwoJ3RleHQnKVxyXG4gICAgICAgIC5kYXRhKGxlZ2VuZERhdGEpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ2xlZ2VuZFRleHQgZWRpdGFibGUgZWRpdGFibGUtdGV4dCBlZGl0YWJsZS1jb250ZW50IGVkaXRhYmxlLWxlZ2VuZC0nICsgaTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgJSAob3B0aW9ucy5sZWdlbmRNYXggLyAzKSA9PT0gMCAmJiBpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kQ29sdW1uID0gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgbGVnZW5kUG9zID0gMjAwICogbGVnZW5kQ29sdW1uO1xyXG4gICAgICAgICAgICBsZWdlbmRDb2x1bW4rKztcclxuICAgICAgICAgICAgcmV0dXJuIGxlZ2VuZFBvcyArIDE3O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoaSAlIChvcHRpb25zLmxlZ2VuZE1heCAvIDMpID09PSAwICYmIGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRSb3crKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaSAlIG9wdGlvbnMubGVnZW5kTWF4ID09PSAwICYmIGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRSb3cgPSAwO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAoY29udGFpbmVyLmhlaWdodCArIDEwKSArICgxNSAqIChsZWdlbmRSb3cgKyAxKSk7IC8vSW5jcmVtZW50IHJvdyB3aGVuIGNvbHVtbiBsaW1pdCBpcyByZWFjaGVkXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnc3RhcnQnKVxyXG4gICAgICAgIC5hdHRyKCdkeScsICcwLjM1ZW0nKSAvL1ZlcnRpY2FsbHkgYWxpZ24gd2l0aCBub2RlXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKVxyXG4gICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5vcHRpb25zLmZvbnRTaXplKVxyXG4gICAgICAgIC5hdHRyKCdkaXNwbGF5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgPj0gKG9wdGlvbnMubGVnZW5kSW5kZXggKiBvcHRpb25zLmxlZ2VuZE1heCkgJiYgaSA8PSAoKG9wdGlvbnMubGVnZW5kSW5kZXggKiBvcHRpb25zLmxlZ2VuZE1heCkgKyAob3B0aW9ucy5sZWdlbmRNYXggLSAxKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGVsZW1lbnROYW1lID0gbGVnZW5kRGF0YVtpXTtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmNvbmZpZy50eXBlID09PSAnZ2FudHQnKSB7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50TmFtZSA9IGxlZ2VuZERhdGFbaV0uc2xpY2UoMCwgLTUpOy8vUmVtb3ZpbmcgbGFzdCA1IGNoYXJhY3RlcnMgb2YgbGVnZW5kIGxhYmVsLS0taS5lIHBsYW5uZWRTVEFSVCAtPiBwbGFubmVkXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVsZW1lbnROYW1lLmxlbmd0aCA+IDIwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlbWVudE5hbWUuc3Vic3RyaW5nKDAsIDE5KSArICcuLi4nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50TmFtZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0FkZGluZyBpbmZvIGJveCB0byBsZWdlbmQgZWxlbWVudHMgd2hlbiBob3ZlcmluZyBvdmVyXHJcbiAgICBsZWdlbmRUZXh0XHJcbiAgICAgICAgLmRhdGEobGVnZW5kRGF0YSlcclxuICAgICAgICAuYXBwZW5kKCdzdmc6dGl0bGUnKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vT25seSBjcmVhdGUgY2Fyb3VzZWwgaWYgdGhlIG51bWJlciBvZiBlbGVtZW50cyBleGNlZWRzIG9uZSBsZWdlbmQgXCJwYWdlXCJcclxuICAgIGlmIChvcHRpb25zLmxlZ2VuZEluZGV4TWF4ID4gMCkge1xyXG4gICAgICAgIGNyZWF0ZUNhcm91c2VsKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYyk7XHJcbiAgICB9XHJcbiAgICAvL0NlbnRlcnMgdGhlIGxlZ2VuZCBpbiB0aGUgcGFuZWxcclxuICAgIGlmIChsZWdlbmQpIHtcclxuICAgICAgICB2YXIgbGVnZW5kV2lkdGggPSBsZWdlbmQubm9kZSgpLmdldEJCb3goKS53aWR0aDtcclxuICAgICAgICBsZWdlbmQuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKChjb250YWluZXIud2lkdGggLSBsZWdlbmRXaWR0aCkgLyAyKSArICcsIDMwKScpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBsZWdlbmRSZWN0YW5nbGVzO1xyXG59XHJcblxyXG4vKip1cGRhdGVEYXRhRnJvbUxlZ2VuZFxyXG4gKlxyXG4gKiBSZXR1cm5zIGEgbGlzdCBvZiBkYXRhIGhlYWRlcnMgdGhhdCBzaG91bGQgYmUgZGlzcGxheWVkIGluIHZpelxyXG4gKiBiYXNlZCBvZmYgd2hhdCBpcyB0b2dnbGVkIG9uL29mZiBpbiBsZWdlbmRcclxuICogQHBhcmFtcyBsZWdlbmREYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiB1cGRhdGVEYXRhRnJvbUxlZ2VuZChsZWdlbmREYXRhKSB7XHJcbiAgICB2YXIgZGF0YSA9IFtdO1xyXG4gICAgdmFyIGxlZ2VuZEVsZW1lbnQgPSBsZWdlbmREYXRhWzBdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGxlZ2VuZEVsZW1lbnRbaV0uYXR0cmlidXRlcy5vcGFjaXR5LnZhbHVlICE9PSAnMC4yJykge1xyXG4gICAgICAgICAgICAvL0lmIG5vdCB3aGl0ZSwgYWRkIGl0IHRvIHRoZSB1cGRhdGVkIGRhdGEgYXJyYXlcclxuICAgICAgICAgICAgZGF0YS5wdXNoKGxlZ2VuZEVsZW1lbnRbaV0uX19kYXRhX18pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG4vKipjcmVhdGVDYXJvdXNlbFxyXG4gKlxyXG4gKiBEcmF3cyB0aGUgaG9yaXpvbnRhbCBsZWdlbmQgY2Fyb3VzZWxcclxuICogQHBhcmFtcyBjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmNcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcm91c2VsKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYykge1xyXG4gICAgdmFyIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIG9wdGlvbnMgPSBjaGFydC5vcHRpb25zLFxyXG4gICAgICAgIGxlZ2VuZFBvbHlnb247XHJcblxyXG4gICAgLy9BZGRpbmcgY2Fyb3VzZWwgdG8gbGVnZW5kXHJcbiAgICBzdmcuc2VsZWN0QWxsKCcubGVnZW5kLWNhcm91c2VsJykucmVtb3ZlKCk7XHJcbiAgICBzdmcuc2VsZWN0QWxsKCcjbGVnZW5kLXRleHQtaW5kZXgnKS5yZW1vdmUoKTtcclxuXHJcbiAgICBsZWdlbmRQb2x5Z29uID0gc3ZnLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xlZ2VuZC1jYXJvdXNlbCcpO1xyXG5cclxuICAgIC8vQ3JlYXRlcyBsZWZ0IG5hdmlnYXRpb24gYXJyb3cgZm9yIGNhcm91c2VsXHJcbiAgICBsZWdlbmRQb2x5Z29uLmFwcGVuZCgncG9seWdvbicpXHJcbiAgICAgICAgLmF0dHIoJ2lkJywgJ2xlZnRDaGV2cm9uJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncG9pbnRlci1jdXJzb3InKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsICcjYzJjMmQ2JylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLDApJylcclxuICAgICAgICAuYXR0cigncG9pbnRzJywgJzAsNy41LCAxNSwwLCAxNSwxNScpXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGVnZW5kSW5kZXggPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5sZWdlbmRJbmRleC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVMZWdlbmRFbGVtZW50cyhjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpO1xyXG4gICAgICAgICAgICBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kKGNoYXJ0LCBsZWdlbmRFbGVtZW50cywgZHJhd0Z1bmMsIGxlZ2VuZERhdGEpO1xyXG4gICAgICAgICAgICBjaGFydC5sb2NhbENhbGxiYWNrQXBwbHlFZGl0cygpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoe1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5sZWdlbmRJbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0NyZWF0ZXMgcGFnZSBudW1iZXIgZm9yIGNhcm91c2VsIG5hdmlnYXRpb25cclxuICAgIGxlZ2VuZFBvbHlnb24uYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignaWQnLCAnbGVnZW5kLXRleHQtaW5kZXgnKVxyXG4gICAgICAgIC5hdHRyKCd4JywgMzUpXHJcbiAgICAgICAgLmF0dHIoJ3knLCAxMi41KVxyXG4gICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnc3RhcnQnKVxyXG4gICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgY2hhcnQub3B0aW9ucy5mb250U2l6ZSlcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmxlZ2VuZEluZGV4ICsgJyAvICcgKyBvcHRpb25zLmxlZ2VuZEluZGV4TWF4O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoe1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5sZWdlbmRJbmRleE1heCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0NyZWF0ZXMgcmlnaHQgbmF2aWdhdGlvbiBhcnJvdyBmb3IgY2Fyb3VzZWxcclxuICAgIGxlZ2VuZFBvbHlnb24uYXBwZW5kKCdwb2x5Z29uJylcclxuICAgICAgICAuYXR0cignaWQnLCAncmlnaHRDaGV2cm9uJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncG9pbnRlci1jdXJzb3InKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsICcjYzJjMmQ2JylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg4NSwwKScpXHJcbiAgICAgICAgLmF0dHIoJ3BvaW50cycsICcxNSw3LjUsIDAsMCwgMCwxNScpXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGVnZW5kSW5kZXggPCBvcHRpb25zLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgICAgICAgICBvcHRpb25zLmxlZ2VuZEluZGV4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnLmxlZ2VuZCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB2YXIgbGVnZW5kRWxlbWVudHMgPSBnZW5lcmF0ZUxlZ2VuZEVsZW1lbnRzKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYyk7XHJcbiAgICAgICAgICAgIGF0dGFjaENsaWNrRXZlbnRzVG9MZWdlbmQoY2hhcnQsIGxlZ2VuZEVsZW1lbnRzLCBkcmF3RnVuYywgbGVnZW5kRGF0YSk7XHJcbiAgICAgICAgICAgIGNoYXJ0LmxvY2FsQ2FsbGJhY2tBcHBseUVkaXRzKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmxlZ2VuZEluZGV4ID09PSBvcHRpb25zLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vQ2VudGVycyB0aGUgbGVnZW5kIHBvbHlnb25zIGluIHRoZSBwYW5lbFxyXG4gICAgaWYgKGxlZ2VuZFBvbHlnb24pIHtcclxuICAgICAgICB2YXIgbGVnZW5kUG9seWdvbldpZHRoID0gbGVnZW5kUG9seWdvbi5ub2RlKCkuZ2V0QkJveCgpLndpZHRoO1xyXG4gICAgICAgIGxlZ2VuZFBvbHlnb24uYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKChjb250YWluZXIud2lkdGggLSBsZWdlbmRQb2x5Z29uV2lkdGgpIC8gMikgKyAnLCcgKyAoY29udGFpbmVyLmhlaWdodCArIDEwNSkgKyAnKScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqZ2V0UGxvdERhdGFcclxuICpcclxuICogUmV0dXJucyBvbmx5IGRhdGEgdmFsdWVzIHRvIGJlIHBsb3R0ZWQ7IGlucHV0IGlzIHRoZSBkYXRhIG9iamVjdFxyXG4gKiBAcGFyYW1zIG9iamVjdERhdGEsIGNoYXJ0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRQbG90RGF0YShvYmplY3REYXRhLCBjaGFydCkge1xyXG4gICAgdmFyIGRhdGEgPSBbXTtcclxuICAgIHZhciBvYmpEYXRhTmV3ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShvYmplY3REYXRhKSk7Ly9Db3B5IG9mIGJhckRhdGFcclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqRGF0YU5ldy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciBncm91cCA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YS5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9iakRhdGFOZXdbaV1bY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YVtqXV0gIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBncm91cC5wdXNoKG9iakRhdGFOZXdbaV1bY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YVtqXV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGEucHVzaChncm91cCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuLyoqZ2V0UG9zQ2FsY3VsYXRpb25zXHJcbiAqSG9sZHMgdGhlIGxvZ2ljIGZvciBwb3NpdGlvbmluZyBhbGwgYmFycyBvbiBhIGJhciBjaGFydCAoZGVwZW5kcyBvbiB0b29sRGF0YSlcclxuICpcclxuICogQHBhcmFtcyBzdmcsIGJhckRhdGEsIG9wdGlvbnMsIHhBeGlzRGF0YSwgeUF4aXNEYXRhLCBjb250YWluZXJcclxuICogQHJldHVybnMge3t9fVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0UG9zQ2FsY3VsYXRpb25zKGJhckRhdGEsIG9wdGlvbnMsIHhBeGlzRGF0YSwgeUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0KSB7XHJcbiAgICB2YXIgeCA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIHhBeGlzRGF0YSwgY29udGFpbmVyLCBvcHRpb25zKSxcclxuICAgICAgICB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjb250YWluZXIsIG9wdGlvbnMpLFxyXG4gICAgICAgIHNjYWxlRmFjdG9yID0gMSxcclxuICAgICAgICBkYXRhID0gW10sXHJcbiAgICAgICAgc2l6ZSA9IE9iamVjdC5rZXlzKGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZSkubGVuZ3RoIC0gMSxcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucyA9IHt9O1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmFyRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciB2YWwgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gYmFyRGF0YVtpXSkge1xyXG4gICAgICAgICAgICBpZiAoYmFyRGF0YVtpXS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwucHVzaChiYXJEYXRhW2ldW2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRhdGEucHVzaCh2YWwuc2xpY2UoMSwgYmFyRGF0YVtpXS5sZW5ndGgpKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAob3B0aW9ucy5yb3RhdGVBeGlzID09PSB0cnVlICYmIG9wdGlvbnMuc3RhY2tUb2dnbGUgPT09IHRydWUpIHtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR5ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0d2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnRoZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB5LmJhbmR3aWR0aCgpICogMC45NTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnggPSBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICB2YXIgaW5jcmVtZW50ID0gMDsvL01vdmUgdGhlIHggdXAgYnkgdGhlIHZhbHVlcyB0aGF0IGNvbWUgYmVmb3JlIGl0XHJcbiAgICAgICAgICAgIGZvciAodmFyIGsgPSBpIC0gMTsgayA+PSAwOyBrLS0pIHtcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4oaltrXS5fX2RhdGFfXykpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbmNyZW1lbnQgKz0galtrXS5fX2RhdGFfXztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4geChpbmNyZW1lbnQpID09PSAwID8gMSA6IHgoaW5jcmVtZW50KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMud2lkdGggPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5hYnMoeCgwKSAtIHgoZCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuaGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4geS5iYW5kd2lkdGgoKSAqIDAuOTU7XHJcbiAgICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5yb3RhdGVBeGlzID09PSB0cnVlICYmIG9wdGlvbnMuc3RhY2tUb2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR4ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0eSA9IGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB5LmJhbmR3aWR0aCgpIC8gc2l6ZSAqIGk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHdpZHRoID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0aGVpZ2h0ID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh5LmJhbmR3aWR0aCgpIC8gc2l6ZSAqIDAuOTUpICogc2NhbGVGYWN0b3I7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy54ID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHgoMCkgLSB4KGQpID4gMCA/IHgoZCkgOiB4KDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueSA9IGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB5LmJhbmR3aWR0aCgpIC8gc2l6ZSAqIGk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy53aWR0aCA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh4KDApIC0geChkKSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5oZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoeS5iYW5kd2lkdGgoKSAvIHNpemUgKiAwLjk1KSAqIHNjYWxlRmFjdG9yO1xyXG4gICAgICAgIH07XHJcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMucm90YXRlQXhpcyA9PT0gZmFsc2UgJiYgb3B0aW9ucy5zdGFja1RvZ2dsZSA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0eCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuaGVpZ2h0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR3aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh4LmJhbmR3aWR0aCgpICogMC45NSkgKiBzY2FsZUZhY3RvcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0aGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueSA9IGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmNyZW1lbnQgPSAwOy8vTW92ZSB0aGUgeSB1cCBieSB0aGUgdmFsdWVzIHRoYXQgY29tZSBiZWZvcmUgaXRcclxuICAgICAgICAgICAgZm9yICh2YXIgayA9IGkgLSAxOyBrID49IDA7IGstLSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpc05hTihqW2tdLl9fZGF0YV9fKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluY3JlbWVudCArPSBqW2tdLl9fZGF0YV9fO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB5KHBhcnNlRmxvYXQoZCkgKyBpbmNyZW1lbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoeC5iYW5kd2lkdGgoKSAqIDAuOTUpICogc2NhbGVGYWN0b3I7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5oZWlnaHQgPSBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmhlaWdodCAtIHkoZCk7XHJcbiAgICAgICAgfTtcclxuICAgIH0gZWxzZSBpZiAob3B0aW9ucy5yb3RhdGVBeGlzID09PSBmYWxzZSAmJiBvcHRpb25zLnN0YWNrVG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLnN0YXJ0eCA9IGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4LmJhbmR3aWR0aCgpIC8gc2l6ZSAqIGk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy5zdGFydHkgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXIuaGVpZ2h0O1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnR3aWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh4LmJhbmR3aWR0aCgpIC8gc2l6ZSAqIDAuOTUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMuc3RhcnRoZWlnaHQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMueCA9IGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4LmJhbmR3aWR0aCgpIC8gc2l6ZSAqIGk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBwb3NpdGlvbkZ1bmN0aW9ucy55ID0gZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHkoMCkgLSB5KGQpID4gMCA/IHkoZCkgOiB5KDApO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcG9zaXRpb25GdW5jdGlvbnMud2lkdGggPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoeC5iYW5kd2lkdGgoKSAvIHNpemUgKiAwLjk1KTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHBvc2l0aW9uRnVuY3Rpb25zLmhlaWdodCA9IGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLmFicyh5KDApIC0geShkKSk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHJldHVybiBwb3NpdGlvbkZ1bmN0aW9ucztcclxufVxyXG5cclxuLyoqZ2V0Q29sb3JzXHJcbiAqXHJcbiAqIGdldHMgdGhlIGNvbG9ycyB0byBhcHBseSB0byB0aGUgc3BlY2lmaWMgY2hhcnRcclxuICogQHBhcmFtcyBjb2xvck9iaiwgaW5kZXgsIGxhYmVsXHJcbiAqIEByZXR1cm5zIHt7fX1cclxuICovXHJcbmZ1bmN0aW9uIGdldENvbG9ycyhjb2xvck9iaiwgcGFyYW1JbmRleCwgbGFiZWwpIHtcclxuICAgIHZhciBpbmRleCA9IHBhcmFtSW5kZXg7XHJcblxyXG4gICAgLy9sb2dpYyB0byByZXR1cm4gdGhlIGNvbG9yIGlmIHRoZSBjb2xvck9iaiBwYXNzZWQgaW5cclxuICAgIC8vaXMgYW4gb2JqZWN0IHdpdGggdGhlIGxhYmVsIGJlaW5nIHRoZSBrZXlcclxuICAgIGlmICh0eXBlb2YgbGFiZWwgIT09ICd1bmRlZmluZWQnICYmIGNvbG9yT2JqLmhhc093blByb3BlcnR5KGxhYmVsKSAmJiBjb2xvck9ialtsYWJlbF0pIHtcclxuICAgICAgICByZXR1cm4gY29sb3JPYmpbbGFiZWxdO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBjbGVhbmVkQ29sb3JzID0gW107XHJcblxyXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGNvbG9yT2JqKSkge1xyXG4gICAgICAgIGNsZWFuZWRDb2xvcnMgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBrIGluIGNvbG9yT2JqKSB7XHJcbiAgICAgICAgICAgIGlmIChjb2xvck9iai5oYXNPd25Qcm9wZXJ0eShrKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNvbG9yT2JqW2tdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYW5lZENvbG9ycy5wdXNoKGNvbG9yT2JqW2tdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2xlYW5lZENvbG9ycyA9IGNvbG9yT2JqO1xyXG4gICAgfVxyXG5cclxuICAgIC8vbG9naWMgdG8gcmV0dXJuIGEgcmVwZWF0aW5nIHNldCBvZiBjb2xvcnMgYXNzdW1pbmcgdGhhdFxyXG4gICAgLy90aGUgdXNlciBjaGFuZ2VkIGRhdGEgKGV4OiBmbGlwIHNlcmllcyBvbiBiYXIgY2hhcnQpXHJcbiAgICBpZiAoIWNsZWFuZWRDb2xvcnNbaW5kZXhdKSB7XHJcbiAgICAgICAgd2hpbGUgKGluZGV4ID4gY2xlYW5lZENvbG9ycy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgIGluZGV4ID0gaW5kZXggLSBjbGVhbmVkQ29sb3JzLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gY2xlYW5lZENvbG9yc1tpbmRleF07XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBnZXRBeGlzU2NhbGUod2hpY2hBeGlzLCBheGlzRGF0YSwgY29udGFpbmVyLCBwYWRkaW5nLCBvcHRpb25zKSB7XHJcbiAgICB2YXIgbGVmdFBhZGRpbmcgPSAwLjQsXHJcbiAgICAgICAgcmlnaHRQYWRkaW5nID0gMC4yO1xyXG4gICAgaWYgKHBhZGRpbmcgPT09ICduby1wYWRkaW5nJykge1xyXG4gICAgICAgIGxlZnRQYWRkaW5nID0gMDtcclxuICAgICAgICByaWdodFBhZGRpbmcgPSAwO1xyXG4gICAgfVxyXG4gICAgdmFyIGF4aXNTY2FsZSxcclxuICAgICAgICBheGlzO1xyXG5cclxuICAgIHdoaWNoQXhpcyA9PT0gJ3gnID8gYXhpcyA9IGNvbnRhaW5lci53aWR0aCA6IGF4aXMgPSBjb250YWluZXIuaGVpZ2h0O1xyXG5cclxuICAgIGlmIChheGlzRGF0YS5kYXRhVHlwZSA9PT0gJ0RBVEUnKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBheGlzRGF0YS52YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYXhpc0RhdGEudmFsdWVzW2ldID0gbmV3IERhdGUoYXhpc0RhdGEudmFsdWVzW2ldKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBtYXhEYXRlID0gTWF0aC5tYXguYXBwbHkobnVsbCwgYXhpc0RhdGEudmFsdWVzKTtcclxuICAgICAgICB2YXIgbWluRGF0ZSA9IE1hdGgubWluLmFwcGx5KG51bGwsIGF4aXNEYXRhLnZhbHVlcyk7XHJcblxyXG4gICAgICAgIGF4aXNTY2FsZSA9IGQzLnNjYWxlVGltZSgpLmRvbWFpbihbbmV3IERhdGUobWluRGF0ZSksIG5ldyBEYXRlKG1heERhdGUpXSkucmFuZ2VSb3VuZChbMCwgYXhpc10pO1xyXG4gICAgfSBlbHNlIGlmIChheGlzRGF0YS5kYXRhVHlwZSA9PT0gJ1NUUklORycpIHtcclxuICAgICAgICBheGlzU2NhbGUgPSBkMy5zY2FsZUJhbmQoKVxyXG4gICAgICAgICAgICAuZG9tYWluKGF4aXNEYXRhLnZhbHVlcylcclxuICAgICAgICAgICAgLnJhbmdlKFswLCBheGlzXSlcclxuICAgICAgICAgICAgLnBhZGRpbmdJbm5lcihsZWZ0UGFkZGluZylcclxuICAgICAgICAgICAgLnBhZGRpbmdPdXRlcihyaWdodFBhZGRpbmcpO1xyXG4gICAgfSBlbHNlIGlmIChheGlzRGF0YS5kYXRhVHlwZSA9PT0gJ05VTUJFUicpIHtcclxuICAgICAgICAvL2F4aXNTY2FsZSA9IGQzLnNjYWxlQmFuZCgpLmRvbWFpbihbbWluLCBtYXhdKS5yYW5nZVJvdW5kKFswLCBheGlzXSk7XHJcbiAgICAgICAgdmFyIGRvbWFpbjtcclxuICAgICAgICBpZiAob3B0aW9ucyAhPSBudWxsICYmIHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0JyAmJiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgneFJldmVyc2VkJykgJiYgb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgneVJldmVyc2VkJykpKSB7XHJcbiAgICAgICAgICAgIGlmICgob3B0aW9ucy54UmV2ZXJzZWQgJiYgd2hpY2hBeGlzID09PSAneCcpIHx8ICh3aGljaEF4aXMgPT09ICd5JyAmJiAhb3B0aW9ucy55UmV2ZXJzZWQpKSB7XHJcbiAgICAgICAgICAgICAgICBkb21haW4gPSBbYXhpc0RhdGEubWF4LCBheGlzRGF0YS5taW5dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgob3B0aW9ucy55UmV2ZXJzZWQgJiYgd2hpY2hBeGlzID09PSAneScpIHx8ICh3aGljaEF4aXMgPT09ICd4JyAmJiAhb3B0aW9ucy54UmV2ZXJzZWQpKSB7XHJcbiAgICAgICAgICAgICAgICBkb21haW4gPSBbYXhpc0RhdGEubWluLCBheGlzRGF0YS5tYXhdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgd2hpY2hBeGlzID09PSAneCcgPyBkb21haW4gPSBbYXhpc0RhdGEubWluLCBheGlzRGF0YS5tYXhdIDogZG9tYWluID0gW2F4aXNEYXRhLm1heCwgYXhpc0RhdGEubWluXTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghIW9wdGlvbnMgJiYgb3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnYXhpc1R5cGUnKSAmJiBvcHRpb25zLmF4aXNUeXBlID09PSAnTG9nYXJpdGhtaWMnKSB7XHJcbiAgICAgICAgICAgIGRvbWFpblsxXSA9IDAuMTtcclxuICAgICAgICAgICAgYXhpc1NjYWxlID0gZDMuc2NhbGVMb2coKS5iYXNlKDEwKS5kb21haW4oZG9tYWluKS5yYW5nZVJvdW5kKFswLCBheGlzXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXhpc1NjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oZG9tYWluKS5yYW5nZVJvdW5kKFswLCBheGlzXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdBeGlzIGlzIG5vdCBhIHZhbGlkIGRhdGEgdHlwZScpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGF4aXNTY2FsZTtcclxufVxyXG5cclxuLyoqZ2V0WFNjYWxlXHJcbiAqXHJcbiAqIGdldCB0aGUgc2NhbGUgZm9yIHRoZSB4IGF4aXNcclxuICogQHBhcmFtcyB4QXhpc0RhdGEsIGNvbnRhaW5lciwgcGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7e319XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRYU2NhbGUoeEF4aXNEYXRhLCBjb250YWluZXIsIHBhZGRpbmcpIHtcclxuICAgIHZhciB4QXhpc1NjYWxlO1xyXG4gICAgdmFyIGxlZnRQYWRkaW5nID0gMC40LFxyXG4gICAgICAgIHJpZ2h0UGFkZGluZyA9IDAuMjtcclxuICAgIGlmIChwYWRkaW5nID09PSAnbm8tcGFkZGluZycpIHtcclxuICAgICAgICBsZWZ0UGFkZGluZyA9IDA7XHJcbiAgICAgICAgcmlnaHRQYWRkaW5nID0gMDtcclxuICAgIH1cclxuXHJcbiAgICAvL2NoZWNrIGlmIHZhbHVlcyBsZW5ndGggaXMgZ3JlYXRlciB0aGFuIHR3byBpbmNhc2UgdGhlIGxhYmVscyBhcmUgYWxsIG51bWJlcnMuIGlmIGl0IGlzIGEgbGluZWFyIHNjYWxlIHRoZW4gdGhlcmUgd2lsbCBvbmx5IGJlIGEgbWluIGFuZCBtYXhcclxuICAgIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdEQVRFJykge1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgeEF4aXNEYXRhLnZhbHVlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB4QXhpc0RhdGEudmFsdWVzW2ldID0gbmV3IERhdGUoeEF4aXNEYXRhLnZhbHVlc1tpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbWF4RGF0ZSA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHhBeGlzRGF0YS52YWx1ZXMpO1xyXG4gICAgICAgIHZhciBtaW5EYXRlID0gTWF0aC5taW4uYXBwbHkobnVsbCwgeEF4aXNEYXRhLnZhbHVlcyk7XHJcblxyXG4gICAgICAgIHhBeGlzU2NhbGUgPSBkMy50aW1lLnNjYWxlKCkuZG9tYWluKFtuZXcgRGF0ZShtaW5EYXRlKSwgbmV3IERhdGUobWF4RGF0ZSldKS5yYW5nZVJvdW5kKFswLCBjb250YWluZXIud2lkdGhdKTtcclxuICAgIH0gZWxzZSBpZiAoeEF4aXNEYXRhLmRhdGFUeXBlID09PSAnU1RSSU5HJyB8fCB4QXhpc0RhdGEudmFsdWVzLmxlbmd0aCA+IDIpIHtcclxuICAgICAgICB4QXhpc1NjYWxlID0gZDMuc2NhbGVCYW5kKClcclxuICAgICAgICAgICAgLmRvbWFpbih4QXhpc0RhdGEudmFsdWVzKVxyXG4gICAgICAgICAgICAucmFuZ2UoWzAsIGNvbnRhaW5lci53aWR0aF0pXHJcbiAgICAgICAgICAgIC5wYWRkaW5nSW5uZXIobGVmdFBhZGRpbmcpXHJcbiAgICAgICAgICAgIC5wYWRkaW5nT3V0ZXIocmlnaHRQYWRkaW5nKTtcclxuICAgIH0gZWxzZSBpZiAoeEF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgIHZhciBtYXggPSB4QXhpc0RhdGEudmFsdWVzWyh4QXhpc0RhdGEudmFsdWVzLmxlbmd0aCAtIDEpXTtcclxuICAgICAgICB2YXIgbWluID0geEF4aXNEYXRhLnZhbHVlc1swXTtcclxuXHJcbiAgICAgICAgeEF4aXNTY2FsZSA9IGQzLnNjYWxlQmFuZCgpLmRvbWFpbihbbWluLCBtYXhdKS5yYW5nZVJvdW5kKFswLCBjb250YWluZXIud2lkdGhdKTtcclxuICAgIH1cclxuICAgIHJldHVybiB4QXhpc1NjYWxlO1xyXG59XHJcblxyXG4vKipnZXRZU2NhbGVcclxuICpcclxuICogZ2V0cyB0aGUgc2NhbGUgZm9yIHRoZSB5IGF4aXNcclxuICogQHBhcmFtcyB5QXhpc0RhdGEsIGNvbnRhaW5lciwgcGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7e319XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRZU2NhbGUoeUF4aXNEYXRhLCBjb250YWluZXIpIHtcclxuICAgIHZhciB5QXhpc1NjYWxlO1xyXG5cclxuICAgIGlmICh5QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnKSB7XHJcbiAgICAgICAgeUF4aXNTY2FsZSA9IGQzLnNjYWxlT3JkaW5hbCgpLmRvbWFpbih5QXhpc0RhdGEudmFsdWVzKS5yYW5nZShbMCwgY29udGFpbmVyLmhlaWdodF0pO1xyXG4gICAgfSBlbHNlIGlmICh5QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgdmFyIG1heCA9IHlBeGlzRGF0YS52YWx1ZXNbKHlBeGlzRGF0YS52YWx1ZXMubGVuZ3RoIC0gMSldO1xyXG4gICAgICAgIHZhciBtaW4gPSB5QXhpc0RhdGEudmFsdWVzWzBdO1xyXG4gICAgICAgIHlBeGlzU2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbbWF4LCBtaW5dKS5yYW5nZVJvdW5kKFswLCBjb250YWluZXIuaGVpZ2h0XSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4geUF4aXNTY2FsZTtcclxufVxyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogRGF0YSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqXHJcbiAqIEBmdW5jdGlvblxyXG4gKiBAcGFyYW0ge3N0cmluZ30gbGFiZWwgLSBUaGUgZmllbGQgdGhhdCBpcyBjaGVja2VkIGZvciB0eXBlXHJcbiAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhVGFibGVLZXlzIC0gT2JqZWN0IHRoYXQgY29udGFpbnMgdGhlIGRhdGEgdHlwZSBmb3IgZWFjaCBjb2x1bW4gb2YgZGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0RGF0YVR5cGVGcm9tS2V5cyhsYWJlbCwgZGF0YVRhYmxlS2V5cykge1xyXG4gICAgdmFyIHR5cGU7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhVGFibGVLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy9SZXBsYWNlIHVuZGVyc2NvcmVzIHdpdGggc3BhY2VzXHJcbiAgICAgICAgaWYgKGRhdGFUYWJsZUtleXNbaV0udmFyS2V5LnJlcGxhY2UoL18vZywgJyAnKSA9PT0gbGFiZWwucmVwbGFjZSgvXy9nLCAnICcpKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhVGFibGVLZXlzW2ldLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcclxuICAgICAgICAgICAgICAgIHR5cGUgPSBkYXRhVGFibGVLZXlzW2ldLnR5cGU7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ1NUUklORycpIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ1NUUklORyc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdEQVRFJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGUgPSAnREFURSc7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICdOVU1CRVInO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlID0gJ05VTUJFUic7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0eXBlO1xyXG59XHJcblxyXG4vKipzZXRCYXJMaW5lTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRCYXJMaW5lTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YS5kYXRhVGFibGUpIHtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0gIT09ICdsYWJlbCcpIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZEFycmF5LnB1c2goZGF0YS5kYXRhVGFibGVbaXRlbV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG4vKipzZXRDaGFydENvbG9yc1xyXG4gKiAgY2xlYW5zIGluY29taW5nIGNvbG9ycyBmb3IgY29uc2lzdGVuY3lcclxuICpcclxuICogQHBhcmFtcyBjb2xvckFycmF5LCBsZWdlbmREYXRhXHJcbiAqIEByZXR1cm5zIG9iamVjdCB3aXRoIGNvbG9yc1xyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIHNldENoYXJ0Q29sb3JzKHRvb2xEYXRhLCBsZWdlbmREYXRhLCBkZWZhdWx0Q29sb3JBcnJheSkge1xyXG4gICAgLy9mdW5jdGlvbiBoYW5kbGVzIDMgY29sb3IgaW5wdXRzXHJcbiAgICAvL3Rvb2xEYXRhIGFzIGFuIGFycmF5IGluIHRvb2xEYXRhXHJcbiAgICAvL3Rvb2xEYXRhIGFzIGFuIG9iamVjdFxyXG4gICAgLy90b29sRGF0YSBhcyAnbm9uZSdcclxuICAgIC8vYW55IG90aGVyIGNhc2Ugd2lsbCByZXN1bHQgaW4gdXNpbmcgZGVmYXVsdENvbG9yQXJyYXlcclxuXHJcbiAgICB2YXIgY29sb3JzID0ge30sXHJcbiAgICAgICAgdXNlZENvbG9ycyA9IFtdLFxyXG4gICAgICAgIHVuYWNjb3VudGVkTGVnZW5kRWxlbWVudHMgPSBbXTtcclxuXHJcbiAgICAvL3Rvb2xEYXRhIGlzIGFycmF5XHJcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh0b29sRGF0YSkpIHtcclxuICAgICAgICBpZiAodG9vbERhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb2xvcnMgPSBjcmVhdGVDb2xvcnNXaXRoRGVmYXVsdChsZWdlbmREYXRhLCB0b29sRGF0YSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29sb3JzID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQobGVnZW5kRGF0YSwgZGVmYXVsdENvbG9yQXJyYXkpO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodG9vbERhdGEgPT09IE9iamVjdCh0b29sRGF0YSkpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlZ2VuZERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG9iaiA9IGxlZ2VuZERhdGFbaV07XHJcbiAgICAgICAgICAgIGlmICh0b29sRGF0YS5oYXNPd25Qcm9wZXJ0eShvYmopKSB7XHJcbiAgICAgICAgICAgICAgICB1c2VkQ29sb3JzLnB1c2godG9vbERhdGFbb2JqXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB1bmFjY291bnRlZExlZ2VuZEVsZW1lbnRzLnB1c2gobGVnZW5kRGF0YVtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy9jaGVjayBpZiBvYmplY3QgaGFzIGRlc2lyZWQga2V5c1xyXG4gICAgICAgIGlmICh1c2VkQ29sb3JzLmxlbmd0aCA9PT0gbGVnZW5kRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY29sb3JzID0gdG9vbERhdGE7XHJcbiAgICAgICAgfSBlbHNlIGlmICh1c2VkQ29sb3JzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdmFyIHRvb2xEYXRhQXNBcnJheSA9IE9iamVjdC52YWx1ZXModG9vbERhdGEpO1xyXG4gICAgICAgICAgICBpZiAodG9vbERhdGFBc0FycmF5Lmxlbmd0aCA+IGxlZ2VuZERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcnMgPSBjcmVhdGVDb2xvcnNXaXRoRGVmYXVsdChsZWdlbmREYXRhLCB0b29sRGF0YUFzQXJyYXkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQobGVnZW5kRGF0YSwgZGVmYXVsdENvbG9yQXJyYXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHRvb2xEYXRhQXNBcnJheSA9IE9iamVjdC52YWx1ZXModG9vbERhdGEpO1xyXG4gICAgICAgICAgICBpZiAodG9vbERhdGFBc0FycmF5Lmxlbmd0aCA+IGxlZ2VuZERhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb2xvcnMgPSBjcmVhdGVDb2xvcnNXaXRoRGVmYXVsdChsZWdlbmREYXRhLCB0b29sRGF0YUFzQXJyYXkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29sb3JzID0gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQobGVnZW5kRGF0YSwgZGVmYXVsdENvbG9yQXJyYXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjb2xvcnMgPSBjcmVhdGVDb2xvcnNXaXRoRGVmYXVsdChsZWdlbmREYXRhLCBkZWZhdWx0Q29sb3JBcnJheSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvbG9ycztcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ29sb3JzV2l0aERlZmF1bHQobGVnZW5kRGF0YSwgY29sb3JzKSB7XHJcbiAgICB2YXIgbWFwcGVkQ29sb3JzID0ge30sXHJcbiAgICAgICAgY291bnQgPSAwO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGNvdW50ID4gY29sb3JzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgY291bnQgPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBtYXBwZWRDb2xvcnNbbGVnZW5kRGF0YVtpXV0gPSBjb2xvcnNbY291bnRdO1xyXG4gICAgICAgIGNvdW50Kys7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbWFwcGVkQ29sb3JzO1xyXG59XHJcblxyXG4vKipjbGVhblRvb2xEYXRhXHJcbiAqICBjbGVhbnMgaW5jb21pbmcgdG9vbERhdGEgZm9yIGNvbnNpc3RlbmN5XHJcbiAqXHJcbiAqIEBwYXJhbSB0b29sRGF0YVxyXG4gKiBAcmV0dXJucyBvYmplY3Qgd2l0aCB0b29sZGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gY2xlYW5Ub29sRGF0YShvcHRpb25zKSB7XHJcbiAgICB2YXIgZGF0YSA9IHt9XHJcbiAgICBpZihvcHRpb25zKSB7XHJcbiAgICAgICAgZGF0YSA9IG9wdGlvbnM7XHJcbiAgICB9XHJcbiAgICBpZiAoIWRhdGEuaGFzT3duUHJvcGVydHkoJ3JvdGF0ZUF4aXMnKSkge1xyXG4gICAgICAgIGRhdGEucm90YXRlQXhpcyA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoJ3N0YWNrVG9nZ2xlJykpIHtcclxuICAgICAgICBpZiAoZGF0YS5zdGFja1RvZ2dsZSA9PT0gJ3N0YWNrLWRhdGEnKSB7XHJcbiAgICAgICAgICAgIGRhdGEuc3RhY2tUb2dnbGUgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRhdGEuc3RhY2tUb2dnbGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRhdGEuc3RhY2tUb2dnbGUgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KCdjb2xvcnMnKSkge1xyXG4gICAgICAgIGRhdGEuY29sb3IgPSBkYXRhLmNvbG9ycztcclxuICAgIH1cclxuICAgIGlmKCFkYXRhLmhhc093blByb3BlcnR5KCd0aHJlc2hvbGRzJykpIHtcclxuICAgICAgICBkYXRhLnRocmVzaG9sZHMgPSBbXTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRNYXhXaWR0aEZvckF4aXNEYXRhKGF4aXMsIGF4aXNEYXRhLCBvcHRpb25zLCBkaW1lbnNpb25zLCBtYXJnaW4sIGNoYXJ0RGl2LCB0eXBlKSB7XHJcbiAgICB2YXIgbWF4QXhpc1RleHQgPSAnJyxcclxuICAgICAgICBmb3JtYXRUeXBlO1xyXG4gICAgLy9EeW5hbWljIGxlZnQgbWFyZ2luIGZvciBjaGFydHMgd2l0aCB5IGF4aXNcclxuICAgIGlmIChvcHRpb25zLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAvL2dldCBsZW5ndGggb2YgbG9uZ2VzdCB0ZXh0IGxhYmVsIGFuZCBtYWtlIHRoZSBheGlzIGJhc2VkIG9mZiB0aGF0XHJcbiAgICAgICAgdmFyIG1heFN0cmluZyA9ICcnLFxyXG4gICAgICAgICAgICBoZWlnaHQgPSBwYXJzZUludChkaW1lbnNpb25zLmhlaWdodCkgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcclxuXHJcbiAgICAgICAgLy9jaGVjayBpZiBsYWJlbHMgc2hvdWxkIGJlIHNob3duXHJcbiAgICAgICAgaWYgKGhlaWdodCAhPT0gMCAmJiBoZWlnaHQgLyBheGlzRGF0YS52YWx1ZXMubGVuZ3RoIDwgcGFyc2VJbnQob3B0aW9ucy5mb250U2l6ZSkpIHtcclxuICAgICAgICAgICAgYXhpc0RhdGEuaGlkZVZhbHVlcyA9IHRydWU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBheGlzRGF0YS52YWx1ZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50U3RyID0gYXhpc0RhdGEudmFsdWVzW2ldLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0ci5sZW5ndGggPiBtYXhTdHJpbmcubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4U3RyaW5nID0gY3VycmVudFN0cjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXhBeGlzVGV4dCA9IG1heFN0cmluZztcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKCEhb3B0aW9ucy55TGFiZWxGb3JtYXQgfHwgISFvcHRpb25zLnhMYWJlbEZvcm1hdCkge1xyXG4gICAgICAgIHZhciBsYWJlbEZvcm1hdCA9IG9wdGlvbnMueUxhYmVsRm9ybWF0O1xyXG4gICAgICAgIGlmIChheGlzID09PSAneCcpIHtcclxuICAgICAgICAgICAgbGFiZWxGb3JtYXQgPSBvcHRpb25zLnhMYWJlbEZvcm1hdDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcm1hdFR5cGUgPSBqdkZvcm1hdFZhbHVlVHlwZShheGlzRGF0YS52YWx1ZXMpO1xyXG4gICAgICAgIHZhciBleHByZXNzaW9uID0gZ2V0Rm9ybWF0RXhwcmVzc2lvbihsYWJlbEZvcm1hdCk7XHJcbiAgICAgICAgaWYgKGV4cHJlc3Npb24gIT09ICcnKSB7XHJcbiAgICAgICAgICAgIG1heEF4aXNUZXh0ID0gZXhwcmVzc2lvbihheGlzRGF0YS5tYXgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1heEF4aXNUZXh0ID0ganZGb3JtYXRWYWx1ZShheGlzRGF0YS5tYXgpO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9ybWF0VHlwZSA9IGp2Rm9ybWF0VmFsdWVUeXBlKGF4aXNEYXRhLnZhbHVlcyk7XHJcbiAgICAgICAgaWYgKCFheGlzRGF0YS5oYXNPd25Qcm9wZXJ0eSgnbWF4JykpIHtcclxuICAgICAgICAgICAgdmFyIG1heExlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXhpc0RhdGEudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXhpc0RhdGEudmFsdWVzW2ldLmxlbmd0aCA+IG1heExlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIG1heExlbmd0aCA9IGF4aXNEYXRhLnZhbHVlc1tpXS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICAgICAgbWF4QXhpc1RleHQgPSBheGlzRGF0YS52YWx1ZXNbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtYXhBeGlzVGV4dCA9IGp2Rm9ybWF0VmFsdWUoYXhpc0RhdGEubWF4LCBmb3JtYXRUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHR5cGUgPT09ICdoZWF0bWFwJykge1xyXG4gICAgICAgIC8vYWxzbyBuZWVkIHRvIGNoZWNrIHdpZHRoIG9mIGxhYmVsXHJcbiAgICAgICAgaWYgKG1heEF4aXNUZXh0Lmxlbmd0aCA8IGF4aXNEYXRhLmxhYmVsLmxlbmd0aCArIDUpIHtcclxuICAgICAgICAgICAgLy9uZWVkIGFkZGVkIHNwYWNlXHJcbiAgICAgICAgICAgIGlmIChheGlzID09PSAneCcpIHtcclxuICAgICAgICAgICAgICAgIG1heEF4aXNUZXh0ID0gYXhpc0RhdGEubGFiZWw7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBtYXhBeGlzVGV4dCA9IGF4aXNEYXRhLmxhYmVsICsgJ0V4dHJhJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL0NyZWF0ZSBkdW1teSBzdmcgdG8gcGxhY2UgbWF4IHNpemVkIHRleHQgZWxlbWVudCBvblxyXG4gICAgdmFyIGR1bW15U1ZHID0gY2hhcnREaXYuYXBwZW5kKCdzdmcnKS5hdHRyKCdjbGFzcycsICdkdW1teS1zdmcnKTtcclxuXHJcbiAgICAvL0NyZWF0ZSBkdW1teSB0ZXh0IGVsZW1lbnRcclxuICAgIHZhciBheGlzRHVtbXkgPSBkdW1teVNWR1xyXG4gICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChheGlzID09PSAneScgJiYgb3B0aW9ucy55TGFiZWxGb250U2l6ZSAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy55TGFiZWxGb250U2l6ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYXhpcyA9PT0gJ3gnICYmIG9wdGlvbnMueExhYmVsRm9udFNpemUgIT09ICdub25lJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMueExhYmVsRm9udFNpemU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZm9udFNpemU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneCcsIDApXHJcbiAgICAgICAgLmF0dHIoJ3knLCAwKVxyXG4gICAgICAgIC50ZXh0KG1heEF4aXNUZXh0KTtcclxuXHJcbiAgICAvL0NhbGN1bGF0ZSB0aGUgd2lkdGggb2YgdGhlIGR1bW15IHRleHRcclxuICAgIHZhciB3aWR0aCA9IGF4aXNEdW1teS5ub2RlKCkuZ2V0QkJveCgpLndpZHRoO1xyXG4gICAgLy9SZW1vdmUgdGhlIHN2ZyBhbmQgdGV4dCBlbGVtZW50XHJcbiAgICBjaGFydERpdi5zZWxlY3QoJy5kdW1teS1zdmcnKS5yZW1vdmUoKTtcclxuICAgIHJldHVybiB3aWR0aDtcclxufVxyXG5cclxuZnVuY3Rpb24gdmFsdWVzKG9iamVjdCwgZGF0YVRhYmxlQWxpZ24sIHR5cGUpIHtcclxuICAgIHZhciB2YWx1ZXNBcnJheSA9IFtdO1xyXG5cclxuICAgIGlmICh0eXBlID09PSAnYmFyJyB8fCB0eXBlID09PSAncGllJyB8fCB0eXBlID09PSAnbGluZScgfHwgdHlwZSA9PT0gJ2FyZWEnKSB7XHJcbiAgICAgICAgLy9mb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBfLmtleXMoZGF0YVRhYmxlQWxpZ24pLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChkYXRhVGFibGVBbGlnbi5oYXNPd25Qcm9wZXJ0eSgndmFsdWUgJyArIGkpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqZWN0W2RhdGFUYWJsZUFsaWduWyd2YWx1ZSAnICsgaV1dICE9IG51bGwpIHsvLyE9IGNoZWNrcyBmb3IgbnVsbFxyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlc0FycmF5LnB1c2gob2JqZWN0W2RhdGFUYWJsZUFsaWduWyd2YWx1ZSAnICsgaV1dKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xyXG4gICAgICAgICAgICBpZiAob2JqZWN0Lmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlc0FycmF5LnB1c2gob2JqZWN0W2tleV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlc0FycmF5O1xyXG59XHJcbi8qKmdldFlTY2FsZVxyXG4gKlxyXG4gKiBnZXRzIHRoZSBzY2FsZSBmb3IgdGhlIHkgYXhpc1xyXG4gKiBAcGFyYW1zIHlBeGlzRGF0YSwgY29udGFpbmVyLCBwYWRkaW5nXHJcbiAqIEByZXR1cm5zIHt7fX1cclxuICovXHJcbmZ1bmN0aW9uIGdldFlTY2FsZSh5QXhpc0RhdGEsIGNvbnRhaW5lciwgcGFkZGluZywgeVJldmVyc2VkKSB7XHJcbiAgICB2YXIgeUF4aXNTY2FsZTtcclxuICAgIHZhciBsZWZ0UGFkZGluZyA9IDAuNCxcclxuICAgICAgICByaWdodFBhZGRpbmcgPSAwLjI7XHJcbiAgICBpZiAocGFkZGluZyA9PT0gJ25vLXBhZGRpbmcnKSB7XHJcbiAgICAgICAgbGVmdFBhZGRpbmcgPSAwO1xyXG4gICAgICAgIHJpZ2h0UGFkZGluZyA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHlBeGlzRGF0YS5kYXRhVHlwZSA9PT0gJ1NUUklORycpIHtcclxuICAgICAgICB5QXhpc1NjYWxlID0gZDMuc2NhbGUub3JkaW5hbCgpLmRvbWFpbih5QXhpc0RhdGEudmFsdWVzKS5yYW5nZVBvaW50cyhbMCwgY29udGFpbmVyLmhlaWdodF0pXHJcbiAgICAgICAgICAgIC5yYW5nZVJvdW5kQmFuZHMoWzAsIGNvbnRhaW5lci5oZWlnaHRdLCBsZWZ0UGFkZGluZywgcmlnaHRQYWRkaW5nKTtcclxuICAgIH0gZWxzZSBpZiAoeUF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgIHZhciBtYXggPSB5QXhpc0RhdGEudmFsdWVzWyh5QXhpc0RhdGEudmFsdWVzLmxlbmd0aCAtIDEpXTtcclxuICAgICAgICB2YXIgbWluID0geUF4aXNEYXRhLnZhbHVlc1swXTtcclxuICAgICAgICBpZiAoeVJldmVyc2VkKSB7XHJcbiAgICAgICAgICAgIHlBeGlzU2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbbWF4LCBtaW5dKS5yYW5nZVJvdW5kKFtjb250YWluZXIuaGVpZ2h0LCAwXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgeUF4aXNTY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFttYXgsIG1pbl0pLnJhbmdlUm91bmQoWzAsIGNvbnRhaW5lci5oZWlnaHRdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4geUF4aXNTY2FsZTtcclxufVxyXG4vKipnZXRaU2NhbGVcclxuICpcclxuICogZ2V0cyB0aGUgc2NhbGUgZm9yIHRoZSB6IGF4aXNcclxuICogQHBhcmFtcyB6QXhpc0RhdGEsIGNvbnRhaW5lciwgcGFkZGluZ1xyXG4gKiBAcmV0dXJucyB7e319XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRaU2NhbGUoekF4aXNEYXRhLCBjb250YWluZXIsIG9wdGlvbnMpIHtcclxuICAgIHZhciB6QXhpc1NjYWxlO1xyXG5cclxuICAgIHpBeGlzU2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbZDMubWluKHpBeGlzRGF0YS52YWx1ZXMpLCBkMy5tYXgoekF4aXNEYXRhLnZhbHVlcyldKS5yYW5nZVJvdW5kKFtvcHRpb25zLk5PREVfTUlOX1NJWkUsIG9wdGlvbnMuTk9ERV9NQVhfU0laRV0pLm5pY2UoKTtcclxuICAgIHJldHVybiB6QXhpc1NjYWxlO1xyXG59XHJcblxyXG4gICAgLyoqZ2VuZXJhdGVFdmVudEdyb3Vwc1xyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW1zIGNoYXJ0Q29udGFpbmVyLCBiYXJEYXRhLCBjaGFydFxyXG4gICAgICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlRXZlbnRHcm91cHMoY2hhcnRDb250YWluZXIsIGJhckRhdGEsIGNoYXJ0KSB7XHJcbiAgICB2YXIgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBvcHRpb25zID0gY2hhcnQub3B0aW9ucyxcclxuICAgICAgICBkYXRhVG9QbG90ID0ganZDaGFydHMuZ2V0UGxvdERhdGEoYmFyRGF0YSwgY2hhcnQpLFxyXG4gICAgICAgIGV2ZW50R3JvdXBzO1xyXG5cclxuICAgIC8vSW52aXNpYmxlIHJlY3RhbmdsZXMgb24gc2NyZWVuIHRoYXQgcmVwcmVzZW50IGJhciBncm91cHMuIFVzZWQgdG8gc2hvdy9oaWRlIHRvb2wgdGlwcyBvbiBob3ZlclxyXG4gICAgZXZlbnRHcm91cHMgPSBjaGFydENvbnRhaW5lclxyXG4gICAgICAgIC5kYXRhKGRhdGFUb1Bsb3QpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnZXZlbnQtcmVjdCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCwgaSkgeyAvL3NldHMgdGhlIHggcG9zaXRpb24gb2YgdGhlIGJhcilcclxuICAgICAgICAgICAgcmV0dXJuIChvcHRpb25zLnJvdGF0ZUF4aXMgPyAwIDogKGNvbnRhaW5lci53aWR0aCAvIGJhckRhdGEubGVuZ3RoICogaSkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSkgeyAvL3NldHMgdGhlIHkgcG9zaXRpb24gb2YgdGhlIGJhclxyXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5yb3RhdGVBeGlzID8gKGNvbnRhaW5lci5oZWlnaHQgLyBiYXJEYXRhLmxlbmd0aCAqIGkpIDogMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uICgpIHsgLy9zZXRzIHRoZSB4IHBvc2l0aW9uIG9mIHRoZSBiYXIpXHJcbiAgICAgICAgICAgIHJldHVybiAob3B0aW9ucy5yb3RhdGVBeGlzID8gY29udGFpbmVyLndpZHRoIDogKGNvbnRhaW5lci53aWR0aCAvIGJhckRhdGEubGVuZ3RoKSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgZnVuY3Rpb24gKCkgeyAvL3NldHMgdGhlIHkgcG9zaXRpb24gb2YgdGhlIGJhclxyXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5yb3RhdGVBeGlzID8gKGNvbnRhaW5lci5oZWlnaHQgLyBiYXJEYXRhLmxlbmd0aCkgOiBjb250YWluZXIuaGVpZ2h0O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAndHJhbnNwYXJlbnQnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnZXZlbnQtcmVjdCBlZGl0YWJsZS1iYXIgYmFyLWNvbC0nICsgU3RyaW5nKGJhckRhdGFbaV1bY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsXSkucmVwbGFjZSgvXFxzL2csICdfJykucmVwbGFjZSgvXFwuL2csICc8ZG90PicpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBldmVudEdyb3VwcztcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVUaHJlc2hvbGRMZWdlbmQoY2hhcnQpIHtcclxuICAgIHZhciBzdmcgPSBjaGFydC5zdmc7XHJcblxyXG4gICAgdmFyIGNvbG9yTGVnZW5kRGF0YSA9IFtdO1xyXG4gICAgaWYgKGNoYXJ0Lm9wdGlvbnMudGhyZXNob2xkcyAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBPYmplY3Qua2V5cyhjaGFydC5vcHRpb25zLnRocmVzaG9sZHMpLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGNvbG9yTGVnZW5kRGF0YS5wdXNoKGNoYXJ0Lm9wdGlvbnMudGhyZXNob2xkc1tqXS50aHJlc2hvbGROYW1lKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGdMZWdlbmQgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAndGhyZXNob2xkTGVnZW5kQ29udGFpbmVyJyk7XHJcblxyXG4gICAgdmFyIGxlZ2VuZCA9IGdMZWdlbmQuc2VsZWN0QWxsKCcudGhyZXNob2xkTGVnZW5kJylcclxuICAgICAgICAuZGF0YShjb2xvckxlZ2VuZERhdGEpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAndGhyZXNob2xkTGVnZW5kJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGhlaWdodCA9IDE5O1xyXG4gICAgICAgICAgICB2YXIgb2Zmc2V0ID0gMTkgKiBjb2xvckxlZ2VuZERhdGEubGVuZ3RoIC8gMjtcclxuICAgICAgICAgICAgdmFyIGhvcnogPSAtMiAqIDEyO1xyXG4gICAgICAgICAgICB2YXIgdmVydCA9IGkgKiBoZWlnaHQgLSBvZmZzZXQ7XHJcbiAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyBob3J6ICsgJywnICsgdmVydCArICcpJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBsZWdlbmQuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cignd2lkdGgnLCAxMilcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgMTIpXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Lm9wdGlvbnMudGhyZXNob2xkc1tpXS50aHJlc2hvbGRDb2xvcjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBsZWdlbmQuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cigneCcsIDI0KVxyXG4gICAgICAgIC5hdHRyKCd5JywgOClcclxuICAgICAgICAuYXR0cignZm9udC1zaXplJywgJy43NWVtJylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZDsgfSk7XHJcblxyXG4gICAgLy9DZW50ZXJzIHRoZSBsZWdlbmQgaW4gdGhlIHBhbmVsXHJcbiAgICBpZiAoZ0xlZ2VuZCkge1xyXG4gICAgICAgIHZhciBsZWdlbmRXaWR0aCA9IGdMZWdlbmQubm9kZSgpLmdldEJCb3goKS53aWR0aDtcclxuICAgICAgICBnTGVnZW5kLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArIChjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoIC0gbGVnZW5kV2lkdGgpICsgJywnICsgKDEwICogY29sb3JMZWdlbmREYXRhLmxlbmd0aCkgKyAnKScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kKGNoYXJ0LCBsZWdlbmRFbGVtZW50cywgZHJhd0Z1bmMpIHtcclxuICAgIC8vQWRkaW5nIHRoZSBjbGljayBldmVudCB0byBsZWdlbmQgcmVjdGFuZ2xlcyBmb3IgdG9nZ2xpbmcgb24vb2ZmXHJcblxyXG4gICAgbGVnZW5kRWxlbWVudHNcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRSZWN0ID0gZDMuc2VsZWN0KHRoaXMpO1xyXG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRSZWN0Ll9ncm91cHNbMF1bMF0uYXR0cmlidXRlcy5vcGFjaXR5LnZhbHVlICE9PSAnMC4yJykge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSZWN0XHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ29wYWNpdHknLCAnMC4yJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFJlY3RcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignb3BhY2l0eScsICcxJyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vR2V0cyB0aGUgaGVhZGVycyBvZiB0aGUgZGF0YSB0byBiZSBkcmF3blxyXG4gICAgICAgICAgICB2YXIgZGF0YUhlYWRlcnMgPSB1cGRhdGVEYXRhRnJvbUxlZ2VuZChsZWdlbmRFbGVtZW50cy5fZ3JvdXBzKTtcclxuXHJcbiAgICAgICAgICAgIC8vU2V0cyB0aGUgbGVnZW5kRGF0YSB0byB0aGUgdXBkYXRlZCBoZWFkZXJzXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5vcHRpb25zLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Lm9wdGlvbnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMgPSBkYXRhSGVhZGVycztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0Lm9wdGlvbnMubGVnZW5kSGVhZGVycyA9IGRhdGFIZWFkZXJzO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvL1Bsb3RzIHRoZSBkYXRhXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5vcHRpb25zLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0W2RyYXdGdW5jXShjaGFydC5mbGlwcGVkRGF0YSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydFtkcmF3RnVuY10oY2hhcnQuZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzXHJcbiAqXHJcbiAqIENyZWF0ZXMgdGhlIGxlZ2VuZCBlbGVtZW50cy0tcmVjdGFuZ2xlcyBhbmQgbGFiZWxzXHJcbiAqIEBwYXJhbXMgY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZVZlcnRpY2FsTGVnZW5kRWxlbWVudHMoY2hhcnQsIGxlZ2VuZERhdGEsIGRyYXdGdW5jKSB7XHJcbiAgICB2YXIgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIG9wdGlvbnMgPSBjaGFydC5vcHRpb25zLFxyXG4gICAgICAgIGxlZ2VuZCxcclxuICAgICAgICBsZWdlbmREYXRhTGVuZ3RoID0gbGVnZW5kRGF0YS5sZW5ndGgsXHJcbiAgICAgICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5O1xyXG5cclxuICAgIG9wdGlvbnMuZ3JpZFNpemUgPSAyMDtcclxuICAgIG9wdGlvbnMubGVnZW5kTWF4ID0gOTtcclxuXHJcbiAgICBpZiAoIW9wdGlvbnMubGVnZW5kSW5kZXgpIHtcclxuICAgICAgICBvcHRpb25zLmxlZ2VuZEluZGV4ID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIW9wdGlvbnMubGVnZW5kSW5kZXhNYXgpIHtcclxuICAgICAgICBvcHRpb25zLmxlZ2VuZEluZGV4TWF4ID0gTWF0aC5mbG9vcihsZWdlbmREYXRhTGVuZ3RoIC8gb3B0aW9ucy5sZWdlbmRNYXggLSAwLjAxKTtcclxuICAgIH1cclxuXHJcbiAgICAvL0NoZWNrIHRvIHNlZSBpZiBsZWdlbmQgZWxlbWVudCB0b2dnbGUgYXJyYXkgbmVlZHMgdG8gYmUgc2V0XHJcbiAgICBpZiAob3B0aW9ucy5sZWdlbmRJbmRleE1heCA+PSAwKSB7XHJcbiAgICAgICAgaWYgKCFvcHRpb25zLmxlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICAgICAgb3B0aW9ucy5sZWdlbmRIZWFkZXJzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsZWdlbmREYXRhKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBnZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkob3B0aW9ucy5sZWdlbmRIZWFkZXJzLCBsZWdlbmREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBsZWdlbmQgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgMTggKyAnLCcgKyAyMCArICcpJyk7XHJcblxyXG4gICAgLy9BZGRpbmcgY29sb3JlZCByZWN0YW5nbGVzIHRvIHRoZSBsZWdlbmRcclxuICAgIHZhciBsZWdlbmRSZWN0YW5nbGVzID0gbGVnZW5kLnNlbGVjdEFsbCgncmVjdCcpXHJcbiAgICAgICAgLmRhdGEobGVnZW5kRGF0YSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmRSZWN0JylcclxuICAgICAgICAuYXR0cigneCcsICczJylcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAob3B0aW9ucy5ncmlkU2l6ZSkgKiAoaSAlIG9wdGlvbnMubGVnZW5kTWF4KSAqIDEuMTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIG9wdGlvbnMuZ3JpZFNpemUpXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIG9wdGlvbnMuZ3JpZFNpemUpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoKCFsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgJiYgIWNoYXJ0Lm9wdGlvbnMuc2VyaWVzRmxpcHBlZCkgfHwgKGNoYXJ0Lm9wdGlvbnMuc2VyaWVzRmxpcHBlZCAmJiAhbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldENvbG9ycyhvcHRpb25zLmNvbG9yLCBpLCBsZWdlbmREYXRhW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoKCFjaGFydC5vcHRpb25zLnNlcmllc0ZsaXBwZWQgJiYgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gdHJ1ZSkgfHxcclxuICAgICAgICAgICAgICAgIChjaGFydC5vcHRpb25zLnNlcmllc0ZsaXBwZWQgJiYgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRDb2xvcnMob3B0aW9ucy5jb2xvciwgaSwgbGVnZW5kRGF0YVtpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICcjRkZGRkZGJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdkaXNwbGF5JywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGkgPj0gKG9wdGlvbnMubGVnZW5kSW5kZXggKiBvcHRpb25zLmxlZ2VuZE1heCkgJiYgaSA8PSAoKG9wdGlvbnMubGVnZW5kSW5kZXggKiBvcHRpb25zLmxlZ2VuZE1heCkgKyAob3B0aW9ucy5sZWdlbmRNYXggLSAxKSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ29wYWNpdHknLCAnMScpO1xyXG5cclxuICAgIC8vQWRkaW5nIHRleHQgbGFiZWxzIGZvciBlYWNoIHJlY3RhbmdsZSBpbiBsZWdlbmRcclxuICAgIHZhciBsZWdlbmRUZXh0ID0gbGVnZW5kLnNlbGVjdEFsbCgndGV4dCcpXHJcbiAgICAgICAgLmRhdGEobGVnZW5kRGF0YSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnbGVnZW5kVGV4dCBlZGl0YWJsZSBlZGl0YWJsZS10ZXh0IGVkaXRhYmxlLWNvbnRlbnQgZWRpdGFibGUtbGVnZW5kLScgKyBpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3gnLCBvcHRpb25zLmdyaWRTaXplICsgNylcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAob3B0aW9ucy5ncmlkU2l6ZSkgKiAoaSAlIG9wdGlvbnMubGVnZW5kTWF4KSAqIDEuMSArIDEwO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3RleHQtYW5jaG9yJywgJ3N0YXJ0JylcclxuICAgICAgICAuYXR0cignZHknLCAnMC4zNWVtJykgLy9WZXJ0aWNhbGx5IGFsaWduIHdpdGggbm9kZVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJ2JsYWNrJylcclxuICAgICAgICAuYXR0cignZm9udC1zaXplJywgY2hhcnQub3B0aW9ucy5mb250U2l6ZSlcclxuICAgICAgICAuYXR0cignZGlzcGxheScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChpID49IChvcHRpb25zLmxlZ2VuZEluZGV4ICogb3B0aW9ucy5sZWdlbmRNYXgpICYmIGkgPD0gKChvcHRpb25zLmxlZ2VuZEluZGV4ICogb3B0aW9ucy5sZWdlbmRNYXgpICsgKG9wdGlvbnMubGVnZW5kTWF4IC0gMSkpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHZhciBlbGVtZW50TmFtZSA9IGxlZ2VuZERhdGFbaV07XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50TmFtZS5sZW5ndGggPiAyMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnROYW1lLnN1YnN0cmluZygwLCAxOSkgKyAnLi4uJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudE5hbWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy9BZGRpbmcgaW5mbyBib3ggdG8gbGVnZW5kIGVsZW1lbnRzIHdoZW4gaG92ZXJpbmcgb3ZlclxyXG4gICAgbGVnZW5kVGV4dFxyXG4gICAgICAgIC5kYXRhKGxlZ2VuZERhdGEpXHJcbiAgICAgICAgLmFwcGVuZCgnc3ZnOnRpdGxlJylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL09ubHkgY3JlYXRlIGNhcm91c2VsIGlmIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgZXhjZWVkcyBvbmUgbGVnZW5kIFwicGFnZVwiXHJcbiAgICBpZiAob3B0aW9ucy5sZWdlbmRJbmRleE1heCA+IDApIHtcclxuICAgICAgICBjcmVhdGVWZXJ0aWNhbENhcm91c2VsKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGxlZ2VuZFJlY3RhbmdsZXM7XHJcbn1cclxuXHJcbi8qKmNyZWF0ZVZlcnRpY2FsQ2Fyb3VzZWxcclxuICpcclxuICogRHJhd3MgdGhlIHZlcnRpY2FsIGxlZ2VuZCBjYXJvdXNlbFxyXG4gKiBAcGFyYW1zIGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuY1xyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlVmVydGljYWxDYXJvdXNlbChjaGFydCwgbGVnZW5kRGF0YSwgZHJhd0Z1bmMpIHtcclxuICAgIHZhciBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgb3B0aW9ucyA9IGNoYXJ0Lm9wdGlvbnMsXHJcbiAgICAgICAgbGVnZW5kUG9seWdvbjtcclxuXHJcbiAgICAvL0FkZGluZyBjYXJvdXNlbCB0byBsZWdlbmRcclxuICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQtY2Fyb3VzZWwnKS5yZW1vdmUoKTtcclxuICAgIHN2Zy5zZWxlY3RBbGwoJyNsZWdlbmQtdGV4dC1pbmRleCcpLnJlbW92ZSgpO1xyXG5cclxuICAgIGxlZ2VuZFBvbHlnb24gPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kLWNhcm91c2VsJyk7XHJcblxyXG4gICAgLy9DcmVhdGVzIGxlZnQgbmF2aWdhdGlvbiBhcnJvdyBmb3IgY2Fyb3VzZWxcclxuICAgIGxlZ2VuZFBvbHlnb24uYXBwZW5kKCdwb2x5Z29uJylcclxuICAgICAgICAuYXR0cignaWQnLCAnbGVmdENoZXZyb24nKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdwb2ludGVyLWN1cnNvcicpXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgJyNjMmMyZDYnKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsJyArICgob3B0aW9ucy5sZWdlbmRNYXggKiBvcHRpb25zLmdyaWRTaXplKSArIDUwKSArICcpJylcclxuICAgICAgICAuYXR0cigncG9pbnRzJywgJzAsNy41LCAxNSwwLCAxNSwxNScpXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGVnZW5kSW5kZXggPj0gMSkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5sZWdlbmRJbmRleC0tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYyk7XHJcbiAgICAgICAgICAgIGF0dGFjaENsaWNrRXZlbnRzVG9MZWdlbmQoY2hhcnQsIGxlZ2VuZEVsZW1lbnRzLCBkcmF3RnVuYywgbGVnZW5kRGF0YSk7XHJcbiAgICAgICAgICAgIGNoYXJ0LmxvY2FsQ2FsbGJhY2tBcHBseUVkaXRzKCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmxlZ2VuZEluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vQ3JlYXRlcyBwYWdlIG51bWJlciBmb3IgY2Fyb3VzZWwgbmF2aWdhdGlvblxyXG4gICAgbGVnZW5kUG9seWdvbi5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC5hdHRyKCdpZCcsICdsZWdlbmQtdGV4dC1pbmRleCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCAzNSlcclxuICAgICAgICAuYXR0cigneScsIDI0Mi41KVxyXG4gICAgICAgIC5zdHlsZSgndGV4dC1hbmNob3InLCAnc3RhcnQnKVxyXG4gICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgY2hhcnQub3B0aW9ucy5mb250U2l6ZSlcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLmxlZ2VuZEluZGV4ICsgJyAvICcgKyBvcHRpb25zLmxlZ2VuZEluZGV4TWF4O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoe1xyXG4gICAgICAgICAgICBkaXNwbGF5OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5sZWdlbmRJbmRleE1heCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbm9uZSc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ2FsbCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvL0NyZWF0ZXMgcmlnaHQgbmF2aWdhdGlvbiBhcnJvdyBmb3IgY2Fyb3VzZWxcclxuICAgIGxlZ2VuZFBvbHlnb24uYXBwZW5kKCdwb2x5Z29uJylcclxuICAgICAgICAuYXR0cignaWQnLCAncmlnaHRDaGV2cm9uJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncG9pbnRlci1jdXJzb3InKVxyXG4gICAgICAgIC5zdHlsZSgnZmlsbCcsICcjYzJjMmQ2JylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSg4NSwnICsgKChvcHRpb25zLmxlZ2VuZE1heCAqIG9wdGlvbnMuZ3JpZFNpemUpICsgNTApICsgJyknKVxyXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCAnMTUsNy41LCAwLDAsIDAsMTUnKVxyXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmxlZ2VuZEluZGV4IDwgb3B0aW9ucy5sZWdlbmRJbmRleE1heCkge1xyXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5sZWdlbmRJbmRleCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy5sZWdlbmQnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgdmFyIGxlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzKGNoYXJ0LCBsZWdlbmREYXRhLCBkcmF3RnVuYyk7XHJcbiAgICAgICAgICAgIGF0dGFjaENsaWNrRXZlbnRzVG9MZWdlbmQoY2hhcnQsIGxlZ2VuZEVsZW1lbnRzLCBkcmF3RnVuYywgbGVnZW5kRGF0YSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cih7XHJcbiAgICAgICAgICAgIGRpc3BsYXk6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmxlZ2VuZEluZGV4ID09PSBvcHRpb25zLmxlZ2VuZEluZGV4TWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdub25lJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnYWxsJztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG4vL0JpbmQgZnVuY3Rpb25zIHRvIHByb3RvdHlwZSBvciBqdkNoYXJ0cyBvYmplY3RcclxuanZDaGFydHMuZ2V0Q29sb3JzID0gZ2V0Q29sb3JzO1xyXG5qdkNoYXJ0cy5zZXRCYXJMaW5lTGVnZW5kRGF0YSA9IHNldEJhckxpbmVMZWdlbmREYXRhO1xyXG5qdkNoYXJ0cy5jcmVhdGVDb2xvcnNXaXRoRGVmYXVsdCA9IGNyZWF0ZUNvbG9yc1dpdGhEZWZhdWx0O1xyXG5qdkNoYXJ0cy52YWx1ZXMgPSB2YWx1ZXM7XHJcbmp2Q2hhcnRzLmdldFlTY2FsZSA9IGdldFlTY2FsZTtcclxuanZDaGFydHMuZ2V0WlNjYWxlID0gZ2V0WlNjYWxlO1xyXG5qdkNoYXJ0cy5nZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBnZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXk7XHJcbmp2Q2hhcnRzLmdlbmVyYXRlTGVnZW5kRWxlbWVudHMgPSBnZW5lcmF0ZUxlZ2VuZEVsZW1lbnRzO1xyXG5qdkNoYXJ0cy51cGRhdGVEYXRhRnJvbUxlZ2VuZCA9IHVwZGF0ZURhdGFGcm9tTGVnZW5kO1xyXG5qdkNoYXJ0cy5jcmVhdGVDYXJvdXNlbCA9IGNyZWF0ZUNhcm91c2VsO1xyXG5qdkNoYXJ0cy5nZW5lcmF0ZVRocmVzaG9sZExlZ2VuZCA9IGdlbmVyYXRlVGhyZXNob2xkTGVnZW5kO1xyXG5qdkNoYXJ0cy5hdHRhY2hDbGlja0V2ZW50c1RvTGVnZW5kID0gYXR0YWNoQ2xpY2tFdmVudHNUb0xlZ2VuZDtcclxuanZDaGFydHMuZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzID0gZ2VuZXJhdGVWZXJ0aWNhbExlZ2VuZEVsZW1lbnRzO1xyXG5qdkNoYXJ0cy5jcmVhdGVWZXJ0aWNhbENhcm91c2VsID0gY3JlYXRlVmVydGljYWxDYXJvdXNlbDtcclxuanZDaGFydHMuZ2V0VG9nZ2xlZERhdGEgPSBnZXRUb2dnbGVkRGF0YTtcclxuanZDaGFydHMuZ2V0UGxvdERhdGEgPSBnZXRQbG90RGF0YTtcclxuanZDaGFydHMuZ2V0UG9zQ2FsY3VsYXRpb25zID0gZ2V0UG9zQ2FsY3VsYXRpb25zO1xyXG5qdkNoYXJ0cy5nZXRYU2NhbGUgPSBnZXRYU2NhbGU7XHJcbmp2Q2hhcnRzLmdldFlTY2FsZSA9IGdldFlTY2FsZTtcclxuanZDaGFydHMuc2V0QmFyTGluZUxlZ2VuZERhdGEgPSBzZXRCYXJMaW5lTGVnZW5kRGF0YTtcclxuanZDaGFydHMuanZGb3JtYXRWYWx1ZSA9IGp2Rm9ybWF0VmFsdWU7XHJcbmp2Q2hhcnRzLmdldEZvcm1hdEV4cHJlc3Npb24gPSBnZXRGb3JtYXRFeHByZXNzaW9uO1xyXG5qdkNoYXJ0cy5nZW5lcmF0ZUV2ZW50R3JvdXBzID0gZ2VuZXJhdGVFdmVudEdyb3VwcztcclxuanZDaGFydHMuanZGb3JtYXRWYWx1ZVR5cGUgPSBqdkZvcm1hdFZhbHVlVHlwZTtcclxuanZDaGFydHMuZ2V0QXhpc1NjYWxlID0gZ2V0QXhpc1NjYWxlO1xyXG5qdkNoYXJ0cy5zZXRDaGFydENvbG9ycyA9IHNldENoYXJ0Q29sb3JzO1xyXG5qdkNoYXJ0cy5nZXREYXRhVHlwZUZyb21LZXlzID0gZ2V0RGF0YVR5cGVGcm9tS2V5cztcclxuanZDaGFydHMuY2xlYW5Ub29sRGF0YSA9IGNsZWFuVG9vbERhdGE7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzOyIsIi8qKiogIGp2Q29tbWVudCAqKiovXHJcbmZ1bmN0aW9uIGp2Q29tbWVudChjb25maWdPYmopIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgdmFyIGNvbW1lbnRPYmogPSB0aGlzO1xyXG4gICAgY29tbWVudE9iai5jaGFydERpdiA9IGNvbmZpZ09iai5jaGFydERpdjtcclxuICAgIGNvbW1lbnRPYmouc2hvd0NvbW1lbnRzID0gZmFsc2U7XHJcbiAgICBjb21tZW50T2JqLmNvbW1lbnRzID0gY29uZmlnT2JqLmNvbW1lbnRzID8gY29uZmlnT2JqLmNvbW1lbnRzIDoge307XHJcbiAgICBjb21tZW50T2JqLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBjb21tZW50T2JqLmRyYXdDb21tZW50Tm9kZXMoKTtcclxuICAgIGNvbW1lbnRPYmoudG9nZ2xlQ29tbWVudE1vZGUgPSBmdW5jdGlvbiAodG9nZ2xlQm9vbCkge1xyXG4gICAgICAgIHZhciBlbnRpcmVTdmcgPSBjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdChcInN2Z1wiKTtcclxuICAgICAgICBpZiAodG9nZ2xlQm9vbCkge1xyXG4gICAgICAgICAgICBlbnRpcmVTdmcub24oJ2RibGNsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIGNvbW1lbnRPYmoubWFrZUNvbW1lbnQodGhpcyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgZW50aXJlU3ZnLm9uKCdjbGljaycsIGZhbHNlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb21tZW50T2JqLnJlbW92ZUNvbW1lbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb21tZW50T2JqLnNhdmVDYWxsYmFja0Z1bmN0aW9uID0gY29uZmlnT2JqLnNhdmVDYWxsYmFja0Z1bmN0aW9uO1xyXG4gICAgY29tbWVudE9iai5nZXRNb2RlID0gY29uZmlnT2JqLmdldE1vZGU7XHJcbn1cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBBbGwgQ29tbWVudCBNb2RlIEZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmp2Q29tbWVudC5wcm90b3R5cGUubWFrZUNvbW1lbnQgPSBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgIHZhciBjb21tZW50T2JqID0gdGhpcztcclxuXHJcbiAgICBjb21tZW50T2JqLnNob3dDb21tZW50cyA9IGZhbHNlO1xyXG4gICAgY29tbWVudE9iai5jaGFydERpdi5zZWxlY3RBbGwoXCIuY29tbWVudGJveC1yZWFkb25seVwiKS5yZW1vdmUoKTtcclxuXHJcbiAgICBpZiAoY29tbWVudE9iai5jaGFydERpdi5zZWxlY3RBbGwoXCIuY29tbWVudGJveFwiKS5fZ3JvdXBzWzBdLmxlbmd0aCA9PT0gMCAmJiBjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbChcIi5jb21tZW50Ym94LWVkaXRcIikuX2dyb3Vwc1swXS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB2YXIgeCA9IHBhcnNlSW50KGQzLm1vdXNlKGV2ZW50KVswXSk7XHJcbiAgICAgICAgdmFyIHkgPSBwYXJzZUludChkMy5tb3VzZShldmVudClbMV0pO1xyXG5cclxuICAgICAgICAvL2NhbGN1bGF0ZSBwb3NpdGlvbiBvZiBvdmVybGF5IGRpdlxyXG4gICAgICAgIHZhciBjb21tZW50SGVpZ2h0ID0gMTQ1LFxyXG4gICAgICAgICAgICBjb21tZW50V2lkdGggPSAyMDAsXHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gY29tbWVudE9iai5vdmVybGF5RGl2UG9zaXRpb24oY29tbWVudFdpZHRoLCBjb21tZW50SGVpZ2h0LCB4LCB5KTtcclxuXHJcbiAgICAgICAgY29tbWVudE9iai5jaGFydERpdi5hcHBlbmQoJ2RpdicpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJjb21tZW50Ym94XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJjb21tZW50Ym94XCIpXHJcbiAgICAgICAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMSlcclxuICAgICAgICAgICAgLmh0bWwoXCI8ZGl2IGNsYXNzPSd0aXRsZSc+PGI+QWRkIE5ldyBDb21tZW50PC9iPjwvZGl2PlwiICtcclxuICAgICAgICAgICAgICAgIFwiPHRleHRhcmVhIHBsYWNlaG9sZGVyPSdFbnRlciBjb21tZW50Li4uJyBmb3JtPSdjb21tZW50Zm9ybScgc3R5bGU9J3Jlc2l6ZTpub25lJyBjbGFzcz0nY29tbWVudC10ZXh0YXJlYScgcm93cz0nNCcgY29scz0nMjcnIG5hbWU9J2NvbW1lbnQnIGlkID0gJ3RleHRhcmVhMSc+PC90ZXh0YXJlYT5cIiArXHJcbiAgICAgICAgICAgICAgICBcIjxicj48YnV0dG9uIGNsYXNzPSdjb21tZW50Ym94LWNsb3NlJyBpZCA9J2NhbmNlbCc+PGkgY2xhc3M9J2ZhIGZhLWNsb3NlJz48L2k+PC9idXR0b24+XCIgK1xyXG4gICAgICAgICAgICAgICAgXCI8YnV0dG9uIGNsYXNzPSdzbXNzLWJ0biBjb21tZW50Ym94LXN1Ym1pdCcgaWQgPSAnc3VibWl0Jz5TdWJtaXQgQ29tbWVudDwvYnV0dG9uPlwiKVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpXHJcbiAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgcG9zaXRpb24ueCArIFwicHhcIilcclxuICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIHBvc2l0aW9uLnkgKyBcInB4XCIpO1xyXG5cclxuICAgICAgICAvL0F1dG9mb2N1cyBvbiB0aGUgdGV4dCBhcmVhXHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXh0YXJlYTFcIikuZm9jdXMoKTtcclxuXHJcbiAgICAgICAgY29tbWVudE9iai5jaGFydERpdi5zZWxlY3RBbGwoXCIuY29tbWVudGJveFwiKS5zZWxlY3QoXCIjY2FuY2VsXCIpXHJcbiAgICAgICAgICAgIC5vbihcImNsaWNrLmRlbGV0ZVwiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb21tZW50T2JqLnJlbW92ZUNvbW1lbnQoKTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBjb21tZW50VHlwZSA9ICdzdmdNYWluJztcclxuXHJcbiAgICAgICAgY29tbWVudE9iai5jaGFydERpdi5zZWxlY3RBbGwoXCIuY29tbWVudGJveFwiKS5zZWxlY3QoXCIjc3VibWl0XCIpXHJcbiAgICAgICAgICAgIC5vbihcImNsaWNrLnNhdmVcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRUZXh0ID0gY29tbWVudE9iai5jaGFydERpdi5zZWxlY3QoXCIjY29tbWVudGJveFwiKS5zZWxlY3QoXCIjdGV4dGFyZWExXCIpLl9ncm91cHNbMF1bMF0udmFsdWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbmV3Q29tbWVudE9iaiA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2NvbW1lbnRUZXh0JzogY29tbWVudFRleHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdncm91cElEJzogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3R5cGUnOiBjb21tZW50VHlwZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ2JpbmRpbmcnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneCc6IHgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneSc6IHksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneENoYXJ0QXJlYSc6IGNvbW1lbnRPYmouY2hhcnREaXYuX2dyb3Vwc1swXVswXS5jbGllbnRXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd5Q2hhcnRBcmVhJzogY29tbWVudE9iai5jaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudEhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdjdXJyZW50WCc6IHgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnY3VycmVudFknOiB5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgY29tbWVudE9iai5jaGFydERpdi5zZWxlY3QoXCIuY29tbWVudGJveFwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIGlmKGlzTmFOKGNvbW1lbnRPYmouY29tbWVudHMubWF4SWQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29tbWVudE9iai5jb21tZW50cy5tYXhJZCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29tbWVudE9iai5zYXZlQ2FsbGJhY2tGdW5jdGlvbihuZXdDb21tZW50T2JqLCArK2NvbW1lbnRPYmouY29tbWVudHMubWF4SWQsICdhZGQnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG59O1xyXG5cclxuanZDb21tZW50LnByb3RvdHlwZS5yZW1vdmVDb21tZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNvbW1lbnRPYmogPSB0aGlzO1xyXG4gICAgdmFyIGNoYXJ0RGl2ID0gY29tbWVudE9iai5jaGFydERpdjtcclxuICAgIGNoYXJ0RGl2LnNlbGVjdEFsbCgnLmNvbW1lbnRib3gnKS5yZW1vdmUoKTtcclxufTtcclxuXHJcbmp2Q29tbWVudC5wcm90b3R5cGUuc2hvd0FsbENvbW1lbnRzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNvbW1lbnRPYmogPSB0aGlzO1xyXG5cclxuICAgIC8vUmVtb3ZlIGFueSBjb21tZW50IGJveGVzIGlmIGNvbW1lbnRzIGFyZSBiZWluZyB0b2dnbGVkXHJcbiAgICBjb21tZW50T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbChcIi5jb21tZW50Ym94XCIpLnJlbW92ZSgpO1xyXG4gICAgY29tbWVudE9iai5jaGFydERpdi5zZWxlY3RBbGwoXCIuY29tbWVudGJveC1lZGl0XCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIGlmIChjb21tZW50T2JqLnNob3dDb21tZW50cyA9PT0gZmFsc2UpIHtcclxuICAgICAgICBmb3IgKHZhciBpIGluIGNvbW1lbnRPYmouY29tbWVudHMubGlzdCkge1xyXG5cclxuICAgICAgICAgICAgaWYgKCFjb21tZW50T2JqLmNvbW1lbnRzLmxpc3RbaV1bJ2JpbmRpbmcnXSkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb21tZW50IGlzIGluIG9sZCBmb3JtYXQsIHdpbGwgbm90IGRpc3BsYXlcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtpXTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjaGFydEFyZWFXaWR0aCA9IGNvbW1lbnRPYmouY2hhcnREaXYuX2dyb3Vwc1swXVswXS5jbGllbnRXaWR0aDtcclxuICAgICAgICAgICAgdmFyIGNoYXJ0QXJlYUhlaWdodCA9IGNvbW1lbnRPYmouY2hhcnREaXYuX2dyb3Vwc1swXVswXS5jbGllbnRIZWlnaHQ7XHJcblxyXG4gICAgICAgICAgICB2YXIgeCA9IChjb21tZW50T2JqLmNvbW1lbnRzLmxpc3RbaV1bJ2JpbmRpbmcnXS54IC8gY29tbWVudE9iai5jb21tZW50cy5saXN0W2ldWydiaW5kaW5nJ10ueENoYXJ0QXJlYSAqIGNoYXJ0QXJlYVdpZHRoKTtcclxuICAgICAgICAgICAgdmFyIHkgPSAoY29tbWVudE9iai5jb21tZW50cy5saXN0W2ldWydiaW5kaW5nJ10ueSAvIGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtpXVsnYmluZGluZyddLnlDaGFydEFyZWEgKiBjaGFydEFyZWFIZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNvbW1lbnRUZXh0ID0gdmFsdWVbJ2NvbW1lbnRUZXh0J107XHJcblxyXG4gICAgICAgICAgICB2YXIgY29tbWVudEhlaWdodCA9IDgwLFxyXG4gICAgICAgICAgICAgICAgY29tbWVudFdpZHRoID0gMTg1LFxyXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSBjb21tZW50T2JqLm92ZXJsYXlEaXZQb3NpdGlvbihjb21tZW50V2lkdGgsIGNvbW1lbnRIZWlnaHQsIHgsIHkpO1xyXG5cclxuICAgICAgICAgICAgY29tbWVudE9iai5jaGFydERpdi5hcHBlbmQoJ2RpdicpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiY29tbWVudGJveC1yZWFkb25seVwiKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJpZFwiLCBcImNvbW1lbnRib3gtcmVhZG9ubHlcIiArIGkpXHJcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpXHJcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDEpXHJcbiAgICAgICAgICAgICAgICAvLy5zdHlsZShcImJvcmRlclwiLCBcIjFweCBzb2xpZCBibGFja1wiKVxyXG4gICAgICAgICAgICAgICAgLmh0bWwoXCI8dGV4dGFyZWEgcmVhZG9ubHkgc3R5bGU9J3Jlc2l6ZTpub25lJyBjbGFzcz0nY29tbWVudC10ZXh0YXJlYScgcm93cz0nNCcgY29scz0nMjcnIG5hbWU9J2NvbW1lbnQnPlwiICsgY29tbWVudFRleHQgKyBcIjwvdGV4dGFyZWE+XCIpXHJcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIHBvc2l0aW9uLnggKyBcInB4XCIpXHJcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgcG9zaXRpb24ueSArIFwicHhcIilcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbW1lbnRPYmouc2hvd0NvbW1lbnRzID0gdHJ1ZTtcclxuICAgICAgICAvL2NoYXJ0LnRvb2xCYXIuc2VsZWN0KFwiI3RvcEJhckJ1dHRvblwiK2NoYXJ0LmNvbmZpZy5uYW1lK1wic2hvd2FsbGNvbW1lbnRzXCIpLnNlbGVjdCgnYnV0dG9uJykuY2xhc3NlZCgndG9nZ2xlZCcsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29tbWVudE9iai5jaGFydERpdi5zZWxlY3RBbGwoXCIuY29tbWVudGJveC1yZWFkb25seVwiKS5yZW1vdmUoKTtcclxuICAgICAgICBjb21tZW50T2JqLnNob3dDb21tZW50cyA9IGZhbHNlO1xyXG4gICAgICAgIC8vY2hhcnQudG9vbEJhci5zZWxlY3QoXCIjdG9wQmFyQnV0dG9uXCIrY2hhcnQuY29uZmlnLm5hbWUrXCJzaG93YWxsY29tbWVudHNcIikuc2VsZWN0KCdidXR0b24nKS5jbGFzc2VkKCd0b2dnbGVkJywgZmFsc2UpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuanZDb21tZW50LnByb3RvdHlwZS5kcmF3Q29tbWVudE5vZGVzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGNvbW1lbnRPYmogPSB0aGlzO1xyXG5cclxuICAgIHZhciBjb21tZW50cyA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdDtcclxuICAgIHZhciBjaGFydERpdiA9IGNvbW1lbnRPYmouY2hhcnREaXY7XHJcbiAgICB2YXIgc3ZnID0gY2hhcnREaXYuc2VsZWN0KFwic3ZnXCIpO1xyXG5cclxuICAgIHN2Zy5zZWxlY3RBbGwoXCIubWluLWNvbW1lbnRcIikucmVtb3ZlKCk7XHJcblxyXG4gICAgZm9yICh2YXIgaSBpbiBjb21tZW50cykge1xyXG5cclxuICAgICAgICBpZiAodHlwZW9mIGNoYXJ0RGl2Ll9ncm91cHMgPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb21tZW50IGRhdGEgaXMgaW4gb2xkIGZvcm1hdCwgd2lsbCBub3QgZGlzcGxheSBvciBjaGFydCBkaXYgZG9lc250IGV4aXN0XCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWNvbW1lbnRzW2ldWydiaW5kaW5nJ10gfHwgIWNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJDb21tZW50IGRhdGEgaXMgaW4gb2xkIGZvcm1hdCwgd2lsbCBub3QgZGlzcGxheSBvciBjaGFydCBkaXYgZG9lc250IGV4aXN0XCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgdmFyIGNoYXJ0QXJlYVdpZHRoID0gY2hhcnREaXYuX2dyb3Vwc1swXVswXS5jbGllbnRXaWR0aDtcclxuICAgICAgICB2YXIgY2hhcnRBcmVhSGVpZ2h0ID0gY2hhcnREaXYuX2dyb3Vwc1swXVswXS5jbGllbnRIZWlnaHQ7XHJcblxyXG4gICAgICAgIHZhciB4ID0gKGNvbW1lbnRzW2ldWydiaW5kaW5nJ10ueCAvIGNvbW1lbnRzW2ldWydiaW5kaW5nJ10ueENoYXJ0QXJlYSAqIGNoYXJ0QXJlYVdpZHRoKTtcclxuICAgICAgICB2YXIgeSA9IChjb21tZW50c1tpXVsnYmluZGluZyddLnkgLyBjb21tZW50c1tpXVsnYmluZGluZyddLnlDaGFydEFyZWEgKiBjaGFydEFyZWFIZWlnaHQpO1xyXG5cclxuICAgICAgICBjb21tZW50c1tpXVsnYmluZGluZyddLmN1cnJlbnRYID0gKGNvbW1lbnRzW2ldWydiaW5kaW5nJ10ueCAvIGNvbW1lbnRzW2ldWydiaW5kaW5nJ10ueENoYXJ0QXJlYSAqIGNoYXJ0QXJlYVdpZHRoKTtcclxuICAgICAgICBjb21tZW50c1tpXVsnYmluZGluZyddLmN1cnJlbnRZID0gKGNvbW1lbnRzW2ldWydiaW5kaW5nJ10ueSAvIGNvbW1lbnRzW2ldWydiaW5kaW5nJ10ueUNoYXJ0QXJlYSAqIGNoYXJ0QXJlYUhlaWdodCk7XHJcblxyXG4gICAgICAgIHZhciBjb21tZW50Tm9kZSA9IHN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJtaW4tY29tbWVudFwiKVxyXG4gICAgICAgICAgICAuYXR0cihcImlkXCIsIFwibm9kZVwiICsgaSlcclxuICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwiI2U2ZTZlNlwiKVxyXG4gICAgICAgICAgICAuYXR0cihcInhcIiwgeClcclxuICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIHkpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZm9udC1mYW1pbHlcIiwgXCJGb250QXdlc29tZVwiKVxyXG4gICAgICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBcImRhcmtncmF5XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICcxNXB4JztcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAnXFx1ZjBlNSc7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCAxKVxyXG4gICAgICAgICAgICAub24oXCJkYmxjbGljay5jb21tZW50XCIsIGZ1bmN0aW9uIChub2RlKSB7Ly9FZGl0IHRleHQgb3IgZGVsZXRlIHRoZSBjb21tZW50XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnREaXYuc2VsZWN0QWxsKFwiLmNvbW1lbnRib3gtZWRpdFwiKS5fZ3JvdXBzWzBdLmxlbmd0aCA9PT0gMCAmJiBjaGFydERpdi5zZWxlY3RBbGwoXCIuY29tbWVudGJveFwiKS5fZ3JvdXBzWzBdLmxlbmd0aCA9PT0gMCkgey8vTm8gY29tbWVudHMgYXJlIG9wZW5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWVudE9iai5nZXRNb2RlKCkgPT09ICdjb21tZW50LW1vZGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRPYmouc2hvd0NvbW1lbnRzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdEFsbChcIi5jb21tZW50Ym94LXJlYWRvbmx5XCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudFRleHQgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudENvbW1lbnQ7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqIGluIGNvbW1lbnRPYmouY29tbWVudHMubGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGgucm91bmQoY29tbWVudE9iai5jb21tZW50cy5saXN0W2pdWydiaW5kaW5nJ10uY3VycmVudFgpID09PSBNYXRoLnJvdW5kKHRoaXMueC5iYXNlVmFsWzBdLnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChNYXRoLnJvdW5kKGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXVsnYmluZGluZyddLmN1cnJlbnRZKSA9PT0gTWF0aC5yb3VuZCh0aGlzLnkuYmFzZVZhbFswXS52YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudFRleHQgPSBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Rbal0uY29tbWVudFRleHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggPSBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Rbal1bJ2JpbmRpbmcnXS5jdXJyZW50WDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeSA9IGNvbW1lbnRPYmouY29tbWVudHMubGlzdFtqXVsnYmluZGluZyddLmN1cnJlbnRZO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50Q29tbWVudCA9IGo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50SGVpZ2h0ID0gMTQ1LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudFdpZHRoID0gMjAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBjb21tZW50T2JqLm92ZXJsYXlEaXZQb3NpdGlvbihjb21tZW50V2lkdGgsIGNvbW1lbnRIZWlnaHQsIHgsIHkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5hcHBlbmQoJ2RpdicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiY29tbWVudGJveC1lZGl0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIHBvc2l0aW9uLnggKyBcInB4XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgcG9zaXRpb24ueSArIFwicHhcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInBvc2l0aW9uXCIsIFwiYWJzb2x1dGVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vLnN0eWxlKFwiYm9yZGVyXCIsIFwiMXB4IHNvbGlkIGJsYWNrXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuaHRtbChcIjxkaXYgY2xhc3M9J3RpdGxlJz48Yj5FZGl0IENvbW1lbnQ8L2I+PC9kaXY+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPHRleHRhcmVhIGlkPSdlZGl0JyBzdHlsZT0ncmVzaXplOm5vbmUnIGNsYXNzPSdjb21tZW50LXRleHRhcmVhJyByb3dzPSc0JyBjb2xzPScyNycgbmFtZT0nY29tbWVudCc+XCIgKyBjb21tZW50VGV4dCArIFwiPC90ZXh0YXJlYT5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8YnI+PGJ1dHRvbiBjbGFzcz0nY29tbWVudGJveC1jbG9zZScgaWQgPSdjYW5jZWwtZWRpdCc+PGkgY2xhc3M9J2ZhIGZhLWNsb3NlJz48L2k+PC9idXR0b24+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGJ1dHRvbiBjbGFzcz0nc21zcy1idG4nIGlkID0nZGVsZXRlJz5EZWxldGU8L2J1dHRvbj5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8YnV0dG9uIGNsYXNzPSdzbXNzLWJ0bicgaWQgPSAnc2F2ZSc+U2F2ZTwvYnV0dG9uPlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdEFsbChcIi5jb21tZW50Ym94LWVkaXRcIikuc2VsZWN0KFwiI2RlbGV0ZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKFwiY2xpY2suZGVsZXRlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5zZWxlY3QoXCIuY29tbWVudGJveC1lZGl0XCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdChcIi5jb21tZW50Ym94LXJlYWRvbmx5XCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdChcIiNub2RlXCIgKyBjdXJyZW50Q29tbWVudCkuYXR0cihcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9yZWRyYXcgY29tbWVudCBub2RlcyB3aXRoIG5ldyBpbmRleGVzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudE9iai5zYXZlQ2FsbGJhY2tGdW5jdGlvbihjb21tZW50T2JqLmNvbW1lbnRzLmxpc3RbY3VycmVudENvbW1lbnRdLCBjdXJyZW50Q29tbWVudCwgJ3JlbW92ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5zZWxlY3RBbGwoXCIuY29tbWVudGJveC1lZGl0XCIpLnNlbGVjdChcIiNzYXZlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAub24oXCJjbGljay5zYXZlXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudFRleHQgPSBjaGFydERpdi5zZWxlY3QoXCIuY29tbWVudGJveC1lZGl0XCIpLnNlbGVjdChcIiNlZGl0XCIpLl9ncm91cHNbMF1bMF0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudE9iai5jb21tZW50cy5saXN0W2N1cnJlbnRDb21tZW50XS5jb21tZW50VGV4dCA9IGNvbW1lbnRUZXh0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdChcIi5jb21tZW50Ym94LXJlYWRvbmx5XCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0RGl2LnNlbGVjdChcIi5jb21tZW50Ym94LWVkaXRcIikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tbWVudE9iai5zYXZlQ2FsbGJhY2tGdW5jdGlvbihjb21tZW50T2JqLmNvbW1lbnRzLmxpc3RbY3VycmVudENvbW1lbnRdLCBjdXJyZW50Q29tbWVudCwgJ2VkaXQnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnREaXYuc2VsZWN0QWxsKFwiLmNvbW1lbnRib3gtZWRpdFwiKS5zZWxlY3QoXCIjY2FuY2VsLWVkaXRcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5vbihcImNsaWNrLmNhbmNlbC1lZGl0XCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5zZWxlY3QoXCIuY29tbWVudGJveC1yZWFkb25seVwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5zZWxlY3QoXCIuY29tbWVudGJveC1lZGl0XCIpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcIm1vdXNlZW50ZXIuY29tbWVudFwiLCBmdW5jdGlvbiAoZCkgey8vU2hvdyBob3ZlciBvdmVyIGJveCB3aGVuIG1vdXNlIGVudGVycyBub2RlXHJcbiAgICAgICAgICAgICAgICBpZiAoY29tbWVudE9iai5zaG93Q29tbWVudHMgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRUZXh0ID0gXCJcIjtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiBpbiBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGgucm91bmQoY29tbWVudE9iai5jb21tZW50cy5saXN0W2pdWydiaW5kaW5nJ10uY3VycmVudFgpID09PSBNYXRoLnJvdW5kKHRoaXMueC5iYXNlVmFsWzBdLnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE1hdGgucm91bmQoY29tbWVudE9iai5jb21tZW50cy5saXN0W2pdWydiaW5kaW5nJ10uY3VycmVudFkpID09PSBNYXRoLnJvdW5kKHRoaXMueS5iYXNlVmFsWzBdLnZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRUZXh0ID0gY29tbWVudE9iai5jb21tZW50cy5saXN0W2pdWydjb21tZW50VGV4dCddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHggPSBjb21tZW50T2JqLmNvbW1lbnRzLmxpc3Rbal1bJ2JpbmRpbmcnXS5jdXJyZW50WDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB5ID0gY29tbWVudE9iai5jb21tZW50cy5saXN0W2pdWydiaW5kaW5nJ10uY3VycmVudFk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50SGVpZ2h0ID0gODAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRXaWR0aCA9IDE4NSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb24gPSBjb21tZW50T2JqLm92ZXJsYXlEaXZQb3NpdGlvbihjb21tZW50V2lkdGgsIGNvbW1lbnRIZWlnaHQsIHgsIHkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29tbWVudERpdiA9IGNoYXJ0RGl2LmFwcGVuZCgnZGl2JylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImNvbW1lbnRib3gtcmVhZG9ubHlcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJwb3NpdGlvblwiLCBcImFic29sdXRlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vLnN0eWxlKFwiYm9yZGVyXCIsIFwiMXB4IHNvbGlkIGJsYWNrXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5odG1sKFwiPHRleHRhcmVhIHJlYWRvbmx5IHJvd3M9JzQnIHN0eWxlPSdyZXNpemU6bm9uZScgY29scz0nMjcnIGNsYXNzPSd0ZXh0YXJlYScgbmFtZT0nY29tbWVudCc+XCIgKyBjb21tZW50VGV4dCArIFwiPC90ZXh0YXJlYT5cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCBwb3NpdGlvbi54ICsgXCJweFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgcG9zaXRpb24ueSArIFwicHhcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcIm1vdXNlb3V0LmNvbW1lbnRcIiwgZnVuY3Rpb24gKGQpIHsvL1JlbW92ZSBob3ZlciBvdmVyIGJveCB3aGVuIG1vdXNlIG1vdmVzIGF3YXlcclxuICAgICAgICAgICAgICAgIGlmIChjb21tZW50T2JqLnNob3dDb21tZW50cyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBjaGFydERpdi5zZWxlY3QoXCIuY29tbWVudGJveC1yZWFkb25seVwiKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgfVxyXG59O1xyXG5cclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFV0aWxpdHkgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5qdkNvbW1lbnQucHJvdG90eXBlLm92ZXJsYXlEaXZQb3NpdGlvbiA9IGZ1bmN0aW9uIChkaXZXaWR0aCwgZGl2SGVpZ2h0LCBtb3VzZVgsIG1vdXNlWSkge1xyXG4gICAgdmFyIGNvbW1lbnRPYmogPSB0aGlzO1xyXG4gICAgdmFyIHBvc2l0aW9uID0ge307XHJcbiAgICBpZiAobW91c2VYID4gKHBhcnNlSW50KGNvbW1lbnRPYmouY2hhcnREaXYuc3R5bGUoJ3dpZHRoJykpKSAvIDIpIHtcclxuICAgICAgICBwb3NpdGlvbi54ID0gbW91c2VYIC0gZGl2V2lkdGggLSA1O1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBwb3NpdGlvbi54ID0gbW91c2VYICsgMTA7XHJcbiAgICB9XHJcbiAgICBpZiAobW91c2VZIC0gZGl2SGVpZ2h0IC0gMTAgPiAwKSB7XHJcbiAgICAgICAgcG9zaXRpb24ueSA9IG1vdXNlWSAtIGRpdkhlaWdodCAtIDEwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBwb3NpdGlvbi55ID0gbW91c2VZICsgMTA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcG9zaXRpb247XHJcbn07XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q29tbWVudDtcclxuIiwiLyoqKiAganZFZGl0ICoqKi9cclxuZnVuY3Rpb24ganZFZGl0KGNvbmZpZ09iaikge1xyXG4gICAgXCJ1c2Ugc3RyaWN0XCI7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXM7XHJcbiAgICBlZGl0T2JqLmNoYXJ0RGl2ID0gY29uZmlnT2JqLmNoYXJ0RGl2O1xyXG4gICAgZWRpdE9iai5lZGl0T3B0aW9ucyA9ICcnO1xyXG4gICAgZWRpdE9iai52aXpPcHRpb25zID0gY29uZmlnT2JqLnZpek9wdGlvbnMgPyBjb25maWdPYmoudml6T3B0aW9ucyA6IHt9O1xyXG4gICAgZWRpdE9iai5mb250U2l6ZUluY3JlbWVudCA9IDA7XHJcbiAgICBlZGl0T2JqLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICBlZGl0T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbCgnLmVkaXQtZGl2JykucmVtb3ZlKCk7XHJcbiAgICBlZGl0T2JqLmVkaXREaXYgPSBlZGl0T2JqLmNoYXJ0RGl2LmFwcGVuZCgnZGl2JykuYXR0cignY2xhc3MnLCAnZWRpdC1kaXYgc2Vtb3NzLWQzLXRpcCBhYnNvbHV0ZScpO1xyXG4gICAgZWRpdE9iai5hcHBseUFsbEVkaXRzKCk7XHJcbiAgICBlZGl0T2JqLnNhdmVWaXpPcHRpb25zID0gY29uZmlnT2JqLnNhdmVWaXpPcHRpb25zRnVuY3Rpb247XHJcbiAgICBlZGl0T2JqLnRvZ2dsZUVkaXRNb2RlID0gZnVuY3Rpb24gKHRvZ2dsZUJvb2wpIHtcclxuICAgICAgICB2YXIgZW50aXJlU3ZnID0gZWRpdE9iai5jaGFydERpdi5zZWxlY3QoXCJzdmdcIik7XHJcbiAgICAgICAgaWYgKHRvZ2dsZUJvb2wpIHtcclxuICAgICAgICAgICAgZW50aXJlU3ZnLnNlbGVjdEFsbChcIi5ldmVudC1yZWN0XCIpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImRpc3BsYXlcIiwgXCJub25lXCIpO1xyXG4gICAgICAgICAgICBlbnRpcmVTdmcub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy9lZGl0IG1vZGUgZXZlbnRzXHJcbiAgICAgICAgICAgICAgICAvL2dvaW5nIHRvIGJlIG1vdXNlb3ZlciB0byBoaWdobGlnaHQgb3B0aW9ucyBmb3Igd2hhdGV2ZXIgcGllY2UgeW91IGhvdmVyIG92ZXJcclxuICAgICAgICAgICAgICAgIHZhciBjbGFzc1RleHQgPSBkMy5zZWxlY3QoZDMuZXZlbnQudGFyZ2V0KS5hdHRyKCdjbGFzcycpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGNsYXNzVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc1RleHQuaW5kZXhPZignZWRpdGFibGUnKSA+PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVkaXRPYmouZGlzcGxheUVkaXQodGhpcywgY2xhc3NUZXh0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbnRpcmVTdmcuc2VsZWN0QWxsKCcuZWRpdGFibGUnKS5jbGFzc2VkKCdwb2ludGVyJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGVudGlyZVN2Zy5vbignZGJsY2xpY2snLCBmYWxzZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZWRpdE9iai5yZW1vdmVFZGl0KCk7XHJcbiAgICAgICAgICAgIGVudGlyZVN2Zy5zZWxlY3RBbGwoJy5lZGl0YWJsZScpLmNsYXNzZWQoJ3BvaW50ZXInLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGVudGlyZVN2Zy5zZWxlY3RBbGwoXCIuZXZlbnQtcmVjdFwiKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBBbGwgRWRpdCBNb2RlIEZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKiBkaXNwbGF5RWRpdFxyXG4gKlxyXG4gKiBEaXNwbGF5cyB0aGUgZWRpdCBkaXYsIGdyYWJiaW5nIGl0IGZyb20gdGhlIHRlbXBsYXRlXHJcbiAqXHJcbiAqL1xyXG5qdkVkaXQucHJvdG90eXBlLmRpc3BsYXlFZGl0ID0gZnVuY3Rpb24gKGV2ZW50LCBvcHRpb25zKSB7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXM7XHJcblxyXG4gICAgLy9yZXR1cm4gaWYgeW91IGNsaWNrIG9uIHRoZSBzYW1lIGVsZW1lbnQgdHdpY2UsIG5vIG5lZWQgdG8gZGlzcGxheSBhIHNlY29uZCBlZGl0IGRpdiBpZiB0aGUgY3VycmVudCBvbmUgaXMgc3RpbGwgb3BlblxyXG4gICAgaWYgKGVkaXRPYmouZWRpdE9wdGlvbnMgPT09IG9wdGlvbnMpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBlZGl0T2JqLmVkaXREaXYuaHRtbCgnJyk7XHJcbiAgICBlZGl0T2JqLmVkaXRPcHRpb25zID0gb3B0aW9ucztcclxuICAgIHZhciBtb3VzZVggPSBkMy5tb3VzZShldmVudClbMF0sXHJcbiAgICAgICAgbW91c2VZID0gZDMubW91c2UoZXZlbnQpWzFdO1xyXG5cclxuXHJcbiAgICAvL2dldCB0aGUgZWRpdCB0ZW1wbGF0ZSBodG1sIGFuZCB0aGVuIGRldGVybWluZSB3aGljaCBwaWVjZXMgdG8gc2hvd1xyXG4gICAgJC5nZXQoJ3Jlc291cmNlcy9qcy9qdkNoYXJ0cy9zcmMvZWRpdE9wdGlvbnNUZW1wbGF0ZS5odG1sJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAvL2Fzc2lnbiBodG1sIHRvIGVkaXREaXYgKGJhc2ljYWxseSBkaXNwbGF5cyB0aGUgZGl2KVxyXG4gICAgICAgIGVkaXRPYmouZWRpdERpdi5odG1sKGRhdGEpO1xyXG5cclxuICAgICAgICAvL29wdGlvblZhbHVlcyAtIGFuIGFycmF5IG9mIHN0cmluZ3MuXHJcbiAgICAgICAgLy8gICAgICBTdHJpbmcgaXMgdGhlIGlkIHRvIHRoZSBlbGVtZW50IGluIHRoZSBlZGl0RGl2IGZvcm0uXHJcbiAgICAgICAgLy8gICAgICBUaGlzIHN0cmluZyBjb250YWlucyB0aGUgc3BlY2lmaWMgb3B0aW9uIHRoYXQgaXMgYmVpbmcgY2hhbmdlZFxyXG5cclxuICAgICAgICAvL2l0ZW1Ub0NoYW5nZVxyXG4gICAgICAgIC8vICAgICAgU3RyaW5nIHRoYXQgaXMgdGhlIGNsYXNzIG9mIHRoZSBzdmcgZWxlbWVudCB0byBiZSBjaGFuZ2VkIG9uIHRoZSB2aXogaXRzZWxmXHJcblxyXG5cclxuICAgICAgICB2YXIgb3B0aW9uVmFsdWVzID0gW10sXHJcbiAgICAgICAgICAgIGl0ZW1Ub0NoYW5nZSA9ICcnLFxyXG4gICAgICAgICAgICBlZGl0T3B0aW9uRWxlbWVudCA9IGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIjZWRpdC1vcHRpb24tZWxlbWVudFwiKTtcclxuXHJcbiAgICAgICAgLy9pZiBzdGF0ZW1lbnRzIHRvIGRldGVybWluZSB3aGljaCBlZGl0IG9wdGlvbnMgdG8gZGlzcGxheVxyXG4gICAgICAgIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLXlBeGlzJykgPj0gMCkge1xyXG4gICAgICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgWSBBeGlzJyk7XHJcbiAgICAgICAgICAgIGVkaXRPcHRpb25FbGVtZW50LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICAgICAgaXRlbVRvQ2hhbmdlID0gJ3lBeGlzJztcclxuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUteEF4aXMnKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGVkaXRPcHRpb25FbGVtZW50Lmh0bWwoJyZuYnNwO2ZvciBYIEF4aXMnKTtcclxuICAgICAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgICAgICBpdGVtVG9DaGFuZ2UgPSAneEF4aXMnO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCd5TGFiZWwnKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGVkaXRPcHRpb25FbGVtZW50Lmh0bWwoJyZuYnNwO2ZvciBZIExhYmVsJyk7XHJcbiAgICAgICAgICAgIGVkaXRPcHRpb25FbGVtZW50LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICAgICAgaXRlbVRvQ2hhbmdlID0gJ3lMYWJlbCc7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ3hMYWJlbCcpID49IDApIHtcclxuICAgICAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIFggTGFiZWwnKTtcclxuICAgICAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgICAgICBpdGVtVG9DaGFuZ2UgPSAneExhYmVsJztcclxuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZignbGVnZW5kVGV4dCcpID49IDApIHtcclxuICAgICAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIExlZ2VuZCBJdGVtJyk7XHJcbiAgICAgICAgICAgIGVkaXRPcHRpb25FbGVtZW50LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICAgICAgaXRlbVRvQ2hhbmdlID0gb3B0aW9ucy5zdWJzdHJpbmcob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1sZWdlbmQtJykpLnNwbGl0KCcgJylbMF07XHJcbiAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmluZGV4T2YoJ2VkaXRhYmxlLWJhcicpID49IDApIHtcclxuICAgICAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuaHRtbCgnJm5ic3A7Zm9yIEJhciBDaGFydCcpO1xyXG4gICAgICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5zdHlsZSgndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7XHJcbiAgICAgICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIuZWRpdGFibGUtYmFyXCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgIG9wdGlvblZhbHVlcy5wdXNoKCdlZGl0YWJsZS1iYXInKTtcclxuICAgICAgICAgICAgaXRlbVRvQ2hhbmdlID0gb3B0aW9ucy5zdWJzdHJpbmcob3B0aW9ucy5pbmRleE9mKCdiYXItY29sLScpKS5zcGxpdCgnICcpWzBdO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1waWUnKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGVkaXRPcHRpb25FbGVtZW50Lmh0bWwoJyZuYnNwO2ZvciBQaWUgU2xpY2UnKTtcclxuICAgICAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiLmVkaXRhYmxlLXBpZVwiKS5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtcGllJyk7XHJcbiAgICAgICAgICAgIGl0ZW1Ub0NoYW5nZSA9IG9wdGlvbnMuc3Vic3RyaW5nKG9wdGlvbnMuaW5kZXhPZigncGllLXNsaWNlLScpKS5zcGxpdCgnICcpWzBdO1xyXG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1zY2F0dGVyJykgPj0gMCkge1xyXG4gICAgICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgU2NhdHRlciBQbG90Jyk7XHJcbiAgICAgICAgICAgIGVkaXRPcHRpb25FbGVtZW50LnN0eWxlKCd2aXNpYmlsaXR5JywgJ3Zpc2libGUnKTtcclxuICAgICAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIi5lZGl0YWJsZS1zY2F0dGVyXCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgIG9wdGlvblZhbHVlcy5wdXNoKCdlZGl0YWJsZS1zY2F0dGVyJyk7XHJcbiAgICAgICAgICAgIGl0ZW1Ub0NoYW5nZSA9IG9wdGlvbnMuc3Vic3RyaW5nKG9wdGlvbnMuaW5kZXhPZignc2NhdHRlci1jaXJjbGUtJykpLnNwbGl0KCcgJylbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG9wdGlvbnMuaW5kZXhPZignZWRpdGFibGUtc3ZnJykgPj0gMCkge1xyXG4gICAgICAgICAgICBlZGl0T3B0aW9uRWxlbWVudC5odG1sKCcmbmJzcDtmb3IgQWxsIFRleHQnKTtcclxuICAgICAgICAgICAgZWRpdE9wdGlvbkVsZW1lbnQuc3R5bGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xyXG4gICAgICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiLmVkaXRhYmxlLXRleHQtc2l6ZS1idXR0b25zXCIpLnN0eWxlKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XHJcbiAgICAgICAgICAgIC8vZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIi5lZGl0YWJsZS1kZWZhdWx0LWFuZC1hcHBseVwiKS5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XHJcbiAgICAgICAgICAgIG9wdGlvblZhbHVlcy5wdXNoKCdlZGl0YWJsZS10ZXh0LXNpemUnKTtcclxuICAgICAgICAgICAgaXRlbVRvQ2hhbmdlID0gJ3N2Zyc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN0aWxsIG5lZWQgdG8gYWRkIG9wdGlvbiB0byBkaXNwbGF5IGVkaXRcIik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1udW0nKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIGVkaXRPYmouZWRpdERpdi5zZWxlY3QoXCIuZWRpdGFibGUtbnVtLWZvcm1hdFwiKS5zdHlsZSgnZGlzcGxheScsICdibG9jaycpO1xyXG4gICAgICAgICAgICBvcHRpb25WYWx1ZXMucHVzaCgnZWRpdGFibGUtbnVtLWZvcm1hdCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS10ZXh0JykgPj0gMCkge1xyXG4gICAgICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiLmVkaXRhYmxlLXRleHQtY29sb3JcIikuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLXRleHQtY29sb3InKTtcclxuICAgICAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIi5lZGl0YWJsZS10ZXh0LXNpemVcIikuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLXRleHQtc2l6ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9ucy5pbmRleE9mKCdlZGl0YWJsZS1jb250ZW50JykgPj0gMCkge1xyXG4gICAgICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiLmVkaXRhYmxlLWNvbnRlbnRcIikuc3R5bGUoJ2Rpc3BsYXknLCAnYmxvY2snKTtcclxuICAgICAgICAgICAgb3B0aW9uVmFsdWVzLnB1c2goJ2VkaXRhYmxlLWNvbnRlbnQnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vcG9wdWxhdGUgZWRpdCBkaXYgd2l0aCBpbml0aWFsIHZhbHVlc1xyXG4gICAgICAgIGlmIChlZGl0T2JqLnZpek9wdGlvbnNbaXRlbVRvQ2hhbmdlXSkge1xyXG4gICAgICAgICAgICBwb3B1bGF0ZVNlbGVjdGlvbnNFZGl0TW9kZShlZGl0T2JqLmVkaXREaXYsIGVkaXRPYmoudml6T3B0aW9uc1tpdGVtVG9DaGFuZ2VdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2XHJcbiAgICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdibG9jaycpXHJcbiAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgMCArICdweCcpXHJcbiAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAwICsgJ3B4Jyk7XHJcblxyXG4gICAgICAgIC8vY2FsY3VsYXRlIHBvc2l0aW9uIG9mIG92ZXJsYXkgZGl2XHJcbiAgICAgICAgdmFyIGVkaXRIZWlnaHQgPSBwYXJzZUZsb2F0KGVkaXRPYmouZWRpdERpdi5zdHlsZSgnaGVpZ2h0JykpLFxyXG4gICAgICAgICAgICBlZGl0V2lkdGggPSBwYXJzZUZsb2F0KGVkaXRPYmouZWRpdERpdi5zdHlsZSgnd2lkdGgnKSksXHJcbiAgICAgICAgICAgIHBvc2l0aW9uID0gZWRpdE9iai5vdmVybGF5RGl2UG9zaXRpb24oZWRpdFdpZHRoLCBlZGl0SGVpZ2h0LCBtb3VzZVgsIG1vdXNlWSk7XHJcblxyXG4gICAgICAgIC8vc2hvdyB0aGUgbmV3IGVkaXQgZGl2XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2XHJcbiAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgcG9zaXRpb24ueCArICdweCcpXHJcbiAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCBwb3NpdGlvbi55ICsgJ3B4Jyk7XHJcblxyXG4gICAgICAgIC8vYWRkIHN1Ym1pdCwgZGVmYXVsdCwgYW5kIGV4aXQgbGlzdGVuZXJzIHRvIHRoZSBkaXZcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KCcjc3VibWl0RWRpdE1vZGUnKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc3VibWl0RWRpdE1vZGUoZWRpdE9iaiwgb3B0aW9uVmFsdWVzLCBpdGVtVG9DaGFuZ2UpO1xyXG4gICAgICAgICAgICBlZGl0T2JqLnJlbW92ZUVkaXQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KCcjc3VibWl0RWRpdE1vZGVEZWZhdWx0Jykub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHN1Ym1pdEVkaXRNb2RlKGVkaXRPYmosIG9wdGlvblZhbHVlcywgaXRlbVRvQ2hhbmdlLCB0cnVlKTtcclxuICAgICAgICAgICAgZWRpdE9iai5yZW1vdmVFZGl0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdCgnI2V4aXRFZGl0TW9kZScpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0T2JqLnJlbW92ZUVkaXQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50ID0gMDtcclxuICAgICAgICAvL0FkZGluZyBjbGljayBldmVudHMgZm9yIGluY3JlYXNlL2RlY3JlYXNlIGZvbnQgc2l6ZSBidXR0b25zXHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2LnNlbGVjdChcIiNpbmNyZWFzZUZvbnRTaXplXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlZGl0T2JqLmluY3JlYXNlRm9udFNpemUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KFwiI2RlY3JlYXNlRm9udFNpemVcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGVkaXRPYmouZGVjcmVhc2VGb250U2l6ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vKiogaW5jcmVhc2VGb250U2l6ZVxyXG4gKlxyXG4gKiBJbmNyZWFzZXMgdGhlIGZvbnQgc2l6ZSBieSAxIHdoZW4gaW5jcmVhc2VkIHZpYSBlZGl0IG9wdGlvbnMgZm9yIGFsbCB0ZXh0XHJcbiAqXHJcbiAqL1xyXG5qdkVkaXQucHJvdG90eXBlLmluY3JlYXNlRm9udFNpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXMsXHJcbiAgICAgICAgZm9udEluY3JlbWVudCA9IDEsXHJcbiAgICAgICAgbWF4U2l6ZSA9IDI4O1xyXG4gICAgaWYoZWRpdE9iai5mb250U2l6ZUluY3JlbWVudCA8IG1heFNpemUpIHtcclxuICAgICAgICBlZGl0T2JqLmNoYW5nZUZvbnRTaXplKGZvbnRJbmNyZW1lbnQpO1xyXG4gICAgICAgIGVkaXRPYmouZm9udFNpemVJbmNyZW1lbnQrKztcclxuICAgICAgICBlZGl0T2JqLnZpek9wdGlvbnNbXCJ0ZXh0XCJdID0geydlZGl0YWJsZS10ZXh0LWluY3JlbWVudCc6IGVkaXRPYmouZm9udFNpemVJbmNyZW1lbnR9O1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqIGRlY3JlYXNlRm9udFNpemVcclxuICpcclxuICogRGVjcmVhc2VzIHRoZSBmb250IHNpemUgYnkgMSB3aGVuIGRlY3JlYXNlZCB2aWEgZWRpdCBvcHRpb25zIGZvciBhbGwgdGV4dFxyXG4gKlxyXG4gKi9cclxuanZFZGl0LnByb3RvdHlwZS5kZWNyZWFzZUZvbnRTaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGVkaXRPYmogPSB0aGlzLFxyXG4gICAgICAgIGZvbnREZWNyZW1lbnQgPSAtMSxcclxuICAgICAgICBtaW5TaXplID0gLTEyO1xyXG4gICAgLy9taW4gc2l6ZSBpcyBuZWcgMTIgYmVjYXVzZSBkZWZhdWx0IHNpemUgaXMgMTJweCBvbiBvdXIgY2hhcnRzXHJcbiAgICBpZihlZGl0T2JqLmZvbnRTaXplSW5jcmVtZW50ID4gbWluU2l6ZSkge1xyXG4gICAgICAgIGVkaXRPYmouY2hhbmdlRm9udFNpemUoZm9udERlY3JlbWVudCk7XHJcbiAgICAgICAgZWRpdE9iai5mb250U2l6ZUluY3JlbWVudC0tO1xyXG4gICAgICAgIGVkaXRPYmoudml6T3B0aW9uc1tcInRleHRcIl0gPSB7J2VkaXRhYmxlLXRleHQtaW5jcmVtZW50JzogZWRpdE9iai5mb250U2l6ZUluY3JlbWVudH07XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKiogY2hhbmdlRm9udFNpemVcclxuICpcclxuICogSW5jcmVhc2VzIG9yIGRlY3JlYXNlcyBmb250IHNpemUgYnkgYSBjZXJ0YWluIGluY3JlbWVudFxyXG4gKlxyXG4gKi9cclxuanZFZGl0LnByb3RvdHlwZS5jaGFuZ2VGb250U2l6ZSA9IGZ1bmN0aW9uIChpbmNyZW1lbnQpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcyxcclxuICAgICAgICBuZXdTaXplO1xyXG5cclxuICAgIGVkaXRPYmouY2hhcnREaXYuc2VsZWN0QWxsKCd0ZXh0JykuZWFjaChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgIHZhciB0aGlzRGl2ID0gdGhpcyxcclxuICAgICAgICAgICAgdGV4dFNpemUgPSAxMjtcclxuICAgICAgICBpZiAodGhpc0Rpdi5nZXRBdHRyaWJ1dGUoJ2ZvbnQtc2l6ZScpKSB7XHJcbiAgICAgICAgICAgIHRleHRTaXplID0gdGhpc0Rpdi5nZXRBdHRyaWJ1dGUoJ2ZvbnQtc2l6ZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBuZXdTaXplID0gcGFyc2VJbnQodGV4dFNpemUpICsgaW5jcmVtZW50O1xyXG4gICAgICAgIHRoaXNEaXYuc2V0QXR0cmlidXRlKCdmb250LXNpemUnLCBuZXdTaXplKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbi8qKiBwb3B1bGF0ZVNlbGVjdGlvbnNFZGl0TW9kZVxyXG4gKlxyXG4gKiBJbml0aWFsbHkgcG9wdWxhdGVzIHRoZSBlZGl0RGl2IGlmIHRoZXJlIGFyZSB2aXpPcHRpb25zXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBwb3B1bGF0ZVNlbGVjdGlvbnNFZGl0TW9kZShlZGl0RGl2LCB2aXpPcHRpb25zKSB7XHJcbiAgICBmb3IgKHZhciBvcHRpb24gaW4gdml6T3B0aW9ucykge1xyXG4gICAgICAgIGlmICh2aXpPcHRpb25zLmhhc093blByb3BlcnR5KG9wdGlvbikpIHtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdGVkT2JqZWN0ID0gZWRpdERpdi5zZWxlY3QoJyMnICsgb3B0aW9uKS5fZ3JvdXBzWzBdWzBdO1xyXG4gICAgICAgICAgICAvL2RlZmF1bHQgY29sb3IgaW5wdXRzIHRvIGdyYXlcclxuICAgICAgICAgICAgaWYgKHZpek9wdGlvbnNbb3B0aW9uXSA9PT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRPYmplY3QudHlwZSA9PT0gJ2NvbG9yJykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE9iamVjdC5pZC5pbmRleE9mKCd0ZXh0JykgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnZhbHVlID0gJyMwMDAwMDAnO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnZhbHVlID0gJyNhYWFhYWEnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnZhbHVlID0gdml6T3B0aW9uc1tvcHRpb25dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKiogc3VibWl0RWRpdE1vZGVcclxuICpcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIHN1Ym1pdEVkaXRNb2RlKGVkaXRPYmosIG9wdGlvblZhbHVlcywgaXRlbVRvQ2hhbmdlLCBkZWZhdWx0QnRuQ2xpY2tlZCkge1xyXG4gICAgdmFyIG9wdGlvbkFycmF5ID0gb3B0aW9uVmFsdWVzLFxyXG4gICAgICAgIHNlbGVjdGVkRWRpdE9wdGlvbnMgPSB7fSxcclxuICAgICAgICBlZGl0VmFsdWUsXHJcbiAgICAgICAgc2VsZWN0ZWRPYmo7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcHRpb25BcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChvcHRpb25BcnJheVtpXS5pbmRleE9mKCdlZGl0YWJsZS1sZWdlbmQnKSA+IDApIHtcclxuICAgICAgICAgICAgLy9jaGFuZ2UgaXRlbSB0byBjaGFuZ2UgZm9yIGxlZ2VuZCBlbGVtZW50c1xyXG4gICAgICAgICAgICBpdGVtVG9DaGFuZ2UgPSBvcHRpb25BcnJheVtpXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2VsZWN0ZWRPYmogPSBlZGl0T2JqLmVkaXREaXYuc2VsZWN0KCcjJyArIG9wdGlvbkFycmF5W2ldKTtcclxuICAgICAgICAvL3NlZSBpZiBzZWxlY3RlZCBvYmplY3QgZXhpc3RzXHJcbiAgICAgICAgaWYgKHNlbGVjdGVkT2JqICYmIHNlbGVjdGVkT2JqLl9ncm91cHNbMF0gJiYgc2VsZWN0ZWRPYmouX2dyb3Vwc1swXVswXSkge1xyXG4gICAgICAgICAgICBlZGl0VmFsdWUgPSBzZWxlY3RlZE9iai5fZ3JvdXBzWzBdWzBdLnZhbHVlO1xyXG4gICAgICAgICAgICAvL2dldCBzZWxlY3RlZCBvcHRpb24gZnJvbSBlZGl0IGRpdlxyXG4gICAgICAgICAgICBpZiAob3B0aW9uQXJyYXlbaV0gPT09ICdlZGl0YWJsZS1jb250ZW50JyAmJiBlZGl0VmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAvL2RvbnQgYWRkIGFuIGVtcHR5IHN0cmluZyB0byB0aGUgdml6IG9wdGlvbnMgZm9yIGVkaXRhYmxlIGNvbnRlbnRcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHNlbGVjdGVkRWRpdE9wdGlvbnNbb3B0aW9uQXJyYXlbaV1dID0gZWRpdFZhbHVlO1xyXG4gICAgICAgICAgICBpZiAoKCFzZWxlY3RlZEVkaXRPcHRpb25zW29wdGlvbkFycmF5W2ldXSkgJiYgb3B0aW9uQXJyYXlbaV0uaW5kZXhPZignY29udGVudCcpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRFZGl0T3B0aW9uc1tvcHRpb25BcnJheVtpXV0gPSAnZGVmYXVsdCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYoZGVmYXVsdEJ0bkNsaWNrZWQpe1xyXG4gICAgICAgIGlmKGl0ZW1Ub0NoYW5nZSA9PT0gJ3N2ZycpIHtcclxuICAgICAgICAgICAgZGVsZXRlIGVkaXRPYmoudml6T3B0aW9uc1sndGV4dCddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGUgZWRpdE9iai52aXpPcHRpb25zW2l0ZW1Ub0NoYW5nZV07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVkaXRPYmoudml6T3B0aW9uc1tpdGVtVG9DaGFuZ2VdID0gc2VsZWN0ZWRFZGl0T3B0aW9ucztcclxuICAgIH1cclxuXHJcbiAgICBpZihpdGVtVG9DaGFuZ2UgPT09ICdzdmcnKSB7XHJcbiAgICAgICAgZGVsZXRlIGVkaXRPYmoudml6T3B0aW9uc1snc3ZnJ107XHJcbiAgICB9XHJcblxyXG4gICAgLy9zYXZlIHZpek9wdGlvbnNcclxuICAgIGVkaXRPYmouc2F2ZVZpek9wdGlvbnMoZWRpdE9iai52aXpPcHRpb25zKTtcclxufVxyXG5cclxuXHJcbmp2RWRpdC5wcm90b3R5cGUuYXBwbHlFZGl0TW9kZSA9IGZ1bmN0aW9uIChpdGVtVG9DaGFuZ2UsIG9wdGlvbnMpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcztcclxuICAgIHZhciBvYmplY3QgPSBlZGl0T2JqLmNoYXJ0RGl2LnNlbGVjdChcIi5cIiArIGl0ZW1Ub0NoYW5nZSk7XHJcbiAgICB2YXIgb2JqZWN0R3JvdXBzID0gb2JqZWN0Ll9ncm91cHM7XHJcbiAgICB2YXIgb2JqZWN0VGFnTmFtZSA9IG9iamVjdEdyb3Vwc1swXVswXSA/IG9iamVjdEdyb3Vwc1swXVswXS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgOiBudWxsO1xyXG5cclxuICAgIGlmIChpdGVtVG9DaGFuZ2UgPT09ICd0ZXh0Jykge1xyXG4gICAgICAgIC8vZG8gc29tZXRoaW5nIGlmIGl0IGlzIGFsbCB0aGUgdGV4dCB0aGF0IGlzIGJlaW5nIGNoYW5nZWRcclxuICAgICAgICBvYmplY3QgPSBlZGl0T2JqLmNoYXJ0RGl2LnNlbGVjdEFsbChcInRleHRcIik7XHJcbiAgICB9XHJcblxyXG4gICAgLy9vcHRpb25zIGJ5IHRhZ05hbWVcclxuICAgIGlmIChvYmplY3RUYWdOYW1lID09PSAnZycpIHtcclxuICAgICAgICBvYmplY3QgPSBlZGl0T2JqLmNoYXJ0RGl2LnNlbGVjdChcIi5cIiArIGl0ZW1Ub0NoYW5nZSkuc2VsZWN0QWxsKCd0ZXh0Jyk7XHJcbiAgICB9IGVsc2UgaWYgKG9iamVjdFRhZ05hbWUgPT09ICdyZWN0Jykge1xyXG4gICAgICAgIGlmIChvcHRpb25zWydlZGl0YWJsZS1iYXInXSkge1xyXG4gICAgICAgICAgICBvYmplY3QuYXR0cignZmlsbCcsIG9wdGlvbnNbJ2VkaXRhYmxlLWJhciddKTtcclxuICAgICAgICB9XHJcbiAgICB9IGVsc2UgaWYgKG9iamVjdFRhZ05hbWUgPT09ICdjaXJjbGUnKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnNbJ2VkaXRhYmxlLXNjYXR0ZXInXSkge1xyXG4gICAgICAgICAgICBvYmplY3QuYXR0cignZmlsbCcsIG9wdGlvbnNbJ2VkaXRhYmxlLXNjYXR0ZXInXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChvYmplY3RUYWdOYW1lID09PSAncGF0aCcpIHtcclxuICAgICAgICBpZiAob3B0aW9uc1snZWRpdGFibGUtcGllJ10pIHtcclxuICAgICAgICAgICAgb2JqZWN0LmF0dHIoJ2ZpbGwnLCBvcHRpb25zWydlZGl0YWJsZS1waWUnXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vc3RhbmRhcmQgb3B0aW9uc1xyXG4gICAgLy9JZiBhIHRleHQgaW5jcmVtZW50IGV4aXN0cywgYXBwbHkgaXQgYmFzZWQgb24gdGhlIHNpZ24gb2YgdGhlIHZhcmlhYmxlXHJcbiAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZWRpdGFibGUtdGV4dC1pbmNyZW1lbnQnKSkge1xyXG4gICAgICAgIGVkaXRPYmouY2hhbmdlRm9udFNpemUob3B0aW9uc1snZWRpdGFibGUtdGV4dC1pbmNyZW1lbnQnXSk7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eSgnZWRpdGFibGUtdGV4dC1zaXplJykpIHtcclxuICAgICAgICBvYmplY3Quc3R5bGUoJ2ZvbnQtc2l6ZScsIG9wdGlvbnNbJ2VkaXRhYmxlLXRleHQtc2l6ZSddKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdlZGl0YWJsZS10ZXh0LWNvbG9yJykpIHtcclxuICAgICAgICBvYmplY3Quc3R5bGUoJ2ZpbGwnLCBvcHRpb25zWydlZGl0YWJsZS10ZXh0LWNvbG9yJ10pO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2VkaXRhYmxlLW51bS1mb3JtYXQnKSkge1xyXG4gICAgICAgIHZhciBleHByZXNzaW9uID0gZ2V0Rm9ybWF0RXhwcmVzc2lvbihvcHRpb25zWydlZGl0YWJsZS1udW0tZm9ybWF0J10pO1xyXG4gICAgICAgIG9iamVjdFxyXG4gICAgICAgICAgICAudHJhbnNpdGlvbigpXHJcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGQpICYmIHR5cGVvZiBleHByZXNzaW9uID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChleHByZXNzaW9uKGQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdlZGl0YWJsZS1jb250ZW50JykpIHtcclxuICAgICAgICBpZiAob3B0aW9uc1snZWRpdGFibGUtY29udGVudCddLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgb2JqZWN0Lmh0bWwob3B0aW9uc1snZWRpdGFibGUtY29udGVudCddKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlZGl0T2JqLnJlbW92ZUVkaXQoKTtcclxufTtcclxuXHJcbmp2RWRpdC5wcm90b3R5cGUuYXBwbHlBbGxFZGl0cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcztcclxuXHJcbiAgICBmb3IgKHZhciBvcHRpb24gaW4gZWRpdE9iai52aXpPcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKGVkaXRPYmoudml6T3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHRpb24pICYmIGVkaXRPYmouY2hhcnREaXYuc2VsZWN0KG9wdGlvbikpIHtcclxuICAgICAgICAgICAgZWRpdE9iai5hcHBseUVkaXRNb2RlKG9wdGlvbiwgZWRpdE9iai52aXpPcHRpb25zW29wdGlvbl0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbmp2RWRpdC5wcm90b3R5cGUucmVtb3ZlRWRpdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBlZGl0T2JqID0gdGhpcztcclxuICAgIGlmIChlZGl0T2JqLmVkaXREaXYpIHtcclxuICAgICAgICBlZGl0T2JqLmVkaXREaXYuaHRtbCgnJyk7XHJcbiAgICAgICAgZWRpdE9iai5lZGl0RGl2XHJcbiAgICAgICAgICAgIC5zdHlsZSgnZGlzcGxheScsICdub25lJyk7XHJcbiAgICB9XHJcbiAgICBlZGl0T2JqLmVkaXRPcHRpb25zID0gJyc7XHJcbn07XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogVXRpbGl0eSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbmp2RWRpdC5wcm90b3R5cGUub3ZlcmxheURpdlBvc2l0aW9uID0gZnVuY3Rpb24gKGRpdldpZHRoLCBkaXZIZWlnaHQsIG1vdXNlWCwgbW91c2VZKSB7XHJcbiAgICB2YXIgZWRpdE9iaiA9IHRoaXM7XHJcbiAgICB2YXIgcG9zaXRpb24gPSB7fTtcclxuICAgIGlmIChtb3VzZVggPiAocGFyc2VJbnQoZWRpdE9iai5jaGFydERpdi5zdHlsZSgnd2lkdGgnKSkpIC8gMikge1xyXG4gICAgICAgIHBvc2l0aW9uLnggPSBtb3VzZVggLSBkaXZXaWR0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcG9zaXRpb24ueCA9IG1vdXNlWDtcclxuICAgIH1cclxuICAgIGlmIChtb3VzZVkgLSBkaXZIZWlnaHQgLSAxMCA+IDApIHtcclxuICAgICAgICBwb3NpdGlvbi55ID0gbW91c2VZIC0gZGl2SGVpZ2h0IC0gMTA7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBvc2l0aW9uLnkgPSBtb3VzZVkgKyAxMDtcclxuICAgIH1cclxuICAgIHJldHVybiBwb3NpdGlvbjtcclxufTtcclxuXHJcbi8qKiBnZXRGb3JtYXRFeHByZXNzaW9uXHJcbiAqXHJcbiAqIEBkZXNjIHJldHVybnMgdGhlIGQzIGZvcm1hdCBleHByZXNzaW9uIGZvciBhIGdpdmVuIG9wdGlvblxyXG4gKiBAcGFyYW1zIG9wdGlvblxyXG4gKiBAcmV0dXJucyBzdHJpbmcgZXhwcmVzc2lvblxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Rm9ybWF0RXhwcmVzc2lvbihvcHRpb24pIHtcclxuICAgIHZhciBleHByZXNzaW9uID0gJyc7XHJcbiAgICBpZiAob3B0aW9uID09PSBcImN1cnJlbmN5XCIpIHtcclxuICAgICAgICBleHByZXNzaW9uID0gZDMuZm9ybWF0KFwiJCxcIik7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSBcImZpeGVkQ3VycmVuY3lcIikge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoXCIoJC4yZlwiKTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb24gPT09IFwicGVyY2VudFwiKSB7XHJcbiAgICAgICAgdmFyIHAgPSBNYXRoLm1heCgwLCBkMy5wcmVjaXNpb25GaXhlZCgwLjA1KSAtIDIpO1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoXCIuXCIgKyBwICsgXCIlXCIpO1xyXG4gICAgfVxyXG4gICAgaWYgKG9wdGlvbiA9PT0gXCJtaWxsaW9uc1wiKSB7XHJcbiAgICAgICAgdmFyIHAgPSBkMy5wcmVjaXNpb25QcmVmaXgoMWU1LCAxLjNlNik7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdFByZWZpeChcIi5cIiArIHAsIDEuM2U2KTtcclxuICAgIH1cclxuICAgIGlmIChvcHRpb24gPT09ICdjb21tYXMnKSB7XHJcbiAgICAgICAgZXhwcmVzc2lvbiA9IGQzLmZvcm1hdChcIiwuMGZcIik7XHJcbiAgICB9XHJcbiAgICBpZiAob3B0aW9uID09PSAnbm9uZScgfHwgb3B0aW9uID09PSAnJykge1xyXG4gICAgICAgIGV4cHJlc3Npb24gPSBkMy5mb3JtYXQoXCJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGV4cHJlc3Npb247XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFlBeGlzTGFiZWxXaWR0aCh0ZXh0U2l6ZSl7XHJcblxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2RWRpdDtcclxuIiwiLyoqKiAganZFZGl0ICoqKi9cclxuZnVuY3Rpb24ganZTZWxlY3QoY29uZmlnT2JqKSB7XHJcbiAgICBcInVzZSBzdHJpY3RcIjtcclxuICAgIHZhciBzZWxlY3RPYmogPSB0aGlzO1xyXG4gICAgc2VsZWN0T2JqLmNoYXJ0RGl2ID0gY29uZmlnT2JqLmNoYXJ0RGl2O1xyXG4gICAgc2VsZWN0T2JqLnRvZ2dsZVNlbGVjdE1vZGUgPSBmdW5jdGlvbiAodG9nZ2xlQm9vbCkge1xyXG4gICAgICAgIHZhciBlbnRpcmVTdmcgPSBzZWxlY3RPYmouY2hhcnREaXYuc2VsZWN0KFwic3ZnXCIpO1xyXG4gICAgICAgIGlmKHRvZ2dsZUJvb2wpe1xyXG4gICAgICAgICAgICBlbnRpcmVTdmcub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBkMy5zZWxlY3QoZDMuZXZlbnQudGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRhcmdldCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBlbnRpcmVTdmcub24oJ2RibGNsaWNrJywgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFNlbGVjdCBNb2RlIEZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdlNlbGVjdDsiLCIvKioqICBqdlRpcCAqKiovXHJcblxyXG5mdW5jdGlvbiBqdlRpcChjb25maWdPYmopIHtcclxuICAgIFwidXNlIHN0cmljdFwiO1xyXG4gICAgdmFyIHRpcCA9IHRoaXM7XHJcblxyXG4gICAgdGlwLnR5cGUgPSBjb25maWdPYmoudHlwZTtcclxuICAgIHRpcC5jaGFydERpdiA9IGNvbmZpZ09iai5jaGFydERpdjtcclxuXHJcbiAgICAvL0NyZWF0ZSBpbml0aWFsIGRpdlxyXG4gICAgdGlwLmNoYXJ0RGl2LnNlbGVjdCgnLmp2LXRvb2x0aXAnKS5yZW1vdmUoKTtcclxuXHJcbiAgICB0aXAuY2hhcnREaXYuYXBwZW5kKFwiZGl2XCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInRvb2x0aXAganYtdG9vbHRpcFwiKVxyXG4gICAgICAgIC5zdHlsZShcInBvaW50ZXItZXZlbnRzXCIsIFwibm9uZVwiKTtcclxufVxyXG5cclxuanZUaXAucHJvdG90eXBlLnNob3dUaXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdGlwID0gdGhpcztcclxuICAgIC8vdG9kbyBwb3NpdGlvbiB0aXAgcHJvcGVybHlcclxuICAgIHRpcC50b29sVGlwLnN0eWxlKFwiZGlzcGxheVwiLCBcImJsb2NrXCIpO1xyXG59XHJcblxyXG5qdlRpcC5wcm90b3R5cGUuaGlkZVRpcCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciB0aXAgPSB0aGlzO1xyXG4gICAgaWYgKHRpcC50b29sVGlwKSB7XHJcbiAgICAgICAgdGlwLnRvb2xUaXAuc3R5bGUoXCJkaXNwbGF5XCIsIFwibm9uZVwiKTtcclxuICAgIH1cclxufTtcclxuXHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBWaXogU3BlY2lmaWMgRnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuanZUaXAucHJvdG90eXBlLmdlbmVyYXRlU2ltcGxlVGlwID0gZnVuY3Rpb24gKGRhdGFPYmosIGRhdGFUYWJsZSwgZXZlbnQpIHtcclxuICAgIHZhciB0aXAgPSB0aGlzO1xyXG4gICAgXHJcbiAgICAvL0xvZ2ljIHRvIGRldGVybWluZSB3aGVyZSB0b29sdGlwIHdpbGwgYmUgcGxhY2VkIG9uIHBhZ2VcclxuICAgIHZhciBsZWZ0T2ZNb3VzZSA9IGZhbHNlLFxyXG4gICAgICAgIHRvcE9mTW91c2UgPSBmYWxzZTtcclxuICAgIGlmIChldmVudC5vZmZzZXRYID4gKHRpcC5jaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudFdpZHRoIC8gMikpIHtcclxuICAgICAgICBsZWZ0T2ZNb3VzZSA9IHRydWVcclxuICAgIH1cclxuICAgIGlmIChldmVudC5vZmZzZXRZIDwgKHRpcC5jaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudEhlaWdodCAvIDIpKSB7XHJcbiAgICAgICAgdG9wT2ZNb3VzZSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBpZihkYXRhT2JqLmhhc093blByb3BlcnR5KCd0aXRsZScpICYmIGRhdGFPYmoudGl0bGUgPT09ICcnKXtcclxuICAgICAgICBkYXRhT2JqLnRpdGxlID0gJ0VtcHR5J1xyXG4gICAgfVxyXG5cclxuICAgIHRpcC50b29sVGlwID0gdGlwLmNoYXJ0RGl2LnNlbGVjdChcIi50b29sdGlwXCIpXHJcbiAgICAgICAgLmh0bWwoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YU9iai52aXogPT09ICdjbHVzdGVycycgfHwgZGF0YU9iai52aXogPT09ICdjaXJjbGV2aWV3cGxvdCcgfHwgZGF0YU9iai52aXogPT09ICdzY2F0dGVycGxvdCcgfHwgZGF0YU9iai52aXogPT09ICd0cmVlbWFwJyB8fCBkYXRhT2JqLnZpeiA9PT0gJ3NpbmdsZWF4aXMnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVTaW5nbGVDb2xvckhUTUwoZGF0YU9iaiwgZGF0YVRhYmxlKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhT2JqLnZpeiA9PT0gJ3JhZGlhbCcgfHwgZGF0YU9iai52aXogPT09ICdwaWUnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVQaWVIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YU9iai52aXogPT09ICdjaXJjbGVwYWNrJyB8fCBkYXRhT2JqLnZpeiA9PT0gJ2p2c3VuYnVyc3QnKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVQYWNrSFRNTChkYXRhT2JqLCBkYXRhVGFibGUpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGFPYmoudml6ID09PSAnaGVhdG1hcCcgfHwgZGF0YU9iai52aXogPT09ICdjbG91ZCcpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZUhlYXRtYXBIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YU9iai52aXogPT09ICdzYW5rZXknKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVTYW5rZXlIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVTaW1wbGVIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZShcInJpZ2h0XCIsIFwiYXV0b1wiKVxyXG4gICAgICAgIC5zdHlsZShcImxlZnRcIiwgXCJhdXRvXCIpXHJcbiAgICAgICAgLnN0eWxlKFwidG9wXCIsIFwiYXV0b1wiKVxyXG4gICAgICAgIC5zdHlsZShcImJvdHRvbVwiLCBcImF1dG9cIilcclxuICAgICAgICAuc3R5bGUoXCJkaXNwbGF5XCIsIFwiYmxvY2tcIilcclxuICAgICAgICAuc3R5bGUoXCJvcGFjaXR5XCIsIDEpO1xyXG5cclxuICAgIHZhciBmdWxsUGFnZSA9IGQzLnNlbGVjdCgnaHRtbCcpLl9ncm91cHNbMF1bMF07XHJcbiAgICB2YXIgcmVsYXRpdmVQb3NpdGlvbmluZyA9IGZ1bGxQYWdlLmNsaWVudFdpZHRoIC0gdGlwLmNoYXJ0RGl2Ll9ncm91cHNbMF1bMF0uY2xpZW50V2lkdGg7XHJcblxyXG4gICAgaWYgKHJlbGF0aXZlUG9zaXRpb25pbmcgPiAxMCkge1xyXG4gICAgICAgICB0aXAudG9vbFRpcC5zdHlsZShcImxlZnRcIiwgKGV2ZW50LnRhcmdldC5nZXRCQm94KCkueCArIFwicHhcIikpO1xyXG4gICAgICAgICB0aXAudG9vbFRpcC5zdHlsZShcInRvcFwiLCAoZXZlbnQudGFyZ2V0LmdldEJCb3goKS55ICsgXCJweFwiKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChsZWZ0T2ZNb3VzZSkge1xyXG4gICAgICAgICAgICB0aXAudG9vbFRpcC5zdHlsZShcInJpZ2h0XCIsICh0aXAuY2hhcnREaXYuX2dyb3Vwc1swXVswXS5jbGllbnRXaWR0aCAtIGV2ZW50Lm9mZnNldFggKyBcInB4XCIpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aXAudG9vbFRpcC5zdHlsZShcImxlZnRcIiwgKGV2ZW50Lm9mZnNldFgpICsgXCJweFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0b3BPZk1vdXNlKSB7XHJcbiAgICAgICAgICAgIHRpcC50b29sVGlwLnN0eWxlKFwidG9wXCIsIChldmVudC5vZmZzZXRZKSArIFwicHhcIik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGlwLnRvb2xUaXAuc3R5bGUoXCJib3R0b21cIiwgKHRpcC5jaGFydERpdi5fZ3JvdXBzWzBdWzBdLmNsaWVudEhlaWdodCAtIGV2ZW50Lm9mZnNldFkgKyBcInB4XCIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRhdGFPYmoudml6ID09PSAnaGVhdG1hcCcpIHtcclxuICAgICAgICB0aXAudG9vbFRpcFxyXG4gICAgICAgICAgICAuc3R5bGUoXCJ3aWR0aFwiLCBcIjMwMHB4XCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0aXAudG9vbHRpcDtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU2ltcGxlSFRNTChkYXRhT2JqKSB7XHJcbiAgICB2YXIgdG9vbHRpcFRleHQ7XHJcbiAgICB0b29sdGlwVGV4dCA9IFwiPGRpdj48ZGl2IGNsYXNzPSd0aXRsZSBzbS1sZWZ0LW1hcmdpbiB4cy10b3AtbWFyZ2luIHNtLXJpZ2h0LW1hcmdpbic+PGI+XCIgKyBkYXRhT2JqLnRpdGxlICsgXCI8L2I+PC9kaXY+PGhyIHN0eWxlPSdtYXJnaW46M3B4IDAgM3B4IDA7Jy8+XCI7XHJcblxyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhT2JqLnRpcERhdGEpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBmb3JtYXRWYWx1ZShkYXRhT2JqLnRpcERhdGFbaXRlbV0pO1xyXG5cclxuICAgICAgICB0b29sdGlwVGV4dCArPSBcIjxzcGFuIGNsYXNzPSdzZW1vc3MtZDMtdGlwLWNvbnRlbnQgc20tcmlnaHQtbWFyZ2luJz5cIiArXHJcbiAgICAgICAgICAgIFwiPGRpdiBjbGFzcz0nY2lyY2xlQmFzZSBkMy10b29sdGlwLWNpcmNsZSBpbmxpbmUgc20tcmlnaHQtbWFyZ2luIHNtLWxlZnQtbWFyZ2luJyBzdHlsZT0nYmFja2dyb3VuZDogXCIgKyBkYXRhT2JqLmNvbG9yW2l0ZW1dICsgXCInPlwiICtcclxuICAgICAgICAgICAgXCI8L2Rpdj5cIiArIGl0ZW0gKyBcIjogXCIgKyB2YWx1ZSArIFwiPC9zcGFuPjxici8+XCI7XHJcbiAgICB9XHJcbiAgICB0b29sdGlwVGV4dCArPSBcIjwvZGl2PlwiO1xyXG4gICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVNpbmdsZUNvbG9ySFRNTChkYXRhT2JqLCBkYXRhVGFibGUpIHtcclxuICAgIHZhciB0b29sdGlwVGV4dCxcclxuICAgICAgICB0b29sdGlwQ29sb3IsXHJcbiAgICAgICAgc2hvd0NvbG9yQ2lyY2xlID0gdHJ1ZSxcclxuICAgICAgICBjb2xvckNpcmNsZSA9IFwiXCI7XHJcblxyXG4gICAgaWYgKCEhZGF0YU9iai5jb2xvcltkYXRhT2JqLmRhdGFbZGF0YVRhYmxlLnNlcmllc11dKSB7XHJcbiAgICAgICAgdG9vbHRpcENvbG9yID0gZGF0YU9iai5jb2xvcltkYXRhT2JqLmRhdGFbZGF0YVRhYmxlLnNlcmllc11dO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoISFkYXRhT2JqLmNvbG9yW2RhdGFUYWJsZS5sYWJlbF0gJiYgZGF0YU9iai52aXogIT09ICdzaW5nbGVheGlzJykge1xyXG4gICAgICAgIHRvb2x0aXBDb2xvciA9IGRhdGFPYmouY29sb3JbZGF0YVRhYmxlLmxhYmVsXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHNob3dDb2xvckNpcmNsZSA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzaG93Q29sb3JDaXJjbGUpIHtcclxuICAgICAgICBjb2xvckNpcmNsZSA9IFwiPGRpdiBjbGFzcz0nY2lyY2xlQmFzZSBkMy10b29sdGlwLWNpcmNsZSBpbmxpbmUgc20tcmlnaHQtbWFyZ2luIHNtLWxlZnQtbWFyZ2luJyBzdHlsZT0nYmFja2dyb3VuZDogXCIgKyB0b29sdGlwQ29sb3IgKyBcIic+XCIgK1xyXG4gICAgICAgICAgICBcIjwvZGl2PlwiO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY29sb3JDaXJjbGUgPSBcIjxkaXYgY2xhc3M9J2lubGluZSBzbXJpZ2h0IG1hcmdpbiBzbS1sZWZ0LW1hcmdpbic+XCI7XHJcbiAgICB9XHJcblxyXG4gICAgdG9vbHRpcFRleHQgPVxyXG4gICAgICAgIFwiPGRpdiBjbGFzcz0naW5saW5lJz5cIiArXHJcbiAgICAgICAgY29sb3JDaXJjbGUgK1xyXG4gICAgICAgIFwiPGRpdiBjbGFzcz0ndGl0bGUgeHhzLWxlZnQtbWFyZ2luIHhzLXRvcC1tYXJnaW4gc20tcmlnaHQtbWFyZ2luIGlubGluZSc+PGI+XCIgKyBkYXRhT2JqLnRpdGxlICsgXCI8L2I+XCIgK1xyXG4gICAgICAgIFwiPC9kaXY+XCIgK1xyXG4gICAgICAgIFwiPGhyIHN0eWxlPSdtYXJnaW46M3B4IDAgM3B4IDA7Jy8+XCI7XHJcblxyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhT2JqLnRpcERhdGEpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBmb3JtYXRWYWx1ZShkYXRhT2JqLnRpcERhdGFbaXRlbV0pO1xyXG5cclxuICAgICAgICB0b29sdGlwVGV4dCArPSBcIjxzcGFuIGNsYXNzPSdzZW1vc3MtZDMtdGlwLWNvbnRlbnQgc20tbGVmdC1tYXJnaW4gc20tcmlnaHQtbWFyZ2luJz5cIiArXHJcbiAgICAgICAgICAgIGl0ZW0gKyBcIjogXCIgKyB2YWx1ZSArIFwiPC9zcGFuPjxici8+XCI7XHJcbiAgICB9XHJcbiAgICB0b29sdGlwVGV4dCArPSBcIjwvZGl2PlwiO1xyXG4gICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVBhY2tIVE1MKGRhdGFPYmopIHtcclxuICAgIHZhciB0b29sdGlwVGV4dDtcclxuICAgIHRvb2x0aXBUZXh0ID0gXCI8ZGl2IGNsYXNzPSdpbmxpbmUnPlwiICsgXCI8ZGl2IGNsYXNzPSdjaXJjbGVCYXNlIGQzLXRvb2x0aXAtY2lyY2xlIGlubGluZSBzbS1yaWdodC1tYXJnaW4gc20tbGVmdC1tYXJnaW4nIHN0eWxlPSdiYWNrZ3JvdW5kOiBcIiArIGRhdGFPYmouZGF0YS5jb2xvciArIFwiJz5cIiArXHJcbiAgICAgICAgXCI8L2Rpdj5cIiArIFwiPGRpdiBjbGFzcz0ndGl0bGUgeHhzLWxlZnQtbWFyZ2luIHhzLXRvcC1tYXJnaW4gc20tcmlnaHQtbWFyZ2luIGlubGluZSc+PGI+XCIgKyBkYXRhT2JqLnRpdGxlICsgXCI8L2I+PC9kaXY+PGhyIHN0eWxlPSdtYXJnaW46M3B4IDAgM3B4IDA7Jy8+XCI7XHJcblxyXG4gICAgZm9yICh2YXIgaXRlbSBpbiBkYXRhT2JqLnRpcERhdGEpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBmb3JtYXRWYWx1ZShkYXRhT2JqLnRpcERhdGFbaXRlbV0pO1xyXG5cclxuICAgICAgICB0b29sdGlwVGV4dCArPSBcIjxzcGFuIGNsYXNzPSdzZW1vc3MtZDMtdGlwLWNvbnRlbnQgc20tbGVmdC1tYXJnaW4gc20tcmlnaHQtbWFyZ2luJz5cIiArXHJcbiAgICAgICAgICAgIGl0ZW0gKyBcIjogXCIgKyB2YWx1ZSArIFwiPC9zcGFuPjxici8+XCI7XHJcbiAgICB9XHJcbiAgICB0b29sdGlwVGV4dCArPSBcIjwvZGl2PlwiO1xyXG4gICAgcmV0dXJuIHRvb2x0aXBUZXh0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUhlYXRtYXBIVE1MKGRhdGFPYmopIHtcclxuICAgIHZhciB0b29sdGlwVGV4dDtcclxuICAgIHRvb2x0aXBUZXh0ID0gXCI8ZGl2IGNsYXNzPSdpbmxpbmUnPlwiICsgXCI8ZGl2IGNsYXNzPSdjaXJjbGVCYXNlIGQzLXRvb2x0aXAtY2lyY2xlIGlubGluZSBzbS1yaWdodC1tYXJnaW4gc20tbGVmdC1tYXJnaW4nIHN0eWxlPSdiYWNrZ3JvdW5kOiBcIiArIGRhdGFPYmouY29sb3IgKyBcIic+XCIgK1xyXG4gICAgICAgIFwiPC9kaXY+XCIgKyBcIjxkaXYgY2xhc3M9J3RpdGxlIHh4cy1sZWZ0LW1hcmdpbiB4cy10b3AtbWFyZ2luIHNtLXJpZ2h0LW1hcmdpbiBpbmxpbmUnPjxiPlwiICsgZGF0YU9iai50aXRsZSArIFwiPC9iPjwvZGl2PjxociBzdHlsZT0nbWFyZ2luOjNweCAwIDNweCAwOycvPlwiO1xyXG5cclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YU9iai50aXBEYXRhKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZm9ybWF0VmFsdWUoZGF0YU9iai50aXBEYXRhW2l0ZW1dKTtcclxuXHJcbiAgICAgICAgdG9vbHRpcFRleHQgKz0gXCI8c3BhbiBjbGFzcz0nc2Vtb3NzLWQzLXRpcC1jb250ZW50IHNtLWxlZnQtbWFyZ2luIHNtLXJpZ2h0LW1hcmdpbic+XCIgK1xyXG4gICAgICAgICAgICBpdGVtICsgXCI6IFwiICsgdmFsdWUgKyBcIjwvc3Bhbj48YnIvPlwiO1xyXG4gICAgfVxyXG4gICAgdG9vbHRpcFRleHQgKz0gXCI8L2Rpdj5cIjtcclxuICAgIHJldHVybiB0b29sdGlwVGV4dDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVQaWVIVE1MKGRhdGFPYmosIGRhdGFUYWJsZSkge1xyXG4gICAgdmFyIHRvb2x0aXBUZXh0O1xyXG4gICAgdG9vbHRpcFRleHQgPSBcIjxkaXYgY2xhc3M9J2lubGluZSc+XCIgKyBcIjxkaXYgY2xhc3M9J2NpcmNsZUJhc2UgZDMtdG9vbHRpcC1jaXJjbGUgaW5saW5lIHNtLXJpZ2h0LW1hcmdpbiBzbS1sZWZ0LW1hcmdpbicgc3R5bGU9J2JhY2tncm91bmQ6IFwiICsgZGF0YU9iai5jb2xvcltkYXRhT2JqLmRhdGEubGFiZWxdICsgXCInPlwiICtcclxuICAgICAgICBcIjwvZGl2PlwiICsgXCI8ZGl2IGNsYXNzPSd0aXRsZSB4eHMtbGVmdC1tYXJnaW4geHMtdG9wLW1hcmdpbiBzbS1yaWdodC1tYXJnaW4gaW5saW5lJz48Yj5cIiArIGRhdGFPYmoudGl0bGUgKyBcIjwvYj48L2Rpdj48aHIgc3R5bGU9J21hcmdpbjozcHggMCAzcHggMDsnLz5cIjtcclxuXHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGFPYmoudGlwRGF0YSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IGZvcm1hdFZhbHVlKGRhdGFPYmoudGlwRGF0YVtpdGVtXSk7XHJcblxyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IFwiPHNwYW4gY2xhc3M9J3NlbW9zcy1kMy10aXAtY29udGVudCBzbS1sZWZ0LW1hcmdpbiBzbS1yaWdodC1tYXJnaW4nPlwiICtcclxuICAgICAgICAgICAgZGF0YVRhYmxlW2l0ZW1dICsgXCI6IFwiICsgdmFsdWUgKyBcIjwvc3Bhbj48YnIvPlwiO1xyXG4gICAgfVxyXG4gICAgdG9vbHRpcFRleHQgKz0gXCI8L2Rpdj5cIjtcclxuICAgIHJldHVybiB0b29sdGlwVGV4dDtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVTYW5rZXlIVE1MKGRhdGFPYmopIHtcclxuICAgIHZhciB0b29sdGlwVGV4dDtcclxuICAgIHRvb2x0aXBUZXh0ID0gXCI8ZGl2IGNsYXNzPSdpbmxpbmUnPlwiICtcclxuICAgICAgICBcIjwvZGl2PlwiICsgXCI8ZGl2IGNsYXNzPSd0aXRsZSB4eHMtbGVmdC1tYXJnaW4geHMtdG9wLW1hcmdpbiBzbS1yaWdodC1tYXJnaW4gaW5saW5lJz48Yj5cIiArIGRhdGFPYmoudGl0bGUgKyBcIjwvYj48L2Rpdj48aHIgc3R5bGU9J21hcmdpbjozcHggMCAzcHggMDsnLz5cIjtcclxuXHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGFPYmoudGlwRGF0YSkge1xyXG4gICAgICAgIHZhciB2YWx1ZSA9IGZvcm1hdFZhbHVlKGRhdGFPYmoudGlwRGF0YVtpdGVtXSk7XHJcblxyXG4gICAgICAgIHRvb2x0aXBUZXh0ICs9IFwiPHNwYW4gY2xhc3M9J3NlbW9zcy1kMy10aXAtY29udGVudCBzbS1sZWZ0LW1hcmdpbiBzbS1yaWdodC1tYXJnaW4nPlwiICtcclxuICAgICAgICAgICAgaXRlbSArIFwiOiBcIiArIHZhbHVlICsgXCI8L3NwYW4+PGJyLz5cIjtcclxuICAgIH1cclxuICAgIHRvb2x0aXBUZXh0ICs9IFwiPC9kaXY+XCI7XHJcbiAgICByZXR1cm4gdG9vbHRpcFRleHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKHZhbCkge1xyXG4gICAgaWYgKCFpc05hTih2YWwpKSB7XHJcbiAgICAgICAgdmFyIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdChcIiwuMGZcIik7XHJcbiAgICAgICAgaWYgKHZhbCA+PSAxMDAwMDAwKSB7XHJcbiAgICAgICAgICAgIC8vbWlsbGlvbnNcclxuICAgICAgICAgICAgLy8gdmFyIHAgPSBkMy5wcmVjaXNpb25QcmVmaXgoMWU1LCAxLjNlNik7XHJcbiAgICAgICAgICAgIC8vIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdFByZWZpeChcIi5cIiArIHAsIDEuM2U2KTtcclxuICAgICAgICAgICAgZm9ybWF0TnVtYmVyID0gZDMuZm9ybWF0KFwiLC4yZlwiKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHZhbCA8PSAxMDApIHtcclxuICAgICAgICAgICAgLy8yIGRlY2ltYWxzXHJcbiAgICAgICAgICAgIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdChcIiwuMmZcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmb3JtYXROdW1iZXIodmFsKTtcclxuICAgIH1cclxuICAgIHJldHVybiB2YWw7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZUaXA7IiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2V0RGVmYXVsdE9wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucztcclxuXHJcbmZ1bmN0aW9uIGdldERlZmF1bHRPcHRpb25zKCkge1xyXG4gICAgdmFyIG9wdGlvbnMgPSB7fTtcclxuXHJcbiAgICAvL0dlbmVyYWwgU3R5bGVzL0F0dHJpYnV0ZXNcclxuICAgIG9wdGlvbnMuZ3JheSA9IFwiI2NjY2NjY1wiO1xyXG4gICAgb3B0aW9ucy5zdHJva2VXaWR0aCA9IFwiMnB4XCI7XHJcbiAgICBvcHRpb25zLmJsYWNrID0gXCIjMDAwMDAwXCI7XHJcblxyXG5cclxuICAgIC8vQ29tcG9uZW50IFNwZWNpZmljIFN0eWxlcy9BdHRyaWJ1dGVzXHJcbiAgICBvcHRpb25zLmF4aXNDb2xvciA9IG9wdGlvbnMuZ3JheTtcclxuICAgIG9wdGlvbnMuYXhpc1dpZHRoID0gb3B0aW9ucy5zdHJva2VXaWR0aDtcclxuXHJcblxyXG4gICAgcmV0dXJuIG9wdGlvbnM7XHJcbn1cclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmFyZWEgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVMaW5lID0gZ2VuZXJhdGVMaW5lO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZmlsbEFyZWEgPSBmaWxsQXJlYTtcclxuanZDaGFydHMucHJvdG90eXBlLnNldExpbmVUaHJlc2hvbGREYXRhID0gc2V0TGluZVRocmVzaG9sZERhdGE7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIExpbmUgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKnNldExpbmVEYXRhXHJcbiAqICBnZXRzIGxpbmUgZGF0YSBhbmQgYWRkcyBpdCB0byB0aGUgY2hhcnQgb2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgZGF0YVRhYmxlLCBjb2xvcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoY2hhcnQpIHtcclxuXHJcbiAgICAvL3NvcnQgY2hhcnQgZGF0YSBpZiB0aGVyZSBpcyBhIHNvcnQgdHlwZSBhbmQgbGFiZWwgaW4gdGhlIG9wdGlvbnNcclxuICAgIGlmIChjaGFydC5vcHRpb25zLnNvcnRUeXBlKSB7XHJcbiAgICAgICAgaWYgKGNoYXJ0Lm9wdGlvbnMuc29ydExhYmVsICYmIGNoYXJ0Lm9wdGlvbnMuc29ydFR5cGUgIT09ICdkZWZhdWx0Jykge1xyXG4gICAgICAgICAgICBjaGFydC5vcmdhbml6ZUNoYXJ0RGF0YShjaGFydC5vcHRpb25zLnNvcnRMYWJlbCwgY2hhcnQub3B0aW9ucy5zb3J0VHlwZSwgZGF0YVRhYmxlS2V5cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2hhcnQuZGF0YS5sZWdlbmREYXRhID0gc2V0QmFyTGluZUxlZ2VuZERhdGEoY2hhcnQuZGF0YSk7XHJcbiAgICBjaGFydC5kYXRhLnhBeGlzRGF0YSA9IGNoYXJ0LnNldEF4aXNEYXRhKCd4JywgY2hhcnQuZGF0YSk7XHJcbiAgICBjaGFydC5kYXRhLnlBeGlzRGF0YSA9IGNoYXJ0LnNldEF4aXNEYXRhKCd5JywgY2hhcnQuZGF0YSk7XHJcblxyXG4gICAgLy9kZWZpbmUgY29sb3Igb2JqZWN0IGZvciBjaGFydERhdGFcclxuICAgIGNoYXJ0LmRhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5vcHRpb25zLmNvbG9yLCBjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGNoYXJ0LmNvbG9ycyk7XHJcbn07XHJcbi8qKnNldEJhckxpbmVMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0QmFyTGluZUxlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpdGVtIGluIGRhdGEuZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KGl0ZW0pKSB7XHJcbiAgICAgICAgICAgIGlmIChpdGVtICE9PSAnbGFiZWwnKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGEuZGF0YVRhYmxlW2l0ZW1dKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG4vKiogcGFpbnRMaW5lQ2hhcnRcclxuICpcclxuICogVGhlIGluaXRpYWwgc3RhcnRpbmcgcG9pbnQgZm9yIGxpbmUgY2hhcnQsIGJlZ2lucyB0aGUgZHJhd2luZyBwcm9jZXNzLiBNdXN0IGFscmVhZHkgaGF2ZSB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNoYXJ0XHJcbiAqIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgIC8vVXNlcyB0aGUgb3JpZ2luYWwgZGF0YSBhbmQgdGhlbiBtYW5pcHVsYXRlcyBpdCBiYXNlZCBvbiBhbnkgZXhpc3Rpbmcgb3B0aW9uc1xyXG4gICAgdmFyIGRhdGFPYmogPSBjaGFydC5nZXRCYXJEYXRhRnJvbU9wdGlvbnMoKTtcclxuXHJcbiAgICAvL2Fzc2lnbiBjdXJyZW50IGRhdGEgd2hpY2ggaXMgdXNlZCBieSBhbGwgYmFyIGNoYXJ0IG9wZXJhdGlvbnNcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gZGF0YU9iajtcclxuXHJcbiAgICAvL092ZXJ3cml0ZSBhbnkgcHJlLWV4aXN0aW5nIHpvb21cclxuICAgIGNoYXJ0LmNvbmZpZy56b29tRXZlbnQgPSBudWxsO1xyXG5cclxuICAgIC8vZ2VuZXJhdGUgc3ZnIGR5bmFtaWNhbGx5IGJhc2VkIG9uIGxlZ2VuZCBkYXRhXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhkYXRhT2JqLmxlZ2VuZERhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVYQXhpcyhkYXRhT2JqLnhBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVlBeGlzKGRhdGFPYmoueUF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGVnZW5kKGRhdGFPYmoubGVnZW5kRGF0YSwgJ2dlbmVyYXRlTGluZScpO1xyXG4gICAgXHJcbiAgICBpZih0eXBlb2YgZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUudGlja3MoKS5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUuZG9tYWluKCkubGVuZ3RoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjaGFydC5vcHRpb25zLnJvdGF0ZUF4aXMgPyBjaGFydC5kcmF3R3JpZGxpbmVzKGRhdGFPYmoueEF4aXNEYXRhKSA6IGNoYXJ0LmRyYXdHcmlkbGluZXMoZGF0YU9iai55QXhpc0RhdGEpO1xyXG4gICAgLy9uZWVkIHRvIHNhdmUgdG9vbHRpcCBiZWNhdXNlIGl0IGlzIHVzZWQgaW4gb3RoZXIgZnVuY3Rpb25zXHJcbiAgICAvLyBjaGFydC5kcmF3LnRvb2xUaXAgPSBjaGFydC5nZW5lcmF0ZVRvb2xUaXAoZGF0YU9iai5jaGFydERhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVMaW5lKGRhdGFPYmopO1xyXG4gICAgLy96b29tIGRpc2FibGVkIGZvciBub3dcclxufTtcclxuXHJcblxyXG4vKipcclxuICpcclxuICovXHJcbmZ1bmN0aW9uIGZpbGxBcmVhKGxpbmVEYXRhKSB7XHJcblxyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgb3B0aW9ucyA9IGNoYXJ0Lm9wdGlvbnMsXHJcbiAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSxcclxuICAgICAgICBsZWdlbmREYXRhID0gY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSxcclxuICAgICAgICAvL2xpbmVEYXRhID0gY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgY29sb3JzID0gb3B0aW9ucy5jb2xvcjtcclxuXHJcbiAgICAvL0lmIGEgbGVnZW5kIGVsZW1lbnQgaXMgdG9nZ2xlZCBvZmYsIHVzZSB0aGUgbmV3IGxpc3Qgb2YgaGVhZGVyc1xyXG4gICAgaWYgKG9wdGlvbnMuaGFzT3duUHJvcGVydHkoJ2xlZ2VuZEhlYWRlcnMnKSkge1xyXG4gICAgICAgIGxlZ2VuZERhdGEgPSBvcHRpb25zLmxlZ2VuZEhlYWRlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgLy9HZXQgdGhlIFggYW5kIFkgU2NhbGVcclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjb250YWluZXIsICduby1wYWRkaW5nJywgbnVsbCwgb3B0aW9ucyk7XHJcbiAgICB2YXIgeSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneScsIHlBeGlzRGF0YSwgY29udGFpbmVyLCAnbm8tcGFkZGluZycsIG51bGwsIG9wdGlvbnMpO1xyXG5cclxuICAgIC8vSWYgYXhpcyBhcmUgbm9ybWFsXHJcbiAgICBpZiAoIW9wdGlvbnMucm90YXRlQXhpcykge1xyXG4gICAgICAgIHZhciBhcmVhID0gZDMuYXJlYSgpXHJcbiAgICAgICAgICAgIC54KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geChkLngpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAueTAoY29udGFpbmVyLmhlaWdodClcclxuICAgICAgICAgICAgLnkxKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geShkLnkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHZhciBhcmVhID0gZDMuYXJlYSgpXHJcbiAgICAgICAgICAgIC55KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geShkLnkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAueDEoMClcclxuICAgICAgICAgICAgLngwKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4geChkLngpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdmFyIGRhdGEgPSB7fTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBsZWdlbmREYXRhLmxlbmd0aDsgaysrKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGxlZ2VuZERhdGEgIT09IFwidW5kZWZpbmVkXCIpIHsvL0FjY291bnRpbmcgZm9yIGxlZ2VuZCB0b2dnbGVzXHJcbiAgICAgICAgICAgICAgICBpZiAobGVnZW5kRGF0YVtrXS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9Eb24ndCB3cml0ZSBhbnl0aGluZyB0byBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWRhdGFbbGVnZW5kRGF0YVtrXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXSA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiBsaW5lRGF0YVtpXVt4QXhpc0RhdGEubGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneSc6IGxpbmVEYXRhW2ldW3lBeGlzRGF0YS5sYWJlbF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAneCc6IHBhcnNlRmxvYXQobGluZURhdGFbaV1bbGVnZW5kRGF0YVtrXV0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsvL0luaXRpYWwgY3JlYXRpb24gb2YgdmlzdWFsaXphdGlvbiB3L28gbGVnZW5kIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgIGlmICghZGF0YVtsZWdlbmREYXRhW2tdXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiBsaW5lRGF0YVtpXVt4QXhpc0RhdGEubGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAneSc6IHBhcnNlRmxvYXQobGluZURhdGFbaV1bbGVnZW5kRGF0YVtrXV0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAneSc6IGxpbmVEYXRhW2ldW3lBeGlzRGF0YS5sYWJlbF0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd4JzogcGFyc2VGbG9hdChsaW5lRGF0YVtpXVtsZWdlbmREYXRhW2tdXSlcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgc3ZnLnNlbGVjdEFsbChcIi5hcmVhXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIHZhciBpaSA9IDA7XHJcbiAgICBmb3IgKHZhciBpIGluIGRhdGEpIHtcclxuICAgICAgICBzdmcuYXBwZW5kKFwicGF0aFwiKVxyXG4gICAgICAgICAgICAuZGF0dW0oZGF0YVtpXSlcclxuICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Lm9wdGlvbnMuY29sb3JMaW5lID09IHRydWUgJiYgY2hhcnQub3B0aW9ucy50aHJlc2hvbGRzICE9ICdub25lJyAmJiBjaGFydC5vcHRpb25zLmNvbG9yQ2hhcnQgIT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhcmVhIGFyZWEtdGhyZXNob2xkXCJcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJlYVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcImRcIiwgYXJlYSlcclxuICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaywgaSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCAwLjYpXHJcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyYW5zbGF0aW9uID0gY29udGFpbmVyLmhlaWdodCAvIGxpbmVEYXRhLmxlbmd0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKDAsIFwiICsgdHJhbnNsYXRpb24gKyBcIilcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IGNvbnRhaW5lci53aWR0aCAvIGxpbmVEYXRhLmxlbmd0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgdHJhbnNsYXRpb24gKyBcIiwgMClcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJwb2ludGVyLWV2ZW50c1wiLCBcIm5vbmVcIik7XHJcbiAgICAgICAgaWkrKztcclxuICAgIH1cclxufVxyXG5cclxuLyoqIGdlbmVyYXRlTGluZVxyXG4gKlxyXG4gKiBQYWludHMgdGhlIGxpbmVzXHJcbiAqIEBwYXJhbXMgbGluZURhdGFcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlTGluZShsaW5lRGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgb3B0aW9ucyA9IGNoYXJ0Lm9wdGlvbnMsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcjtcclxuXHJcblxyXG4gICAgc3ZnLnNlbGVjdEFsbChcImcubGluZS1jb250YWluZXJcIikucmVtb3ZlKCk7XHJcblxyXG4gICAgdmFyIHRyYW5zbGF0ZVggPSAwO1xyXG4gICAgdmFyIHRyYW5zbGF0ZVkgPSAwO1xyXG4gICAgdmFyIHpvb21TY2FsZSA9IDE7XHJcblxyXG4gICAgLy9Vc2VkIHRvIGRyYXcgbGluZSB0aGF0IGFwcGVhcnMgd2hlbiB0b29sIHRpcHMgYXJlIHZpc2libGVcclxuICAgIHZhciB0aXBMaW5lWCA9IDAsXHJcbiAgICAgICAgdGlwTGluZVdpZHRoID0gMCxcclxuICAgICAgICB0aXBMaW5lSGVpZ2h0ID0gMCxcclxuICAgICAgICB0aXBMaW5lWSA9IDA7XHJcblxyXG4gICAgLy9TZXR0aW5nIHpvb20gdmFyaWFibGVzIGJhc2VkIG9uIGlmIGF4aXMgaXMgcm90YXRlZFxyXG4gICAgaWYgKG9wdGlvbnMucm90YXRlQXhpcykge1xyXG4gICAgICAgIHRyYW5zbGF0ZVkgPSAodHlwZW9mIHpvb21FdmVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgem9vbUV2ZW50ID09PSBudWxsKSA/IDAgOiB6b29tRXZlbnQudHJhbnNsYXRlWzFdOyAvL3RyYW5zbGF0ZXMgaWYgdGhlcmUgaXMgem9vbVxyXG4gICAgICAgIHpvb21TY2FsZSA9ICh0eXBlb2Ygem9vbUV2ZW50ID09PSAndW5kZWZpbmVkJyB8fCB6b29tRXZlbnQgPT09IG51bGwpID8gMSA6IHpvb21FdmVudC5zY2FsZTtcclxuXHJcbiAgICAgICAgdHJhbnNsYXRlWSA9IE1hdGgubWluKDAsIHRyYW5zbGF0ZVkpO1xyXG4gICAgICAgIHRyYW5zbGF0ZVkgPSBNYXRoLm1pbigwLCBNYXRoLm1heCh0cmFuc2xhdGVZLCBjb250YWluZXIuaGVpZ2h0IC0gKGNvbnRhaW5lci5oZWlnaHQgKiB6b29tU2NhbGUpKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0cmFuc2xhdGVYID0gKHR5cGVvZiB6b29tRXZlbnQgPT09ICd1bmRlZmluZWQnIHx8IHpvb21FdmVudCA9PT0gbnVsbCkgPyAwIDogem9vbUV2ZW50LnRyYW5zbGF0ZVswXTsgLy90cmFuc2xhdGVzIGlmIHRoZXJlIGlzIHpvb21cclxuICAgICAgICB6b29tU2NhbGUgPSAodHlwZW9mIHpvb21FdmVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgem9vbUV2ZW50ID09PSBudWxsKSA/IDEgOiB6b29tRXZlbnQuc2NhbGU7XHJcblxyXG4gICAgICAgIHRyYW5zbGF0ZVggPSBNYXRoLm1pbigwLCB0cmFuc2xhdGVYKTtcclxuICAgICAgICB0cmFuc2xhdGVYID0gTWF0aC5taW4oMCwgTWF0aC5tYXgodHJhbnNsYXRlWCwgY29udGFpbmVyLndpZHRoIC0gKGNvbnRhaW5lci53aWR0aCAqIHpvb21TY2FsZSkpKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgY29sb3JzID0gb3B0aW9ucy5jb2xvciwgeCwgeTtcclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKFwiZy5saW5lLWNvbnRhaW5lclwiKS5yZW1vdmUoKTtcclxuICAgIHZhciBsaW5lcyA9IHN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImxpbmUtY29udGFpbmVyXCIpXHJcbiAgICAgICAgLnNlbGVjdEFsbChcImdcIik7XHJcblxyXG4gICAgdmFyIGRhdGFIZWFkZXJzID0gY2hhcnQub3B0aW9ucy5zZXJpZXNGbGlwcGVkID8gY2hhcnQub3B0aW9ucy5mbGlwcGVkTGVnZW5kSGVhZGVycyA/IGNoYXJ0Lm9wdGlvbnMuZmxpcHBlZExlZ2VuZEhlYWRlcnMgOiBsaW5lRGF0YS5sZWdlbmREYXRhIDogY2hhcnQub3B0aW9ucy5sZWdlbmRIZWFkZXJzID8gY2hhcnQub3B0aW9ucy5sZWdlbmRIZWFkZXJzIDogbGluZURhdGEubGVnZW5kRGF0YTtcclxuXHJcbiAgICB2YXIgbGluZURhdGFOZXcgPSBqdkNoYXJ0cy5nZXRUb2dnbGVkRGF0YShsaW5lRGF0YSwgZGF0YUhlYWRlcnMpO1xyXG5cclxuICAgIC8vSWYgaXQncyBhbiBhcmVhIGNoYXJ0LCBhZGQgdGhlIGFyZWFcclxuICAgIGlmIChjaGFydC5jb25maWcudHlwZSA9PT0gJ2FyZWEnKSB7XHJcbiAgICAgICAgY2hhcnQuZmlsbEFyZWEobGluZURhdGFOZXcpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBsaW5lR3JvdXBzID0gZ2VuZXJhdGVMaW5lR3JvdXBzKGxpbmVzLCBsaW5lRGF0YU5ldywgY2hhcnQpO1xyXG5cclxuICAgIHZhciBldmVudEdyb3VwcyA9IGp2Q2hhcnRzLmdlbmVyYXRlRXZlbnRHcm91cHMobGluZXMsIGxpbmVEYXRhTmV3LCBjaGFydCk7XHJcblxyXG5cclxuXHJcblxyXG4gICAgZXZlbnRHcm91cHNcclxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKGQsIGksIGopIHsgLy8gVHJhbnNpdGlvbnMgaW4gRDMgZG9uJ3Qgc3VwcG9ydCB0aGUgJ29uJyBmdW5jdGlvbiBUaGV5IG9ubHkgZXhpc3Qgb24gc2VsZWN0aW9ucy4gU28gbmVlZCB0byBtb3ZlIHRoYXQgZXZlbnQgbGlzdGVuZXIgYWJvdmUgdHJhbnNpdGlvbiBhbmQgYWZ0ZXIgYXBwZW5kXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbChcIi50aXAtbGluZVwiKS5yZW1vdmUoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbChcIi50aXAtbGluZVwiKS5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAvLyBUT0RPIGFkZCB0b29sdGlwcyB3aGVuIGhvdmVyaW5nIG92ZXIgdGhlIGxpbmUgb3IgY2lyY2xlc1xyXG5cclxuICAgIC8vIGxpbmVHcm91cHNcclxuICAgIC8vICAgIC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgLy8gICAgICAgIC8vY29uc29sZS5sb2coZCwgaSwgaik7XHJcbiAgICAvLyAgICAgICAgLy9pZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgLy8gICAgICAgIC8vICAgIGNoYXJ0LmRyYXcudGlwLnNob3coe2Q6IGQsIGk6IGp9LCBldmVudEdyb3Vwc1swXVtqXSk7Ly9qIGlzIGZvciBldmVudCByZWN0cywgaSBpcyBmb3IgYmFyc1xyXG4gICAgLy8gICAgICAgIC8vICAgIC8vb2Zmc2V0IGZvciB0b29sdGlwIGJhc2VkIG9uIG1vdXNlIHBvc2l0aW9uXHJcbiAgICAvLyAgICAgICAgLy8gICAgaWYgKG9wdGlvbnMucm90YXRlQXhpcykge1xyXG4gICAgLy8gICAgICAgIC8vICAgICAgICB2YXIgb2Zmc2V0ID0gLTEgKiAoY29udGFpbmVyLndpZHRoIC0gZDMubW91c2UodGhpcylbMF0pOy8vZDMubW91c2UodGhpcylbMF07XHJcbiAgICAvLyAgICAgICAgLy8gICAgICAgIGNoYXJ0LmRyYXcudGlwLm9mZnNldChbMCwgb2Zmc2V0XSk7XHJcbiAgICAvLyAgICAgICAgLy8gICAgfVxyXG4gICAgLy8gICAgICAgIC8vICAgIGVsc2Uge1xyXG4gICAgLy8gICAgICAgIC8vICAgICAgICB2YXIgb2Zmc2V0ID0gZDMubW91c2UodGhpcylbMV07XHJcbiAgICAvLyAgICAgICAgLy8gICAgICAgIGNoYXJ0LmRyYXcudGlwLm9mZnNldChbb2Zmc2V0LCAwXSk7XHJcbiAgICAvLyAgICAgICAgLy8gICAgfVxyXG4gICAgLy8gICAgICAgIC8vICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgLy8gICAgICAgIC8vXHJcbiAgICAvLyAgICAgICAgLy8gICAgc3ZnXHJcbiAgICAvLyAgICAgICAgLy8gICAgICAgIC5hcHBlbmQoXCJsaW5lXCIpXHJcbiAgICAvLyAgICAgICAgLy8gICAgICAgIC5hdHRyKHtcclxuICAgIC8vICAgICAgICAvLyAgICAgICAgICAgIFwiY2xhc3NcIjogXCJ0aXAtbGluZVwiLFxyXG4gICAgLy8gICAgICAgIC8vICAgICAgICAgICAgXCJ4MVwiOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICAgICAgLy8gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMucm90YXRlQXhpcyA/IDAgOiB0aXBMaW5lWCArIHRpcExpbmVXaWR0aCAvIDI7XHJcbiAgICAvLyAgICAgICAgLy8gICAgICAgICAgICB9LFxyXG4gICAgLy8gICAgICAgIC8vICAgICAgICAgICAgXCJ4MlwiOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICAgICAgLy8gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMucm90YXRlQXhpcyA/IHRpcExpbmVXaWR0aCA6IHRpcExpbmVYICsgdGlwTGluZVdpZHRoIC8gMjtcclxuICAgIC8vICAgICAgICAvLyAgICAgICAgICAgIH0sXHJcbiAgICAvLyAgICAgICAgLy8gICAgICAgICAgICBcInkxXCI6IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICAgICAvLyAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5yb3RhdGVBeGlzID8gdGlwTGluZVkgKyB0aXBMaW5lSGVpZ2h0IC8gMiA6IDA7XHJcbiAgICAvLyAgICAgICAgLy8gICAgICAgICAgICB9LFxyXG4gICAgLy8gICAgICAgIC8vICAgICAgICAgICAgXCJ5MlwiOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICAgICAgLy8gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMucm90YXRlQXhpcyA/IHRpcExpbmVZICsgdGlwTGluZUhlaWdodCAvIDIgOiB0aXBMaW5lSGVpZ2h0O1xyXG4gICAgLy8gICAgICAgIC8vICAgICAgICAgICAgfSxcclxuICAgIC8vICAgICAgICAvLyAgICAgICAgICAgIFwiZmlsbFwiOiBcIm5vbmVcIixcclxuICAgIC8vICAgICAgICAvLyAgICAgICAgICAgIFwic2hhcGUtcmVuZGVyaW5nXCI6IFwiY3Jpc3BFZGdlc1wiLFxyXG4gICAgLy8gICAgICAgIC8vICAgICAgICAgICAgXCJzdHJva2VcIjogXCJibGFja1wiLFxyXG4gICAgLy8gICAgICAgIC8vICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogXCIxcHhcIlxyXG4gICAgLy8gICAgICAgIC8vICAgICAgICB9KTtcclxuICAgIC8vICAgICAgICAvL31cclxuXHJcbiAgICAvLyAgICB9KVxyXG4gICAgLy8gICAgLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgIC8vICAgICAgICBjaGFydC5kcmF3LnRpcC5oaWRlKCk7XHJcbiAgICAvLyAgICAgICAgc3ZnLnNlbGVjdEFsbChcIi50aXAtbGluZVwiKS5yZW1vdmUoKTtcclxuICAgIC8vICAgIH0pO1xyXG5cclxuICAgIGNoYXJ0LmRpc3BsYXlWYWx1ZXMoKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlQ2xpcFBhdGgoKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGluZVRocmVzaG9sZCgpO1xyXG5cclxuXHJcbiAgICByZXR1cm4gbGluZXM7XHJcblxyXG59O1xyXG4vKiogZ2VuZXJhdGVMaW5lR3JvdXBzXHJcbiAqXHJcbiAqIFBhaW50cyB0aGUgZ3JvdXBzIG9mIHRoZSBsaW5lc1xyXG4gKiBAcGFyYW1zIGNoYXJ0Q29udGFpbmVyLCBiYXJEYXRhLCBjaGFydFxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVMaW5lR3JvdXBzKGxpbmVDb250YWluZXIsIGxpbmVEYXRhLCBjaGFydCkge1xyXG4gICAgdmFyIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgb3B0aW9ucyA9IGNoYXJ0Lm9wdGlvbnMsXHJcbiAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSxcclxuICAgICAgICBsZWdlbmREYXRhID0gY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSxcclxuICAgICAgICBjb2xvcnMgPSBvcHRpb25zLmNvbG9yLFxyXG4gICAgICAgIGxpbmVzO1xyXG5cclxuICAgIC8vR2V0IFBvc2l0aW9uIENhbGN1bGF0aW9uc1xyXG4gICAgdmFyIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNvbnRhaW5lciwgJ25vLXBhZGRpbmcnLCBudWxsLCBvcHRpb25zKTtcclxuICAgIHZhciB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjb250YWluZXIsICduby1wYWRkaW5nJywgbnVsbCwgb3B0aW9ucyk7XHJcblxyXG4gICAgdmFyIHhUcmFuc2xhdGUsXHJcbiAgICAgICAgeVRyYW5zbGF0ZTtcclxuXHJcbiAgICBpZiAob3B0aW9ucy5yb3RhdGVBeGlzID09PSB0cnVlKSB7XHJcbiAgICAgICAgeFRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB4KGQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgeVRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoeShsaW5lRGF0YVtpXVt5QXhpc0RhdGEubGFiZWxdKSkgKyAoY29udGFpbmVyLmhlaWdodCAvIChsaW5lRGF0YS5sZW5ndGgpIC8gMik7Ly8gKyBjb250YWluZXIuaGVpZ2h0IC8gKGxpbmVEYXRhLmxlbmd0aCkgLyAyICAtIHkucGFkZGluZ0lubmVyKCkpO1xyXG4gICAgICAgIH07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHhUcmFuc2xhdGUgPSBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKHgobGluZURhdGFbaV1beEF4aXNEYXRhLmxhYmVsXSkpICsgKGNvbnRhaW5lci53aWR0aCAvIChsaW5lRGF0YS5sZW5ndGgpIC8gMik7Ly8gKyBjb250YWluZXIud2lkdGggLyAobGluZURhdGEubGVuZ3RoKSAvIDIgLSB4LnBhZGRpbmdJbm5lcigpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHlUcmFuc2xhdGUgPSBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4geShkKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vQXBwZW5kIGxpbmVzIGFuZCBjaXJjbGVzXHJcblxyXG4gICAgdmFyIGRhdGEgPSB7fTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBsZWdlbmREYXRhLmxlbmd0aDsgaysrKSB7XHJcblxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMubGVnZW5kT3B0aW9ucyAhPT0gXCJ1bmRlZmluZWRcIikgey8vQWNjb3VudGluZyBmb3IgbGVnZW5kIHRvZ2dsZXNcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmxlZ2VuZE9wdGlvbnNba10udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRG9uJ3Qgd3JpdGUgYW55dGhpbmcgdG8gZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9Xcml0ZSBzb21ldGhpbmcgdG8gZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YVtsZWdlbmREYXRhW2tdXSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0ucHVzaChwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7Ly9Jbml0aWFsIGNyZWF0aW9uIG9mIHZpc3VhbGl6YXRpb24gdy9vIGxlZ2VuZCBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGFbbGVnZW5kRGF0YVtrXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtsZWdlbmREYXRhW2tdXS5sZW5ndGggPCBsaW5lRGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dLnB1c2gocGFyc2VGbG9hdChsaW5lRGF0YVtpXVtsZWdlbmREYXRhW2tdXSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuXHJcbiAgICBjaGFydC5zdmcuc2VsZWN0QWxsKFwiLmxpbmVzXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoXCIubGluZVwiKS5yZW1vdmUoKTtcclxuICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoXCIuY2lyY2xlXCIpLnJlbW92ZSgpO1xyXG4gICAgY2hhcnQuc3ZnLnNlbGVjdEFsbChcIiNsaW5lLWdyYWRpZW50XCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIGxpbmVzID0gY2hhcnQuc3ZnLnNlbGVjdEFsbChcIi5saW5lLWNvbnRhaW5lclwiKTtcclxuXHJcbiAgICB2YXIgdmFsdWVsaW5lID0ge307XHJcbiAgICB2YXIgY2lyY2xlcyA9IHt9O1xyXG4gICAgdmFyIGluZGV4ID0gMDtcclxuICAgIHZhciBsaW5lQ29sb3JzID0gW107XHJcbiAgICB2YXIgbWF4O1xyXG4gICAgdmFyIG1pbjtcclxuICAgIHZhciB0aHJlc2hvbGRpbmcgPSBmYWxzZTtcclxuICAgIGZvciAodmFyIGsgaW4gZGF0YSkge1xyXG4gICAgICAgIC8vQ3JlYXRlIHBhdGggZ2VuZXJhdG9yIGZvciBlYWNoIHNlcmllc1xyXG4gICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KGspKSB7XHJcbiAgICAgICAgICAgIHZhbHVlbGluZVtrXSA9IGQzLmxpbmUoKS8vbGluZSBkcmF3aW5nIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgICAgICAueChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHhUcmFuc2xhdGUoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLnkoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB5VHJhbnNsYXRlKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG5cclxuXHJcbiAgICAgICAgICAgIC8vQWRkIGxpbmVzIHRvIHRoZSBsaW5lLWNvbnRhaW5lclxyXG4gICAgICAgICAgICBsaW5lc1xyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnbGluZSAnICsgKGspKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcInBhdGhcIikvL2RyYXdzIHRoZSBsaW5lXHJcbiAgICAgICAgICAgICAgICAuYXR0cignc3Ryb2tlJywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3JPYmogPSBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBrKTtcclxuICAgICAgICAgICAgICAgICAgICBsaW5lQ29sb3JzLnB1c2goY29sb3JPYmopO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb2xvck9iajtcclxuICAgICAgICAgICAgICAgIH0pICAgLy8gZmlsbHMgdGhlIGJhciB3aXRoIGNvbG9yXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcInN0cm9rZS13aWR0aFwiLCBcIjJcIilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZFwiLCB2YWx1ZWxpbmVba10oZGF0YVtrXSkpO1xyXG5cclxuICAgICAgICAgICAgLy9Db2xvciBUaHJlc2hvbGRpbmcgZm9yIGVhY2ggdGllclxyXG4gICAgICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy50aHJlc2hvbGRzICE9ICdub25lJyAmJiBjaGFydC5vcHRpb25zLmNvbG9yQ2hhcnQgIT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5vcHRpb25zLmNvbG9yTGluZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGRQZXJjZW50cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5vcHRpb25zLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHplcm8gPSB7IHBlcmNlbnQ6IDAsIGNvbG9yOiBsaW5lQ29sb3JzW2luZGV4XSB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGRQZXJjZW50cy5wdXNoKHplcm8pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IDA7IHogPCBPYmplY3Qua2V5cyhjaGFydC5vcHRpb25zLnRocmVzaG9sZHMpLmxlbmd0aDsgeisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcENlbnQgPSAoKGNoYXJ0Lm9wdGlvbnMudGhyZXNob2xkc1t6XS50aHJlc2hvbGQpICogMTAwKSAvICh4QXhpc0RhdGEubWF4IC0geEF4aXNEYXRhLm1pbik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IHsgcGVyY2VudDogcENlbnQsIGNvbG9yOiBjaGFydC5vcHRpb25zLnRocmVzaG9sZHNbel0udGhyZXNob2xkQ29sb3IgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZFBlcmNlbnRzLnB1c2godGVtcCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgemVybyA9IHsgcGVyY2VudDogMCwgY29sb3I6IGxpbmVDb2xvcnNbaW5kZXhdIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZFBlcmNlbnRzLnB1c2goemVybyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB6ID0gMDsgeiA8IE9iamVjdC5rZXlzKGNoYXJ0Lm9wdGlvbnMudGhyZXNob2xkcykubGVuZ3RoOyB6KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwQ2VudCA9ICgoY2hhcnQub3B0aW9ucy50aHJlc2hvbGRzW3pdLnRocmVzaG9sZCkgKiAxMDApIC8gKHlBeGlzRGF0YS5tYXggLSB5QXhpc0RhdGEubWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0geyBwZXJjZW50OiBwQ2VudCwgY29sb3I6IGNoYXJ0Lm9wdGlvbnMudGhyZXNob2xkc1t6XS50aHJlc2hvbGRDb2xvciB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkUGVyY2VudHMucHVzaCh0ZW1wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGREYXRhID0gY2hhcnQuc2V0TGluZVRocmVzaG9sZERhdGEoY2hhcnQsIHRocmVzaG9sZFBlcmNlbnRzLCBsaW5lQ29sb3JzW2luZGV4XSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVzLnNlbGVjdEFsbChcInBhdGhcIikuYXR0cihcImNsYXNzXCIsIFwibGluZS10aHJlc2hvbGRcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGFydC5vcHRpb25zLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2hhcnQuc3ZnLmFwcGVuZChcImxpbmVhckdyYWRpZW50XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImlkXCIsIFwibGluZS1ncmFkaWVudFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJncmFkaWVudFVuaXRzXCIsIFwidXNlclNwYWNlT25Vc2VcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieDFcIiwgeFRyYW5zbGF0ZSh4QXhpc0RhdGEubWluKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTFcIiwgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieDJcIiwgeFRyYW5zbGF0ZSh4QXhpc0RhdGEubWF4KSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zZWxlY3RBbGwoXCJzdG9wXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZGF0YSh0aHJlc2hvbGREYXRhKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwic3RvcFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJvZmZzZXRcIiwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQub2Zmc2V0OyB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJzdG9wLWNvbG9yXCIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmNvbG9yOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC5zdmcuYXBwZW5kKFwibGluZWFyR3JhZGllbnRcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJsaW5lLWdyYWRpZW50XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImdyYWRpZW50VW5pdHNcIiwgXCJ1c2VyU3BhY2VPblVzZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4MVwiLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCB5VHJhbnNsYXRlKHlBeGlzRGF0YS5taW4pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCB5VHJhbnNsYXRlKHlBeGlzRGF0YS5tYXgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbChcInN0b3BcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhKHRocmVzaG9sZERhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJzdG9wXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcIm9mZnNldFwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5vZmZzZXQ7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcInN0b3AtY29sb3JcIiwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29sb3I7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRocmVzaG9sZGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vQWRkIGNpcmNsZXMgYXQgam9pbnRzIGluIHRoZSBsaW5lc1xyXG4gICAgICAgICAgICBjaXJjbGVzW2tdID0gbGluZXNcclxuICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2NpcmNsZSAnICsgKGspKVxyXG4gICAgICAgICAgICAgICAgLnNlbGVjdEFsbCgnY2lyY2xlJylcclxuICAgICAgICAgICAgICAgIC5kYXRhKGRhdGFba10pXHJcbiAgICAgICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcImNpcmNsZVwiKS8vQ2lyY2xlcyBmb3IgdGhlIGpvaW50cyBpbiB0aGUgbGluZVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ2NpcmNsZS0nICsgY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhW2ldW2NoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5sYWJlbF0gKyAnIGhpZ2hsaWdodC1jbGFzcy0nICsgaTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImN4XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geFRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImN5XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geVRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhyZXNob2xkaW5nID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IE9iamVjdC5rZXlzKGNoYXJ0Lm9wdGlvbnMudGhyZXNob2xkcykubGVuZ3RoIC0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0Lm9wdGlvbnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IGxlbmd0aDsgeiA+IC0xOyB6LS0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkID0gY2hhcnQub3B0aW9ucy50aHJlc2hvbGRzW3pdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkID49IHRocmVzaG9sZC50aHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB6ID0gbGVuZ3RoOyB6ID4gLTE7IHotLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGQgPSBjaGFydC5vcHRpb25zLnRocmVzaG9sZHNbel07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPj0gdGhyZXNob2xkLnRocmVzaG9sZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhyZXNob2xkLnRocmVzaG9sZENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGksIGspO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdvcGFjaXR5JywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiclwiLCAyLjUpO1xyXG5cclxuICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9SZXR1cm4gbGluZSBncm91cHNcclxuICAgIHJldHVybiBsaW5lcy5zZWxlY3RBbGwoXCIuY2lyY2xlXCIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRMaW5lVGhyZXNob2xkRGF0YShjaGFydCwgdGhyZXNob2xkcywgY29sb3IpIHtcclxuICAgIHZhciBkYXRhID0gW107XHJcbiAgICBmb3IgKHZhciBrID0gMDsgayA8IHRocmVzaG9sZHMubGVuZ3RoOyBrKyspIHtcclxuICAgICAgICB2YXIgZ3JhZGllbnQ7XHJcbiAgICAgICAgdmFyIGdyYWRpZW50T25lID0geyBvZmZzZXQ6IHRocmVzaG9sZHNba10ucGVyY2VudCArIFwiJVwiLCBjb2xvcjogdGhyZXNob2xkc1trXS5jb2xvciB9O1xyXG4gICAgICAgIGRhdGEucHVzaChncmFkaWVudE9uZSk7XHJcblxyXG4gICAgICAgIGlmIChrICsgMSA8IHRocmVzaG9sZHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHZhciBncmFkaWVudFR3byA9IHsgb2Zmc2V0OiB0aHJlc2hvbGRzW2sgKyAxXS5wZXJjZW50ICsgXCIlXCIsIGNvbG9yOiB0aHJlc2hvbGRzW2tdLmNvbG9yIH07XHJcbiAgICAgICAgICAgIGRhdGEucHVzaChncmFkaWVudFR3byk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoayA9PSB0aHJlc2hvbGRzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgdmFyIGxhc3QgPSB7IG9mZnNldDogXCIxMDAlXCIsIGNvbG9yOiB0aHJlc2hvbGRzW2tdLmNvbG9yIH07XHJcbiAgICAgICAgICAgIGRhdGEucHVzaChsYXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7IiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmJhciA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZUJhclRocmVzaG9sZCA9IGdlbmVyYXRlQmFyVGhyZXNob2xkO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVCYXJzID0gZ2VuZXJhdGVCYXJzO1xyXG5cclxuXHJcbi8qKnBhaW50XHJcbiAqXHJcbiAqIFRoZSBpbml0aWFsIHN0YXJ0aW5nIHBvaW50IGZvciBiYXIgY2hhcnQsIGJlZ2lucyB0aGUgZHJhd2luZyBwcm9jZXNzLiBNdXN0IGFscmVhZHkgaGF2ZSB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNoYXJ0XHJcbiAqIG9iamVjdFxyXG4gKi9cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgIC8vVXNlcyB0aGUgb3JpZ2luYWwgZGF0YSBhbmQgdGhlbiBtYW5pcHVsYXRlcyBpdCBiYXNlZCBvbiBhbnkgZXhpc3Rpbmcgb3B0aW9uc1xyXG4gICAgdmFyIGRhdGFPYmogPSBjaGFydC5nZXRCYXJEYXRhRnJvbU9wdGlvbnMoKTtcclxuXHJcbiAgICAvL2Fzc2lnbiBjdXJyZW50IGRhdGEgd2hpY2ggaXMgdXNlZCBieSBhbGwgYmFyIGNoYXJ0IG9wZXJhdGlvbnNcclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gZGF0YU9iajtcclxuXHJcbiAgICAvL2dlbmVyYXRlIHN2ZyBkeW5hbWljYWxseSBiYXNlZCBvbiBsZWdlbmQgZGF0YVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcoZGF0YU9iai5sZWdlbmREYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoZGF0YU9iai54QXhpc0RhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVZQXhpcyhkYXRhT2JqLnlBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUxlZ2VuZChkYXRhT2JqLmxlZ2VuZERhdGEsICdnZW5lcmF0ZUJhcnMnKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlQmFycyhkYXRhT2JqKTtcclxuICAgIFxyXG4gICAgaWYodHlwZW9mIGRhdGFPYmoueEF4aXNTY2FsZS50aWNrcyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzKCkubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoZGF0YU9iai54QXhpc1NjYWxlLmRvbWFpbigpLmxlbmd0aCk7XHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuXHJcbi8qKlNldHMgdGhlIGRhdGEgZm9yIHRoZSBiYXIgY2hhcnQgcHJpb3IgdG8gcGFpbnRpbmdcclxuICogIEBmdW5jdGlvblxyXG4gKiBAcGFyYW1zIHtPYmplY3R9IGRhdGEgLSBEYXRhIHBhc3NlZCBpbnRvIHRoZSBjaGFydFxyXG4gKiBAcGFyYW1zIHtPYmplY3R9IGRhdGFUYWJsZSAtIFNob3dzIHdoaWNoIGRhdGEgY29sdW1uIGlzIGFzc29jaWF0ZWQgd2l0aCBlYWNoIGZpZWxkIGluIHZpc3VhbCBwYW5lbFxyXG4gKiBAcGFyYW1zIHtPYmplY3R9IGRhdGFUYWJsZUtleXMgLSBDb250YWlucyB0aGUgZGF0YSB0eXBlIGZvciBlYWNoIGNvbHVtbiBvZiBkYXRhXHJcbiAqIEBwYXJhbXMge09iamVjdH0gY29sb3JzIC0gQ29sb3JzIG9iamVjdCB1c2VkIHRvIGNvbG9yIHRoZSBiYXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKGNoYXJ0KSB7XHJcbiAgICAvL3NvcnQgY2hhcnQgZGF0YSBpZiB0aGVyZSBpcyBhIHNvcnQgdHlwZSBhbmQgbGFiZWwgaW4gdGhlIG9wdGlvbnNcclxuICAgIGlmIChjaGFydC5vcHRpb25zLmhhc093blByb3BlcnR5KCdzb3J0VHlwZScpICYmIGNoYXJ0Lm9wdGlvbnMuc29ydFR5cGUpIHtcclxuICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy5zb3J0TGFiZWwgJiYgY2hhcnQub3B0aW9ucy5zb3J0VHlwZSAhPT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0Lm9yZ2FuaXplQ2hhcnREYXRhKGNoYXJ0Lm9wdGlvbnMuc29ydExhYmVsLCBjaGFydC5vcHRpb25zLnNvcnRUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRCYXJMaW5lTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3gnLCBjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueUF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3knLCBjaGFydC5kYXRhKTtcclxuICAgIGlmIChjaGFydC5vcHRpb25zLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICBjaGFydC5zZXRGbGlwcGVkU2VyaWVzKGNoYXJ0LmRhdGEuZGF0YVRhYmxlS2V5cyk7XHJcbiAgICAgICAgY2hhcnQuZmxpcHBlZERhdGEuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5vcHRpb25zLmNvbG9yLCBjaGFydC5mbGlwcGVkRGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQub3B0aW9ucy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG59XHJcblxyXG4vKipzZXRCYXJMaW5lTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRCYXJMaW5lTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YS5kYXRhVGFibGUpIHtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0gIT09ICdsYWJlbCcpIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZEFycmF5LnB1c2goZGF0YS5kYXRhVGFibGVbaXRlbV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIEJhciBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUJhclRocmVzaG9sZCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIHR5cGUgPSBjaGFydC5jb25maWcudHlwZSxcclxuICAgICAgICB3aWR0aCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0ID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgdGhyZXNob2xkcyA9IGNoYXJ0Lm9wdGlvbnMudGhyZXNob2xkcyxcclxuICAgICAgICBsZW5ndGggPSB0aHJlc2hvbGRzPyBPYmplY3Qua2V5cyh0aHJlc2hvbGRzKS5sZW5ndGggOiAwO1xyXG5cclxuICAgIHZhciB4ID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZTtcclxuICAgIHZhciB5ID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNTY2FsZTtcclxuXHJcbiAgICBpZiAodGhyZXNob2xkcyAhPT0gJ25vbmUnKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgdGhyZXNob2xkID0gdGhyZXNob2xkc1tpXTtcclxuICAgICAgICAgICAgaWYoIWNoYXJ0Lm9wdGlvbnMueEF4aXNUaHJlc2hvbGQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5vcHRpb25zLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBzdmcuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3IpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MScsIHgodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIHgodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIGhlaWdodClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzMsIDMnKSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN2Zy5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoJ3N0cm9rZScsIHRocmVzaG9sZC50aHJlc2hvbGRDb2xvcilcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgMClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kxJywgeSh0aHJlc2hvbGQudGhyZXNob2xkKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gyJywgd2lkdGgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MicsIHkodGhyZXNob2xkLnRocmVzaG9sZCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UtZGFzaGFycmF5JywgKCczLCAzJykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy5jb2xvckNoYXJ0ID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGRSZWN0cyA9IGQzLnNlbGVjdEFsbCgncmVjdC5yZWN0LScgKyBpKTtcclxuICAgICAgICAgICAgICAgIHRocmVzaG9sZFJlY3RzLmF0dHIoJ2ZpbGwnLCB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipnZW5lcmF0ZUJhcnNcclxuICpcclxuICogRG9lcyB0aGUgYWN0dWFsIHBhaW50aW5nIG9mIGJhcnMgb24gdGhlIGJhciBjaGFydFxyXG4gKiBAcGFyYW1zIGJhckRhdGFcclxuICovXHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZUJhcnMoYmFyRGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBvZmZzZXQsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIG9wdGlvbnMgPSBjaGFydC5vcHRpb25zLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXI7XHJcblxyXG4gICAgLy9Vc2VkIHRvIGRyYXcgbGluZSB0aGF0IGFwcGVhcnMgd2hlbiB0b29sIHRpcHMgYXJlIHZpc2libGVcclxuICAgIHZhciB0aXBMaW5lWCA9IDAsXHJcbiAgICAgICAgdGlwTGluZVdpZHRoID0gMCxcclxuICAgICAgICB0aXBMaW5lSGVpZ2h0ID0gMCxcclxuICAgICAgICB0aXBMaW5lWSA9IDA7XHJcblxyXG4gICAgLy9SZW1vdmVzIGFueSBleGlzdGluZyBiYXIgY29udGFpbmVycyBhbmQgY3JlYXRlcyBhIG5ldyBvbmVcclxuICAgIHN2Zy5zZWxlY3RBbGwoJ2cuYmFyLWNvbnRhaW5lcicpLnJlbW92ZSgpO1xyXG4gICAgdmFyIGJhcnMgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYmFyLWNvbnRhaW5lcicpXHJcbiAgICAgICAgLnNlbGVjdEFsbCgnZycpO1xyXG5cclxuICAgIC8vQWRkIGxvZ2ljIHRvIGZpbHRlciBiYXJkYXRhXHJcbiAgICB2YXIgZGF0YUhlYWRlcnMgPSBjaGFydC5vcHRpb25zLnNlcmllc0ZsaXBwZWQgPyBjaGFydC5vcHRpb25zLmZsaXBwZWRMZWdlbmRIZWFkZXJzID8gY2hhcnQub3B0aW9ucy5mbGlwcGVkTGVnZW5kSGVhZGVycyA6IGJhckRhdGEubGVnZW5kRGF0YSA6IGNoYXJ0Lm9wdGlvbnMubGVnZW5kSGVhZGVycyA/IGNoYXJ0Lm9wdGlvbnMubGVnZW5kSGVhZGVycyA6IGJhckRhdGEubGVnZW5kRGF0YTtcclxuXHJcbiAgICB2YXIgYmFyRGF0YU5ldyA9IGp2Q2hhcnRzLmdldFRvZ2dsZWREYXRhKGJhckRhdGEsIGRhdGFIZWFkZXJzKTtcclxuXHJcblxyXG4gICAgdmFyIGJhckdyb3VwcyA9IGdlbmVyYXRlQmFyR3JvdXBzKGJhcnMsIGJhckRhdGFOZXcsIGNoYXJ0KTtcclxuICAgIHZhciBldmVudEdyb3VwcyA9IGp2Q2hhcnRzLmdlbmVyYXRlRXZlbnRHcm91cHMoYmFycywgYmFyRGF0YU5ldywgY2hhcnQpO1xyXG5cclxuICAgIC8vQWRkIGxpc3RlbmVyc1xyXG5cclxuICAgIGV2ZW50R3JvdXBzXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCwgaSwgaikgeyAvL1RyYW5zaXRpb25zIGluIEQzIGRvbid0IHN1cHBvcnQgdGhlICdvbicgZnVuY3Rpb24gVGhleSBvbmx5IGV4aXN0IG9uIHNlbGVjdGlvbnMuIFNvIG5lZWQgdG8gbW92ZSB0aGF0IGV2ZW50IGxpc3RlbmVyIGFib3ZlIHRyYW5zaXRpb24gYW5kIGFmdGVyIGFwcGVuZFxyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIHN2Zy5zZWxlY3RBbGwoJy50aXAtbGluZScpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBtb3VzZUl0ZW0gPSBkMy5zZWxlY3QodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB0aXBMaW5lWCA9IG1vdXNlSXRlbS5ub2RlKCkuZ2V0QkJveCgpLng7XHJcbiAgICAgICAgICAgICAgICB0aXBMaW5lV2lkdGggPSBtb3VzZUl0ZW0ubm9kZSgpLmdldEJCb3goKS53aWR0aDtcclxuICAgICAgICAgICAgICAgIHRpcExpbmVIZWlnaHQgPSBtb3VzZUl0ZW0ubm9kZSgpLmdldEJCb3goKS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB0aXBMaW5lWSA9IG1vdXNlSXRlbS5ub2RlKCkuZ2V0QkJveCgpLnk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy9EcmF3IGxpbmUgaW4gY2VudGVyIG9mIGV2ZW50LXJlY3RcclxuICAgICAgICAgICAgICAgIHN2Z1xyXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd0aXAtbGluZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3gxJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5yb3RhdGVBeGlzID8gMCA6IHRpcExpbmVYICsgdGlwTGluZVdpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd4MicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMucm90YXRlQXhpcyA/IHRpcExpbmVXaWR0aCA6IHRpcExpbmVYICsgdGlwTGluZVdpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCd5MScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMucm90YXRlQXhpcyA/IHRpcExpbmVZICsgdGlwTGluZUhlaWdodCAvIDIgOiAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5yb3RhdGVBeGlzID8gdGlwTGluZVkgKyB0aXBMaW5lSGVpZ2h0IC8gMiA6IHRpcExpbmVIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignZmlsbCcsICdub25lJylcclxuICAgICAgICAgICAgICAgICAgICAuYXR0cignc2hhcGUtcmVuZGVyaW5nJywgJ2NyaXNwRWRnZXMnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAnMXB4Jyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnbGluZS50aXAtbGluZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgY2hhcnQuZGlzcGxheVZhbHVlcygpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVDbGlwUGF0aCgpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVCYXJUaHJlc2hvbGQoKTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVCYXJHcm91cHNcclxuICpcclxuICogUGFpbnRzIHRoZSBncm91cHMgb2YgdGhlIGJhcnNcclxuICogQHBhcmFtcyBjaGFydENvbnRhaW5lciwgYmFyRGF0YSwgY2hhcnRcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQmFyR3JvdXBzKGNoYXJ0Q29udGFpbmVyLCBiYXJEYXRhLCBjaGFydCkge1xyXG4gICAgdmFyIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgb3B0aW9ucyA9IGNoYXJ0Lm9wdGlvbnMsXHJcbiAgICAgICAgeEF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhLFxyXG4gICAgICAgIHlBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSxcclxuICAgICAgICBjb2xvcnMgPSBvcHRpb25zLmNvbG9yO1xyXG5cclxuXHJcbiAgICB2YXIgeCA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIHhBeGlzRGF0YSwgY29udGFpbmVyLCBudWxsLCBvcHRpb25zKTtcclxuICAgIHZhciB5ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd5JywgeUF4aXNEYXRhLCBjb250YWluZXIsIG51bGwsIG9wdGlvbnMpO1xyXG5cclxuICAgIHZhciBwb3NDYWxjID0ganZDaGFydHMuZ2V0UG9zQ2FsY3VsYXRpb25zKGJhckRhdGEsIG9wdGlvbnMsIHhBeGlzRGF0YSwgeUF4aXNEYXRhLCBjb250YWluZXIsIGNoYXJ0KTtcclxuXHJcblxyXG4gICAgdmFyIGRhdGFUb1Bsb3QgPSBqdkNoYXJ0cy5nZXRQbG90RGF0YShiYXJEYXRhLCBjaGFydCk7XHJcblxyXG4gICAgdmFyIGJhckdyb3VwcztcclxuICAgIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdTVFJJTkcnIHx8ICF4QXhpc0RhdGEuaGFzT3duUHJvcGVydHkoJ21pbicpKSB7XHJcbiAgICAgICAgLy9DcmVhdGVzIGJhciBncm91cHNcclxuICAgICAgICBiYXJHcm91cHMgPSBjaGFydENvbnRhaW5lclxyXG4gICAgICAgICAgICAuZGF0YShkYXRhVG9QbG90KVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Jhci1ncm91cCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgLy9UcmFuc2xhdGUgdGhlIGJhciBncm91cHMgYnkgKG91dGVyIHBhZGRpbmcgKiBzdGVwKSBhbmQgdGhlIHdpZHRoIG9mIHRoZSBiYXJzIChjb250YWluZXIud2lkdGggLyBiYXJEYXRhLmxlbmd0aCAqIGkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgKCh4LnBhZGRpbmdPdXRlcigpICogeC5zdGVwKCkpICsgKHguc3RlcCgpICogaSkpICsgJywwKSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSBlbHNlIGlmICh4QXhpc0RhdGEuZGF0YVR5cGUgPT09ICdOVU1CRVInKSB7XHJcbiAgICAgICAgLy9DcmVhdGVzIGJhciBncm91cHNcclxuICAgICAgICBiYXJHcm91cHMgPSBjaGFydENvbnRhaW5lclxyXG4gICAgICAgICAgICAuZGF0YShkYXRhVG9QbG90KVxyXG4gICAgICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2Jhci1ncm91cCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgLy9UcmFuc2xhdGUgdGhlIGJhciBncm91cHMgYnkgKG91dGVyIHBhZGRpbmcgKiBzdGVwKSBhbmQgdGhlIHdpZHRoIG9mIHRoZSBiYXJzIChjb250YWluZXIud2lkdGggLyBiYXJEYXRhLmxlbmd0aCAqIGkpXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgwLCcgKyAoKHkucGFkZGluZ091dGVyKCkgKiB5LnN0ZXAoKSkgKyAoeS5zdGVwKCkgKiBpKSkgKyAnKSc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICAvL0NyZWF0ZXMgYmFycyB3aXRoaW4gYmFyIGdyb3Vwc1xyXG4gICAgdmFyIGV4dGVybmFsQ291bnRlckZvckogPSAtMTtcclxuICAgIHZhciBiYXJzID0gYmFyR3JvdXBzLnNlbGVjdEFsbCgncmVjdCcpXHJcbiAgICAgICAgLmRhdGEoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpLCBqKSB7XHJcbiAgICAgICAgICAgIGlmIChpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBleHRlcm5hbENvdW50ZXJGb3JKKys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGxhYmVsID0gU3RyaW5nKGJhckRhdGFbZXh0ZXJuYWxDb3VudGVyRm9ySl1bY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsXSkucmVwbGFjZSgvXFxzL2csICdfJykucmVwbGFjZSgvXFwuL2csICc8ZG90PicpLFxyXG4gICAgICAgICAgICAgICAgbGVnZW5kVmFsID0gU3RyaW5nKGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGFbaV0pLnJlcGxhY2UoL1xccy9nLCAnXycpLnJlcGxhY2UoL1xcLi9nLCAnPGRvdD4nKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB4QXhpc1ZhbHVlID0gYmFyRGF0YVtleHRlcm5hbENvdW50ZXJGb3JKXVtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUubGFiZWxdO1xyXG4gICAgICAgICAgICBpZihjaGFydC5vcHRpb25zLnhBeGlzVGhyZXNob2xkKXtcclxuICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGREaXIgPSBjaGFydC5zZXRUaHJlc2hvbGQoeEF4aXNWYWx1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGhyZXNob2xkRGlyID0gY2hhcnQuc2V0VGhyZXNob2xkKGQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gJ2VkaXRhYmxlIGVkaXRhYmxlLWJhciBiYXItY29sLScgKyBsYWJlbCArICctaW5kZXgtJyArIGxlZ2VuZFZhbCArICcgaGlnaGxpZ2h0LWNsYXNzLScgKyBsYWJlbCArICcgcmVjdCAnICsgdGhyZXNob2xkRGlyO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy5zdGFydHgoZCwgaSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLnN0YXJ0eShkLCBpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd3aWR0aCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3NDYWxjLnN0YXJ0d2lkdGgoZCwgaSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMuc3RhcnRoZWlnaHQoZCwgaSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5vcHRpb25zLnNlcmllc0ZsaXBwZWQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGksIGNoYXJ0Lm9wdGlvbnMuZmxpcHBlZExlZ2VuZEhlYWRlcnNbaV0pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yID0ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgY2hhcnQub3B0aW9ucy5sZWdlbmRIZWFkZXJzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigncngnLCAwKVxyXG4gICAgICAgIC5hdHRyKCdyeScsIDApXHJcbiAgICAgICAgLmF0dHIoJ29wYWNpdHknLCAwLjkpXHJcbiAgICAgICAgLmF0dHIoJ2NsaXAtcGF0aCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkID4gMzAwMDAwMDApIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAndXJsKCNjbGlwLWFib3ZlKSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICd1cmwoI2NsaXAtYmVsb3cpJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBiYXJzLnRyYW5zaXRpb24oKVxyXG4gICAgICAgIC5kdXJhdGlvbig4MDApXHJcbiAgICAgICAgLmVhc2UoZDMuZWFzZVBvbHlPdXQpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy54KGQsIGksIGopO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3knLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICByZXR1cm4gcG9zQ2FsYy55KGQsIGksIGopO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3dpZHRoJywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMud2lkdGgoZCwgaSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignaGVpZ2h0JywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc0NhbGMuaGVpZ2h0KGQsIGkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBiYXJHcm91cHM7Ly9yZXR1cm5zIHRoZSBiYXIgY29udGFpbmVyc1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2FudHQgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVHYW50dEJhcnMgPSBnZW5lcmF0ZUdhbnR0QmFycztcclxuanZDaGFydHMucHJvdG90eXBlLnNldEdhbnR0TGVnZW5kRGF0YSA9IHNldEdhbnR0TGVnZW5kRGF0YTtcclxuanZDaGFydHMucHJvdG90eXBlLnNldEdhbnR0QXhpc0RhdGEgPSBzZXRHYW50dEF4aXNEYXRhO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBHYW50dCBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuICAgIC8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gZGF0YVxyXG4gKiBAcGFyYW0gZGF0YVRhYmxlXHJcbiAqIEBwYXJhbSBjb2xvcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoY2hhcnQpIHtcclxuICAgIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSA9IGNoYXJ0LnNldEdhbnR0TGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gY2hhcnQuc2V0R2FudHRBeGlzRGF0YShjaGFydCwgJ3gnKTtcclxuICAgIGNoYXJ0LmRhdGEueUF4aXNEYXRhID0gY2hhcnQuc2V0R2FudHRBeGlzRGF0YShjaGFydCwgJ3knKTtcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQub3B0aW9ucy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRHYW50dExlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8PSBPYmplY3Qua2V5cyhkYXRhLmRhdGFUYWJsZSkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoW1wic3RhcnQgXCIgKyBpXSkpIHtcclxuICAgICAgICAgICAgLy9jaGVjayB0byBtYWtlIHN1cmUgaXQgaGFzIGEgbWF0Y2hpbmcgZW5kIGRhdGVcclxuICAgICAgICAgICAgaWYgKGRhdGEuZGF0YVRhYmxlLmhhc093blByb3BlcnR5KFtcImVuZCBcIiArIGldKSkge1xyXG4gICAgICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaChkYXRhLmRhdGFUYWJsZVtcInN0YXJ0IFwiICsgaV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0R2FudHRBeGlzRGF0YShjaGFydCwgYXhpcykge1xyXG4gICAgdmFyIGF4aXNEYXRhID0gW10sXHJcbiAgICAgICAgZGF0YSA9IGNoYXJ0LmRhdGEsXHJcbiAgICAgICAgY2hhcnREYXRhID0gZGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgZGF0YVR5cGU7XHJcblxyXG4gICAgaWYgKGF4aXMgPT09ICd4Jykge1xyXG4gICAgICAgIHZhciBsYWJlbCA9IGRhdGEuZGF0YVRhYmxlLmdyb3VwO1xyXG4gICAgICAgIGRhdGFUeXBlID0gJ0RBVEUnO1xyXG5cclxuICAgICAgICB2YXIgbnVtQmFycyA9IGRhdGEubGVnZW5kRGF0YS5sZW5ndGg7XHJcbiAgICAgICAgLy9Mb29wIHRocm91Z2ggZGF0YVRhYmxlIGFuZCBhc3NpZ24gbGFiZWxzIGJhc2VkIG9uIGhvdyBtYW55IGdyb3VwcyB0aGVyZSBhcmVcclxuICAgICAgICB2YXIgdmFsdWVDb250YWluZXIgPSBbXTtcclxuICAgICAgICB2YWx1ZUNvbnRhaW5lci5wdXNoKGRhdGEuZGF0YVRhYmxlW1wic3RhcnQgMVwiXSk7XHJcbiAgICAgICAgdmFsdWVDb250YWluZXIucHVzaChkYXRhLmRhdGFUYWJsZVtcImVuZCAxXCJdKTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG51bUJhcnM7IGkrKykge1xyXG4gICAgICAgICAgICB2YWx1ZUNvbnRhaW5lci5wdXNoKGRhdGEuZGF0YVRhYmxlW1wic3RhcnQgXCIgKyAoaSArIDEpXSk7XHJcbiAgICAgICAgICAgIHZhbHVlQ29udGFpbmVyLnB1c2goZGF0YS5kYXRhVGFibGVbXCJlbmQgXCIgKyAoaSArIDEpXSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0dldCBhbGwgdGhlIHN0YXJ0IGFuZCBlbmQgZGF0ZXMgYW5kIGFkZCB0aGVtIHRvIGF4aXMgZGF0YVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmFsdWVDb250YWluZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaWkgPSAwOyBpaSA8IGNoYXJ0RGF0YS5sZW5ndGg7IGlpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydERhdGFbaWldW3ZhbHVlQ29udGFpbmVyW2ldXSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXhpc0RhdGEucHVzaChjaGFydERhdGFbaWldW3ZhbHVlQ29udGFpbmVyW2ldXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vQWRkIGFueSBheGlzIGZvcm1hdHRpbmcgdG8gdGhpcyBvYmplY3QsIG5lZWQgdG8gdXNlIHdoZW4gcGFpbnRpbmdcclxuICAgICAgICBjaGFydC5vcHRpb25zLnhBeGlzRm9ybWF0dGluZyA9IHt9O1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGF0YVR5cGUgPSBcIlNUUklOR1wiO1xyXG4gICAgICAgIHZhciBsYWJlbCA9IGRhdGEuZGF0YVRhYmxlLmdyb3VwO1xyXG5cclxuICAgICAgICAvL0FkZCBhbnkgYXhpcyBmb3JtYXR0aW5nIHRvIHRoaXMgb2JqZWN0LCBuZWVkIHRvIHVzZSB3aGVuIHBhaW50aW5nXHJcbiAgICAgICAgY2hhcnQub3B0aW9ucy55QXhpc0Zvcm1hdHRpbmcgPSB7fTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgYXhpc0RhdGEucHVzaChjaGFydERhdGFbaV1bbGFiZWxdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICAnbGFiZWwnOiBsYWJlbCxcclxuICAgICAgICAndmFsdWVzJzogYXhpc0RhdGEsXHJcbiAgICAgICAgJ2RhdGFUeXBlJzogZGF0YVR5cGVcclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhaW50KGNoYXJ0KSB7XHJcbiAgICBjaGFydC5vcHRpb25zLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7XHJcblxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVhBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVlBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUxlZ2VuZChjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLCAnZ2VuZXJhdGVHYW50dEJhcnMnKTtcclxuICAgIGNoYXJ0LmRyYXdHcmlkbGluZXMoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlR2FudHRCYXJzKGNoYXJ0LmN1cnJlbnREYXRhKTtcclxuICAgIGlmICh0eXBlb2YgY2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZS50aWNrcyA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoY2hhcnQuY3VycmVudERhdGEueEF4aXNTY2FsZS50aWNrcygpLmxlbmd0aCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzU2NhbGUuZG9tYWluKCkubGVuZ3RoKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVHYW50dEJhcnMoZ2FudHREYXRhKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb2xvcnMgPSBnYW50dERhdGEuY29sb3IsXHJcbiAgICAgICAgb3B0aW9ucyA9IGNoYXJ0Lm9wdGlvbnMsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICB5QXhpc0RhdGEgPSBnYW50dERhdGEueUF4aXNEYXRhO1xyXG5cclxuICAgIC8vUmVtb3ZlIGV4aXN0aW5nIGJhcnMgZnJvbSBwYWdlXHJcbiAgICBzdmcuc2VsZWN0QWxsKFwiZy5iYXItY29udGFpbmVyXCIpLnJlbW92ZSgpO1xyXG4gICAgdmFyIGJhcnMgPSBzdmcuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJiYXItY29udGFpbmVyXCIpLFxyXG4gICAgICAgIGRhdGFIZWFkZXJzID0gY2hhcnQub3B0aW9ucy5sZWdlbmRIZWFkZXJzID8gY2hhcnQub3B0aW9ucy5sZWdlbmRIZWFkZXJzIDogZ2FudHREYXRhLmxlZ2VuZERhdGEsXHJcbiAgICAgICAgZ2FudHREYXRhTmV3ID0ganZDaGFydHMuZ2V0VG9nZ2xlZERhdGEoZ2FudHREYXRhLCBkYXRhSGVhZGVycyksXHJcbiAgICAgICAgeCA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIGdhbnR0RGF0YS54QXhpc0RhdGEsIGNvbnRhaW5lciwgbnVsbCwgbnVsbCksXHJcbiAgICAgICAgeSA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneScsIGdhbnR0RGF0YS55QXhpc0RhdGEsIGNvbnRhaW5lciwgbnVsbCwgbnVsbCksXHJcbiAgICAgICAgc2FtcGxlRGF0YSA9IGdhbnR0RGF0YU5ldztcclxuXHJcbiAgICBvcHRpb25zLnJvdGF0ZUF4aXMgPSB0cnVlO1xyXG5cclxuICAgIC8vQ3JlYXRlIG51bSBiYXJzIHZhcmlhYmxlIGFuZCBsb29wIHRocm91Z2ggdG8gZHJhdyBiYXJzIGJhc2VkIG9uIGhvdyBtYW55IGdyb3VwcyB0aGVyZSBhcmVcclxuICAgIC8vdmFyIGtleXMgPSBPYmplY3Qua2V5cyhnYW50dERhdGEuZGF0YVRhYmxlKTtcclxuICAgIC8vdmFyIGNvdW50ID0gMDtcclxuICAgIC8vZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAvLyAgICBpZiAoZ2FudHREYXRhLmRhdGFUYWJsZVtrZXlzW2ldXSAhPSBudWxsICYmIGdhbnR0RGF0YS5kYXRhVGFibGVba2V5c1tpXV0gIT0gXCJcIikge1xyXG4gICAgLy8gICAgICAgIGNvdW50Kys7XHJcbiAgICAvLyAgICB9XHJcbiAgICAvL31cclxuICAgIC8vdmFyIG51bUJhcnMgPSBNYXRoLmZsb29yKChjb3VudCAtIDEpIC8gMik7XHJcbiAgICB2YXIgbnVtQmFycyA9IGdhbnR0RGF0YS5sZWdlbmREYXRhLmxlbmd0aDtcclxuICAgIHZhciBnYW50dEJhcnMgPSBbXTtcclxuXHJcbiAgICAvL2NyZWF0ZSBhcnJheSBvZiBzdGFydCBkYXRlcyBhbmQgZW5kIGRhdGVzIHRvIGl0ZXJhdGUgdGhyb3VnaFxyXG4gICAgdmFyIHN0YXJ0RGF0ZXMgPSBbXTtcclxuICAgIHZhciBlbmREYXRlcyA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPD0gbnVtQmFyczsgaSsrKSB7XHJcbiAgICAgICAgc3RhcnREYXRlcy5wdXNoKGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZVtcInN0YXJ0IFwiICsgaV0pO1xyXG4gICAgICAgIGVuZERhdGVzLnB1c2goY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlW1wiZW5kIFwiICsgaV0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBudW1CYXJzOyBpaSsrKSB7XHJcbiAgICAgICAgZ2FudHRCYXJzW2lpXSA9IGJhcnMuc2VsZWN0QWxsKFwiLmdhbnR0LWJhclwiICsgaWkpXHJcbiAgICAgICAgICAgIC5kYXRhKHNhbXBsZURhdGEpXHJcbiAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoXCJyZWN0XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJnYW50dC1iYXJcIiArIGlpKVxyXG4gICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB5LmJhbmR3aWR0aCgpIC8gbnVtQmFycztcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZFtzdGFydERhdGVzW2lpXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geChuZXcgRGF0ZShkW3N0YXJ0RGF0ZXNbaWldXSkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHkoZFt5QXhpc0RhdGEubGFiZWxdKSArICh5LmJhbmR3aWR0aCgpIC8gbnVtQmFycyAqIGlpKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJyeFwiLCAzKVxyXG4gICAgICAgICAgICAuYXR0cihcInJ5XCIsIDMpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgdmFyIHR5cGVWYWwgPSBjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGVbXCJUeXBlXCIgKyAoaWkgKyAxKV07XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy5sZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbG9yID0ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgMCwgY2hhcnQub3B0aW9ucy5sZWdlbmRIZWFkZXJzW2lpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCAwLCBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhW2lpXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgZ2FudHRCYXJzW2lpXS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgLmR1cmF0aW9uKDQwMClcclxuICAgICAgICAgICAgLmRlbGF5KDEwMClcclxuICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0geChuZXcgRGF0ZShkW2VuZERhdGVzW2lpXV0pKSAtIHgobmV3IERhdGUoZFtzdGFydERhdGVzW2lpXV0pKTsvLyh4KGQuU3RhcnREYXRlKSAtIHgoZC5FbmREYXRlKSk7XHJcbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPj0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGF0YVRvUGxvdCA9IGp2Q2hhcnRzLmdldFBsb3REYXRhKGdhbnR0RGF0YU5ldywgY2hhcnQpO1xyXG4gICAgdmFyIGV2ZW50R3JvdXBzID0gYmFycy5zZWxlY3RBbGwoXCIuZXZlbnQtcmVjdFwiKVxyXG4gICAgICAgIC5kYXRhKGRhdGFUb1Bsb3QpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiZXZlbnQtcmVjdFwiKVxyXG4gICAgICAgIC5hdHRyKFwieFwiLCAwKVxyXG4gICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyLmhlaWdodCAvIGdhbnR0RGF0YU5ldy5sZW5ndGggKiBpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBjb250YWluZXIud2lkdGgpXHJcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5oZWlnaHQgLyBnYW50dERhdGFOZXcubGVuZ3RoO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwidHJhbnNwYXJlbnRcIilcclxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLDApXCIpO1xyXG4gICAgZXZlbnRHcm91cHNcclxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKGQsIGksIGopIHsgLy8gVHJhbnNpdGlvbnMgaW4gRDMgZG9uJ3Qgc3VwcG9ydCB0aGUgJ29uJyBmdW5jdGlvbiBUaGV5IG9ubHkgZXhpc3Qgb24gc2VsZWN0aW9ucy4gU28gbmVlZCB0byBtb3ZlIHRoYXQgZXZlbnQgbGlzdGVuZXIgYWJvdmUgdHJhbnNpdGlvbiBhbmQgYWZ0ZXIgYXBwZW5kXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcFxyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgdmFyIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuICAgIHZhciBkYXRlRGF0YSA9IFtjdXJyZW50RGF0ZV07XHJcbiAgICAvL0RyYXdzIGEgbGluZSByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgZGF0ZVxyXG4gICAgc3ZnLnNlbGVjdEFsbChcIi5jdXJyZW50RGF0ZUxpbmVcIilcclxuICAgICAgICAuZGF0YShkYXRlRGF0YSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoXCJsaW5lXCIpXHJcbiAgICAgICAgLmF0dHIoXCJ4MVwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4geChkKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwieDJcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHgoZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInkxXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBcIjBweFwiO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJ5MlwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiY3VycmVudERhdGVMaW5lXCIpXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgXCJibGFja1wiKVxyXG4gICAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIFwiMnB4XCIpXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2UtZGFzaGFycmF5XCIsIChcIjMsIDNcIikpO1xyXG5cclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKFwiLmN1cnJlbnREYXRlTGFiZWxcIilcclxuICAgICAgICAuZGF0YShkYXRlRGF0YSlcclxuICAgICAgICAuZW50ZXIoKVxyXG4gICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICB2YXIgZGQgPSB0b2RheS5nZXREYXRlKCk7XHJcbiAgICAgICAgICAgIHZhciBtbSA9IHRvZGF5LmdldE1vbnRoKCkgKyAxOyAvL0phbnVhcnkgaXMgMCFcclxuXHJcbiAgICAgICAgICAgIHZhciB5eXl5ID0gdG9kYXkuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICAgICAgaWYgKGRkIDwgMTApIHtcclxuICAgICAgICAgICAgICAgIGRkID0gJzAnICsgZGRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobW0gPCAxMCkge1xyXG4gICAgICAgICAgICAgICAgbW0gPSAnMCcgKyBtbVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB0b2RheSA9IG1tICsgJy8nICsgZGQgKyAnLycgKyB5eXl5O1xyXG4gICAgICAgICAgICByZXR1cm4gdG9kYXk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHgoZCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwiLTEwcHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIik7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7IiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmhlYXRtYXAgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVIZWF0TWFwID0gZ2VuZXJhdGVIZWF0TWFwO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBIZWF0TWFwIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipzZXRIZWF0TWFwRGF0YVxyXG4gKiAgZ2V0cyBoZWF0bWFwIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKGNoYXJ0KSB7XHJcbiAgICB2YXIgYXhpc05hbWVzID0gc2V0SGVhdEF4aXNOYW1lcyhjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gYXhpc05hbWVzLnhBeGlzRGF0YTtcclxuICAgIGNoYXJ0LmRhdGEueUF4aXNEYXRhID0gYXhpc05hbWVzLnlBeGlzRGF0YTtcclxuICAgIGNoYXJ0LmRhdGEucHJvY2Vzc2VkRGF0YSA9IHNldFByb2Nlc3NlZERhdGEoY2hhcnQuZGF0YSwgY2hhcnQuZGF0YS54QXhpc0RhdGEudmFsdWVzLCBjaGFydC5kYXRhLnlBeGlzRGF0YS52YWx1ZXMpO1xyXG4gICAgLy9kZWZpbmUgY29sb3Igb2JqZWN0IGZvciBjaGFydERhdGFcclxuICAgIGNoYXJ0Lm9wdGlvbnMuY29sb3IgPSBqdkNoYXJ0cy5zZXRDaGFydENvbG9ycyhjaGFydC5vcHRpb25zLmNvbG9yLCBjaGFydC5kYXRhLnhBeGlzRGF0YS52YWx1ZXMsIGNoYXJ0LmNvbG9ycyk7XHJcbiAgICBjaGFydC5kYXRhLmhlYXREYXRhID0gc2V0SGVhdG1hcExlZ2VuZERhdGEoY2hhcnQsIGNoYXJ0LmRhdGEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRIZWF0bWFwTGVnZW5kRGF0YShjaGFydCwgZGF0YSkge1xyXG4gICAgdmFyIGhlYXREYXRhO1xyXG4gICAgdmFyIGJ1Y2tldE1hcHBlciA9IFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMF07XHJcbiAgICB2YXIgYnVja2V0Q291bnQ7XHJcbiAgICBjaGFydC5vcHRpb25zLmNvbG9ycyA9IG9yZ2FuaXplQ29sb3JzKGNoYXJ0KTtcclxuICAgIGNoYXJ0LmRhdGEuY29sb3JTY2FsZSA9IGQzLnNjYWxlUXVhbnRpbGUoKVxyXG4gICAgICAgIC5kb21haW4oZGF0YS5oZWF0U2NvcmVzKVxyXG4gICAgICAgIC5yYW5nZShjaGFydC5vcHRpb25zLmNvbG9ycyk7XHJcblxyXG4gICAgaWYgKGNoYXJ0Lm9wdGlvbnMucXVhbnRpbGVzID09PSB0cnVlKSB7XHJcbiAgICAgICAgaGVhdERhdGEgPSBbMF0uY29uY2F0KGNoYXJ0LmRhdGEuY29sb3JTY2FsZS5xdWFudGlsZXMoKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGJ1Y2tldENvdW50ID0gYnVja2V0TWFwcGVyW2NoYXJ0Lm9wdGlvbnMuYnVja2V0cyAtIDFdO1xyXG4gICAgICAgIGhlYXREYXRhID0gcXVhbnRpemVkKGRhdGEuaGVhdFNjb3Jlc1swXSwgZGF0YS5oZWF0U2NvcmVzW2RhdGEuaGVhdFNjb3Jlcy5sZW5ndGggLSAxXSk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBoZWF0RGF0YTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3JnYW5pemVDb2xvcnMoY2hhcnQpIHtcclxuICAgIHZhciBjb2xvclNlbGVjdGVkQnVja2V0ID0gW107XHJcbiAgICBmb3IgKHZhciBjIGluIGNoYXJ0Lm9wdGlvbnMuY29sb3JzKSB7XHJcbiAgICAgICAgY29sb3JTZWxlY3RlZEJ1Y2tldC5wdXNoKGNoYXJ0Lm9wdGlvbnMuY29sb3JzW2NdKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgc1ZhbHVlID0gY2hhcnQub3B0aW9ucy5idWNrZXRzO1xyXG4gICAgdmFyIG5ld0NvbG9ycyA9IFtdO1xyXG4gICAgdmFyIGJ1Y2tldE1hcHBlciA9IFsxLCAyLCAzLCA0LCA1LCA2LCA3LCA4LCA5LCAxMF07XHJcbiAgICB2YXIgYnVja2V0Q291bnQgPSBidWNrZXRNYXBwZXJbc1ZhbHVlIC0gMV07XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1Y2tldENvdW50OyBpKyspIHtcclxuICAgICAgICBpZiAoaSA+PSBidWNrZXRDb3VudCAvIDIpIHtcclxuICAgICAgICAgICAgbmV3Q29sb3JzW2ldID0gY29sb3JTZWxlY3RlZEJ1Y2tldFtNYXRoLnJvdW5kKChpICsgMSkgLyBidWNrZXRDb3VudCAqIDIwKSAtIDFdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5ld0NvbG9yc1tpXSA9IGNvbG9yU2VsZWN0ZWRCdWNrZXRbTWF0aC5yb3VuZCgoaSkgLyBidWNrZXRDb3VudCAqIDIwKV07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGNvbG9ycyA9IG5ld0NvbG9ycy5zbGljZSgwKTtcclxuICAgIHJldHVybiBjb2xvcnM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEhlYXRBeGlzTmFtZXMoZGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0RGF0YSA9IGRhdGEuY2hhcnREYXRhO1xyXG4gICAgdmFyIHhBeGlzTmFtZSA9IGRhdGEuZGF0YVRhYmxlLng7XHJcbiAgICB2YXIgeUF4aXNOYW1lID0gZGF0YS5kYXRhVGFibGUueTtcclxuICAgIHZhciB4QXhpc0FycmF5ID0gW107XHJcbiAgICB2YXIgeUF4aXNBcnJheSA9IFtdO1xyXG4gICAgdmFyIHJldHVybk9iaiA9IHt9O1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmRhdGFUYWJsZUtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGVLZXlzW2ldLnZpelR5cGUgPT09ICd4Jykge1xyXG4gICAgICAgICAgICByZXR1cm5PYmoueEF4aXNEYXRhID0ge307XHJcbiAgICAgICAgICAgIHJldHVybk9iai54QXhpc0RhdGEuZGF0YVR5cGUgPSBkYXRhLmRhdGFUYWJsZUtleXNbaV0udHlwZTtcclxuICAgICAgICAgICAgcmV0dXJuT2JqLnhBeGlzRGF0YS5sYWJlbCA9IGRhdGEuZGF0YVRhYmxlLng7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZUtleXNbaV0udml6VHlwZSA9PT0gJ3knKSB7XHJcbiAgICAgICAgICAgIHJldHVybk9iai55QXhpc0RhdGEgPSB7fTtcclxuICAgICAgICAgICAgcmV0dXJuT2JqLnlBeGlzRGF0YS5kYXRhVHlwZSA9IGRhdGEuZGF0YVRhYmxlS2V5c1tpXS50eXBlO1xyXG4gICAgICAgICAgICByZXR1cm5PYmoueUF4aXNEYXRhLmxhYmVsID0gZGF0YS5kYXRhVGFibGUueTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoeEF4aXNBcnJheS5pbmRleE9mKGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgeEF4aXNBcnJheS5wdXNoKGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdKTtcclxuICAgICAgICAgICAgLy9UT0RPIG1ha2UgaW50byAxIGZ1bmN0aW9uIGZvciBtaW4gbWF4Li4uIHdhc3RlIG9mIHNwYWNlXHJcbiAgICAgICAgICAgIGlmIChyZXR1cm5PYmoueEF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICAgICAgLy9wdXNoIG1pbiBhbmQgbWF4IGluZm9cclxuICAgICAgICAgICAgICAgIGlmICghcmV0dXJuT2JqLnhBeGlzRGF0YS5taW4pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmoueEF4aXNEYXRhLm1pbiA9IGNoYXJ0RGF0YVtpXVt4QXhpc05hbWVdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFydERhdGFbaV1beEF4aXNOYW1lXSA8IHJldHVybk9iai54QXhpc0RhdGEubWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnhBeGlzRGF0YS5taW4gPSBjaGFydERhdGFbaV1beEF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJldHVybk9iai54QXhpc0RhdGEubWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnhBeGlzRGF0YS5tYXggPSBjaGFydERhdGFbaV1beEF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnREYXRhW2ldW3hBeGlzTmFtZV0gPCByZXR1cm5PYmoueEF4aXNEYXRhLm1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iai54QXhpc0RhdGEubWF4ID0gY2hhcnREYXRhW2ldW3hBeGlzTmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHlBeGlzQXJyYXkuaW5kZXhPZihjaGFydERhdGFbaV1beUF4aXNOYW1lXSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHlBeGlzQXJyYXkucHVzaChjaGFydERhdGFbaV1beUF4aXNOYW1lXSk7XHJcbiAgICAgICAgICAgIGlmIChyZXR1cm5PYmoueUF4aXNEYXRhLmRhdGFUeXBlID09PSAnTlVNQkVSJykge1xyXG4gICAgICAgICAgICAgICAgLy9wdXNoIG1pbiBhbmQgbWF4IGluZm9cclxuICAgICAgICAgICAgICAgIGlmICghcmV0dXJuT2JqLnlBeGlzRGF0YS5taW4pIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm5PYmoueUF4aXNEYXRhLm1pbiA9IGNoYXJ0RGF0YVtpXVt5QXhpc05hbWVdO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjaGFydERhdGFbaV1beUF4aXNOYW1lXSA8IHJldHVybk9iai55QXhpc0RhdGEubWluKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnlBeGlzRGF0YS5taW4gPSBjaGFydERhdGFbaV1beUF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoIXJldHVybk9iai55QXhpc0RhdGEubWF4KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLnlBeGlzRGF0YS5tYXggPSBjaGFydERhdGFbaV1beUF4aXNOYW1lXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hhcnREYXRhW2ldW3lBeGlzTmFtZV0gPCByZXR1cm5PYmoueUF4aXNEYXRhLm1heCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybk9iai55QXhpc0RhdGEubWF4ID0gY2hhcnREYXRhW2ldW3lBeGlzTmFtZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm5PYmoueEF4aXNEYXRhLnZhbHVlcyA9IHhBeGlzQXJyYXk7XHJcbiAgICByZXR1cm5PYmoueUF4aXNEYXRhLnZhbHVlcyA9IHlBeGlzQXJyYXk7XHJcblxyXG4gICAgcmV0dXJuIHJldHVybk9iajtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0UHJvY2Vzc2VkRGF0YShkYXRhLCB4QXhpc0FycmF5LCB5QXhpc0FycmF5KSB7XHJcbiAgICB2YXIgY2hhcnREYXRhID0gZGF0YS5jaGFydERhdGE7XHJcbiAgICB2YXIgeEF4aXNOYW1lID0gZGF0YS5kYXRhVGFibGUueDtcclxuICAgIHZhciB5QXhpc05hbWUgPSBkYXRhLmRhdGFUYWJsZS55O1xyXG4gICAgdmFyIGhlYXQgPSBkYXRhLmRhdGFUYWJsZS5oZWF0O1xyXG4gICAgdmFyIGRhdGFBcnJheSA9IFtdO1xyXG4gICAgZGF0YS5oZWF0U2NvcmVzID0gW107XHJcbiAgICAvKkFzc2lnbiBlYWNoIG5hbWUgYSBudW1iZXIgYW5kIHBsYWNlIG1hdHJpeCBjb29yZGluYXRlcyBpbnNpZGUgb2YgZGF0YUFycmF5ICovXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGRhdGFBcnJheS5wdXNoKHtcclxuICAgICAgICAgICAgdmFsdWU6IGNoYXJ0RGF0YVtpXVtoZWF0XSxcclxuICAgICAgICAgICAgeEF4aXNOYW1lOiBjaGFydERhdGFbaV1beEF4aXNOYW1lXSxcclxuICAgICAgICAgICAgeUF4aXNOYW1lOiBjaGFydERhdGFbaV1beUF4aXNOYW1lXVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vVGhpcyBhcnJheSBzdG9yZXMgdGhlIHZhbHVlcyBhcyBudW1iZXJzXHJcbiAgICAgICAgZGF0YS5oZWF0U2NvcmVzLnB1c2goY2hhcnREYXRhW2ldW2hlYXRdKTtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHhBeGlzQXJyYXkubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKHhBeGlzQXJyYXlbal0gPT09IGRhdGFBcnJheVtpXS54QXhpc05hbWUpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFBcnJheVtpXS54QXhpcyA9IGo7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHlBeGlzQXJyYXkubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgaWYgKHlBeGlzQXJyYXlbal0gPT09IGRhdGFBcnJheVtpXS55QXhpc05hbWUpIHtcclxuICAgICAgICAgICAgICAgIGRhdGFBcnJheVtpXS55QXhpcyA9IGo7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBkYXRhQXJyYXk7XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBwYWludChjaGFydCkge1xyXG4gICAgY2hhcnQub3B0aW9ucy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7Ly9NaWdodCBoYXZlIHRvIG1vdmUgaW50byBtZXRob2QgYmMgb2YgcmVmZXJlbmNlL3ZhbHVlIHJlbGF0aW9uc2hpcFxyXG4gICAgdmFyIGN1c3RvbU1hcmdpbiA9IHtcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgcmlnaHQ6IDQwLFxyXG4gICAgICAgIGxlZnQ6IDAsXHJcbiAgICAgICAgYm90dG9tOiAyMFxyXG4gICAgfTtcclxuICAgIC8vR2VuZXJhdGUgU1ZHLWxlZ2VuZCBkYXRhIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBib3R0b20gbWFyZ2luIChzZXQgdG8gbnVsbCBmb3Igbm8gbGVnZW5kKVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcobnVsbCwgY3VzdG9tTWFyZ2luKTtcclxuICAgIC8vY2hhcnQuZ2VuZXJhdGVMZWdlbmQoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgJ2dlbmVyYXRlSGVhdE1hcCcpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVIZWF0TWFwKCk7XHJcbn1cclxuXHJcbi8qKmdlbmVyYXRlSGVhdE1hcFxyXG4gKlxyXG4gKiBwYWludHMgdGhlIEhlYXRNYXAgb24gdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbXMgSGVhdE1hcERhdGFcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlSGVhdE1hcCgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbG9ycyA9IGNoYXJ0Lm9wdGlvbnMuY29sb3JzLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgbWluQ29udGFpbmVyID0gMzAwLFxyXG4gICAgICAgIHF1YW50aWxlcyA9IGNoYXJ0Lm9wdGlvbnMucXVhbnRpbGVzLFxyXG4gICAgICAgIGRhdGEgPSBjaGFydC5kYXRhLnByb2Nlc3NlZERhdGEsXHJcbiAgICAgICAgdG9nZ2xlTGVnZW5kID0gIWNoYXJ0Lm9wdGlvbnMudG9nZ2xlTGVnZW5kLFxyXG4gICAgICAgIHNjYWxlQnlNaW5DYXRlZ29yeSxcclxuICAgICAgICBzY2FsZUJ5Q29udGFpbmVyLFxyXG4gICAgICAgIGhlYXRNYXBEYXRhID0gY2hhcnQuY3VycmVudERhdGE7XHJcblxyXG4gICAgaWYgKGhlYXRNYXBEYXRhLnhBeGlzRGF0YS52YWx1ZXMubGVuZ3RoID4gaGVhdE1hcERhdGEueUF4aXNEYXRhLnZhbHVlcy5sZW5ndGgpIHtcclxuICAgICAgICBzY2FsZUJ5TWluQ2F0ZWdvcnkgPSBoZWF0TWFwRGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2NhbGVCeU1pbkNhdGVnb3J5ID0gaGVhdE1hcERhdGEueUF4aXNEYXRhLnZhbHVlcy5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGNvbnRhaW5lci53aWR0aCA8IG1pbkNvbnRhaW5lciB8fCBjb250YWluZXIuaGVpZ2h0IDwgbWluQ29udGFpbmVyKSB7XHJcbiAgICAgICAgc2NhbGVCeUNvbnRhaW5lciA9IG1pbkNvbnRhaW5lcjtcclxuICAgIH1cclxuICAgIC8vZWxzZSBpZihjb250YWluZXIud2lkdGggPiBtYXhDb250YWluZXIgJiYgY29udGFpbmVyLmhlaWdodCA+IG1heENvbnRhaW5lcil7XHJcbiAgICAvL3NjYWxlQnlDb250YWluZXIgPSBtYXhDb250YWluZXI7XHJcbiAgICAvL31cclxuICAgIGVsc2UgaWYgKGNvbnRhaW5lci5oZWlnaHQgPiBjb250YWluZXIud2lkdGgpIHtcclxuICAgICAgICBzY2FsZUJ5Q29udGFpbmVyID0gY29udGFpbmVyLndpZHRoO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBzY2FsZUJ5Q29udGFpbmVyID0gY29udGFpbmVyLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGl2ID0gZDMuc2VsZWN0KCdib2R5JykuYXBwZW5kKCdkaXYnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd0b29sdGlwJylcclxuICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCAwKTtcclxuXHJcblxyXG4gICAgdmFyIGdyaWRTaXplID0gTWF0aC5mbG9vcihzY2FsZUJ5Q29udGFpbmVyIC8gc2NhbGVCeU1pbkNhdGVnb3J5KTtcclxuXHJcbiAgICAvL1JlbW92ZSBTY2FsaW5nIGZvciByaWdodCBub3dcclxuICAgIC8vaWYgKGdyaWRTaXplIDwgMTUpIHtcclxuICAgIC8vZ3JpZFNpemUgPSAxNTtcclxuICAgIC8vfSBlbHNlIGlmIChncmlkU2l6ZSA+IDExNSkge1xyXG5cclxuICAgIC8vfVxyXG4gICAgZ3JpZFNpemUgPSAyMDtcclxuXHJcbiAgICB2YXIgdmlzID0gc3ZnLmFwcGVuZCgnZycpLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwwKScpLmF0dHIoJ2NsYXNzJywgJ2hlYXRtYXAnKTtcclxuXHJcbiAgICB2YXIgeUF4aXNUaXRsZSA9IHZpcy5zZWxlY3RBbGwoJy5oZWF0bWFwJylcclxuICAgICAgICAuZGF0YShbaGVhdE1hcERhdGEuZGF0YVRhYmxlLnldKTtcclxuXHJcbiAgICB5QXhpc1RpdGxlLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnYXhpc0xhYmVscyBib2xkJylcclxuICAgICAgICAuYXR0cigneCcsIC0yMSlcclxuICAgICAgICAuYXR0cigneScsIC01KVxyXG4gICAgICAgIC5hdHRyKCd0ZXh0LWFuY2hvcicsICdlbmQnKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHlBeGlzVGl0bGUuZXhpdCgpLnJlbW92ZSgpO1xyXG4gICAgdmFyIGZvcm1hdFR5cGUgPSBqdkNoYXJ0cy5qdkZvcm1hdFZhbHVlVHlwZShjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEudmFsdWVzKTtcclxuXHJcbiAgICB2YXIgeUF4aXMgPSB2aXMuc2VsZWN0QWxsKCcueUF4aXMnKVxyXG4gICAgICAgIC5kYXRhKGhlYXRNYXBEYXRhLnlBeGlzRGF0YS52YWx1ZXMpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4ganZDaGFydHMuanZGb3JtYXRWYWx1ZShkLCBmb3JtYXRUeXBlKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4JywgMClcclxuICAgICAgICAuYXR0cigneScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpICogZ3JpZFNpemU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ3RleHQtYW5jaG9yJywgJ2VuZCcpXHJcbiAgICAgICAgLnN0eWxlKCdmb250LXNpemUnLCBjaGFydC5vcHRpb25zLmZvbnRTaXplKVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKC02LCcgKyBncmlkU2l6ZSAvIDEuNSArICcpJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gJ3Jvd0xhYmVsIHBvaW50ZXInOyB9KVxyXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAvL3JlbW92aW5nIHN0eWxpbmdcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcucm93TGFiZWwnKS5jbGFzc2VkKCd0ZXh0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuY29sTGFiZWwnKS5jbGFzc2VkKCd0ZXh0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5oZWF0JykuY2xhc3NlZCgncmVjdC1ib3JkZXInLCBmYWxzZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZCk7XHJcbiAgICAgICAgICAgIC8vZmFkZSBhbGwgcmVjdHMgZXhjZXB0IGluIHRoaXMgcm93XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZ1bmN0aW9uIChyLCByaSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YS52YWx1ZXNbaV0gPT09IGQgJiYgZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoci55QXhpcyAhPSBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgdmFyIHhBeGlzVGl0bGUgPSB2aXMuc2VsZWN0QWxsKCcueEF4aXNUaXRsZScpXHJcbiAgICAgICAgLmRhdGEoW2hlYXRNYXBEYXRhLmRhdGFUYWJsZS54XSk7XHJcblxyXG4gICAgeEF4aXNUaXRsZS5lbnRlcigpLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2F4aXNMYWJlbHMgYm9sZCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCA2KVxyXG4gICAgICAgIC5hdHRyKCd5JywgOSlcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIC1ncmlkU2l6ZSArICcsIC0yMClyb3RhdGUoLTQ1KSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB4QXhpc1RpdGxlLmV4aXQoKS5yZW1vdmUoKTtcclxuXHJcbiAgICB2YXIgeEF4aXMgPSB2aXMuc2VsZWN0QWxsKCcueEF4aXMnKVxyXG4gICAgICAgIC5kYXRhKGhlYXRNYXBEYXRhLnhBeGlzRGF0YS52YWx1ZXMpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdzdmc6ZycpO1xyXG5cclxuICAgIGZvcm1hdFR5cGUgPSBqdkNoYXJ0cy5qdkZvcm1hdFZhbHVlVHlwZShjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEudmFsdWVzKTtcclxuXHJcbiAgICB4QXhpcy5hcHBlbmQoJ3RleHQnKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBqdkNoYXJ0cy5qdkZvcm1hdFZhbHVlKGQsIGZvcm1hdFR5cGUpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCd0ZXh0LWFuY2hvcicsICdzdGFydCcpXHJcbiAgICAgICAgLmF0dHIoJ3gnLCA2KVxyXG4gICAgICAgIC5hdHRyKCd5JywgNylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkgeyByZXR1cm4gJ2NvbExhYmVsIHBvaW50ZXInOyB9KVxyXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgnICsgKChpICogZ3JpZFNpemUpKSArICcsIC02KXJvdGF0ZSgtNDUpJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgY2hhcnQub3B0aW9ucy5mb250U2l6ZSlcclxuICAgICAgICAub24oJ2NsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgLy9yZW1vdmluZyBzdHlsaW5nXHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLnJvd0xhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmNvbExhYmVsJykuY2xhc3NlZCgndGV4dC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtYm9yZGVyJywgZmFsc2UpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIC8vZmFkZSBhbGwgcmVjdHMgZXhjZXB0IGluIHRoaXMgY29sdW1uXHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZ1bmN0aW9uIChyLCByaSkge1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YS52YWx1ZXNbaV0gPT09IGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIueEF4aXMgIT09IGkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICB2YXIgd2lkdGggPSBoZWF0TWFwRGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aCAqIGdyaWRTaXplO1xyXG4gICAgdmFyIGhlaWdodCA9IGhlYXRNYXBEYXRhLnlBeGlzRGF0YS52YWx1ZXMubGVuZ3RoICogZ3JpZFNpemU7XHJcbiAgICB2YXIgZm9ybWF0VmFsdWVUeXBlID0ganZDaGFydHMuanZGb3JtYXRWYWx1ZVR5cGUoY2hhcnQuZGF0YS5oZWF0RGF0YSk7XHJcblxyXG4gICAgLy92ZXJ0aWNhbCBsaW5lc1xyXG4gICAgdmFyIHZMaW5lID0gdmlzLnNlbGVjdEFsbCgnLnZsaW5lJylcclxuICAgICAgICAuZGF0YShkMy5yYW5nZShoZWF0TWFwRGF0YS54QXhpc0RhdGEudmFsdWVzLmxlbmd0aCArIDEpKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgLmF0dHIoJ3gxJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQgKiBncmlkU2l6ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4MicsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkICogZ3JpZFNpemU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd5MicsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBoZWlnaHQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICcjZWVlJyk7XHJcblxyXG4gICAgLy9ob3Jpem9udGFsIGxpbmVzXHJcbiAgICB2YXIgaExpbmUgPSB2aXMuc2VsZWN0QWxsKCcuaGxpbmUnKVxyXG4gICAgICAgIC5kYXRhKGQzLnJhbmdlKGhlYXRNYXBEYXRhLnlBeGlzRGF0YS52YWx1ZXMubGVuZ3RoICsgMSkpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAuYXR0cigneTEnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZCAqIGdyaWRTaXplO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3kyJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQgKiBncmlkU2l6ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd4MScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3gyJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHdpZHRoO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnI2VlZScpO1xyXG5cclxuICAgIHZhciBoZWF0TWFwID0gdmlzLnNlbGVjdEFsbCgnLmhlYXQnKVxyXG4gICAgICAgIC5kYXRhKGRhdGEpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAuYXR0cigneCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoZC54QXhpcykgKiBncmlkU2l6ZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCd5JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChkLnlBeGlzKSAqIGdyaWRTaXplO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3J4JywgMilcclxuICAgICAgICAuYXR0cigncnknLCAyKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdoZWF0JylcclxuICAgICAgICAuYXR0cignd2lkdGgnLCBncmlkU2l6ZSAtIDEpXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGdyaWRTaXplIC0gMSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAocXVhbnRpbGVzID09PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy5kb21haW5BcnJheS5sZW5ndGggPT09IDAgfHwgKGQudmFsdWUgPj0gY2hhcnQub3B0aW9ucy5kb21haW5BcnJheVswXSAmJiBkLnZhbHVlIDw9IGNoYXJ0Lm9wdGlvbnMuZG9tYWluQXJyYXlbMV0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0LmRhdGEuY29sb3JTY2FsZShkLnZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiAnd2hpdGUnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBxdWFudGl6ZWRBcnJheSA9IHF1YW50aXplZChoZWF0TWFwRGF0YS5oZWF0U2NvcmVzWzBdLCBoZWF0TWFwRGF0YS5oZWF0U2NvcmVzW2hlYXRNYXBEYXRhLmhlYXRTY29yZXMubGVuZ3RoIC0gMV0pO1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy5kb21haW5BcnJheS5sZW5ndGggPT0gMCB8fCAoZC52YWx1ZSA+PSBjaGFydC5vcHRpb25zLmRvbWFpbkFycmF5WzBdICYmIGQudmFsdWUgPD0gY2hhcnQub3B0aW9ucy5kb21haW5BcnJheVsxXSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBnZXRRdWFudGl6ZWRDb2xvcihxdWFudGl6ZWRBcnJheSwgZC52YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuICd3aGl0ZSc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgdGlwRGF0YS5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3JTY2FsZShkLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIC8vRHJhdyB0aXBcclxuICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAvL3JlbW92aW5nIHN0eWxpbmdcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcucm93TGFiZWwnKS5jbGFzc2VkKCd0ZXh0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuY29sTGFiZWwnKS5jbGFzc2VkKCd0ZXh0LWhpZ2hsaWdodCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZmFsc2UpO1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5oZWF0JykuY2xhc3NlZCgncmVjdC1ib3JkZXInLCBmYWxzZSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oJ2RibGNsaWNrJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgLy9ib3JkZXIgYXJvdW5kIHNlbGVjdGVkIHJlY3RcclxuICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmNsYXNzZWQoJ3JlY3QtYm9yZGVyJywgdHJ1ZSk7XHJcblxyXG4gICAgICAgICAgICAvL0ZhZGUgcm93IGxhYmVsc1xyXG4gICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5yb3dMYWJlbCcpLmNsYXNzZWQoJ3RleHQtaGlnaGxpZ2h0JywgZnVuY3Rpb24gKHIsIHJpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIShyaSA9PSAoZC55QXhpcykpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgLy9mYWRlIGNvbHVtbiBsYWJlbHNcclxuICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuY29sTGFiZWwnKS5jbGFzc2VkKCd0ZXh0LWhpZ2hsaWdodCcsIGZ1bmN0aW9uIChyLCByaSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCEocmkgPT0gKGQueEF4aXMpKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIC8vZmFkZSBhbGwgcmVjdHMgZXhjZXB0IHNlbGVjdGVkXHJcbiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgnLmhlYXQnKS5jbGFzc2VkKCdyZWN0LWhpZ2hsaWdodCcsIGZ1bmN0aW9uIChyLCByaSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHIueUF4aXMgIT0gZC55QXhpcyB8fCByLnhBeGlzICE9IGQueEF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgXHJcbiAgICBjaGFydC5jaGFydERpdi5zZWxlY3QoXCJzdmcuaGVhdExlZ2VuZFwiKS5yZW1vdmUoKTtcclxuXHJcbiAgICBpZiAodG9nZ2xlTGVnZW5kKSB7XHJcbiAgICAgICAgdmFyIGxlZ2VuZENvbnRhaW5lciA9IGNoYXJ0LmNoYXJ0RGl2LmFwcGVuZCgnc3ZnJylcclxuICAgICAgICAgICAgLnN0eWxlKCd0b3AnLCBjaGFydC5jb25maWcubWFyZ2luLnRvcCArICdweCcpXHJcbiAgICAgICAgICAgIC5zdHlsZSgnYmFja2dyb3VuZCcsIGNoYXJ0Lm9wdGlvbnMuYmFja2dyb3VuZENvbG9yKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnaGVhdExlZ2VuZCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIGNoYXJ0LmNvbmZpZy5oZWF0V2lkdGgpO1xyXG5cclxuICAgICAgICB2YXIgbGVnZW5kVHJhbnNsYXRpb24gPSB7IHg6IDAsIHk6IDE1IH0sXHJcbiAgICAgICAgICAgIGxlZ2VuZFJlY3RTaXplID0gZ3JpZFNpemUsXHJcbiAgICAgICAgICAgIGxlZ2VuZFNwYWNpbmcgPSAyLFxyXG4gICAgICAgICAgICBsZWdlbmRFbGVtZW50V2lkdGggPSAyMDtcclxuXHJcbiAgICAgICAgaWYgKGdyaWRTaXplID4gMjApIHtcclxuICAgICAgICAgICAgbGVnZW5kUmVjdFNpemUgPSAyMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBsZWdlbmQgPSBsZWdlbmRDb250YWluZXIuc2VsZWN0QWxsKCcubGVnZW5kJylcclxuICAgICAgICAgICAgLmRhdGEoY2hhcnQuZGF0YS5oZWF0RGF0YSlcclxuICAgICAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gbGVnZW5kUmVjdFNpemUgKyBsZWdlbmRTcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgdmFyIG9mZnNldCA9IGhlaWdodCAqIGNoYXJ0LmRhdGEuY29sb3JTY2FsZS5kb21haW4oKS5sZW5ndGggLyAyO1xyXG4gICAgICAgICAgICAgICAgdmFyIGhvcnogPSAtMiAqIGxlZ2VuZFJlY3RTaXplO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZlcnQgPSBpICogaGVpZ2h0IC0gb2Zmc2V0O1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0cmFuc2xhdGUoJyArIDAgKyAnLCcgKyAobGVnZW5kUmVjdFNpemUgKiBpKSArICcpJztcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxlZ2VuZC5hcHBlbmQoJ3JlY3QnKVxyXG4gICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnbGVnZW5kJylcclxuICAgICAgICAgICAgLmF0dHIoJ3dpZHRoJywgbGVnZW5kUmVjdFNpemUpXHJcbiAgICAgICAgICAgIC5hdHRyKCdoZWlnaHQnLCBsZWdlbmRSZWN0U2l6ZSlcclxuICAgICAgICAgICAgLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcnNbaV07XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgLy9yZW1vdmluZyBzdHlsaW5nXHJcbiAgICAgICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5oZWF0JykuY2xhc3NlZCgncmVjdC1oaWdobGlnaHQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbignZGJsY2xpY2snLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgLy9yZW1vdmluZyBzdHlsaW5nXHJcbiAgICAgICAgICAgICAgICAvL2ZhZGUgYWxsIHJlY3RzIGV4Y2VwdCBzZWxlY3RlZFxyXG4gICAgICAgICAgICAgICAgZDMuc2VsZWN0QWxsKCcuaGVhdCcpLmNsYXNzZWQoJ3JlY3QtaGlnaGxpZ2h0JywgZnVuY3Rpb24gKHIsIHJpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIudmFsdWUgPCBkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgbGVnZW5kLmFwcGVuZCgndGV4dCcpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdsZWdlbmRUZXh0JylcclxuICAgICAgICAgICAgLmF0dHIoJ3gnLCBsZWdlbmRSZWN0U2l6ZSArIGxlZ2VuZFNwYWNpbmcpXHJcbiAgICAgICAgICAgIC5hdHRyKCd5JywgbGVnZW5kUmVjdFNpemUgLSBsZWdlbmRTcGFjaW5nKVxyXG4gICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hhcnQuanZGb3JtYXRWYWx1ZShkLCBmb3JtYXRWYWx1ZVR5cGUpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnYmxhY2snKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBxdWFudGl6ZWQobWluLCBtYXgpIHtcclxuICAgICAgICBidWNrZXRDb3VudCA9IGNoYXJ0Lm9wdGlvbnMuYnVja2V0cztcclxuICAgICAgICB2YXIgc2VjdGlvblZhbHVlID0gKG1heCAtIG1pbikgLyBidWNrZXRDb3VudDtcclxuICAgICAgICB2YXIgcXVhbnRpemVkQXJyYXkgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1Y2tldENvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgcXVhbnRpemVkQXJyYXlbaV0gPSBtaW4gKyBpICogc2VjdGlvblZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcXVhbnRpemVkQXJyYXk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0UXVhbnRpemVkQ29sb3IocXVhbnRpemVkQXJyYXksIHZhbHVlKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBxdWFudGl6ZWRBcnJheS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUgPCBxdWFudGl6ZWRBcnJheVtpXSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yc1tpIC0gMV07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbG9yc1txdWFudGl6ZWRBcnJheS5sZW5ndGggLSAxXTtcclxuICAgIH1cclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0czsiLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmxpbmUgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVMaW5lID0gZ2VuZXJhdGVMaW5lO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuc2V0TGluZVRocmVzaG9sZERhdGEgPSBzZXRMaW5lVGhyZXNob2xkRGF0YTtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogTGluZSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0TGluZURhdGFcclxuICogIGdldHMgbGluZSBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YShjaGFydCkge1xyXG5cclxuICAgIC8vc29ydCBjaGFydCBkYXRhIGlmIHRoZXJlIGlzIGEgc29ydCB0eXBlIGFuZCBsYWJlbCBpbiB0aGUgb3B0aW9uc1xyXG4gICAgaWYgKGNoYXJ0Lm9wdGlvbnMuc29ydFR5cGUpIHtcclxuICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy5zb3J0TGFiZWwgJiYgY2hhcnQub3B0aW9ucy5zb3J0VHlwZSAhPT0gJ2RlZmF1bHQnKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0Lm9yZ2FuaXplQ2hhcnREYXRhKGNoYXJ0Lm9wdGlvbnMuc29ydExhYmVsLCBjaGFydC5vcHRpb25zLnNvcnRUeXBlLCBkYXRhVGFibGVLZXlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRCYXJMaW5lTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3gnLCBjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueUF4aXNEYXRhID0gY2hhcnQuc2V0QXhpc0RhdGEoJ3knLCBjaGFydC5kYXRhKTtcclxuXHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Lm9wdGlvbnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxufTtcclxuLyoqc2V0QmFyTGluZUxlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRCYXJMaW5lTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YS5kYXRhVGFibGUpIHtcclxuICAgICAgICBpZiAoZGF0YS5kYXRhVGFibGUuaGFzT3duUHJvcGVydHkoaXRlbSkpIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0gIT09ICdsYWJlbCcpIHtcclxuICAgICAgICAgICAgICAgIGxlZ2VuZEFycmF5LnB1c2goZGF0YS5kYXRhVGFibGVbaXRlbV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcbi8qKiBwYWludExpbmVDaGFydFxyXG4gKlxyXG4gKiBUaGUgaW5pdGlhbCBzdGFydGluZyBwb2ludCBmb3IgbGluZSBjaGFydCwgYmVnaW5zIHRoZSBkcmF3aW5nIHByb2Nlc3MuIE11c3QgYWxyZWFkeSBoYXZlIHRoZSBkYXRhIHN0b3JlZCBpbiB0aGUgY2hhcnRcclxuICogb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBwYWludChjaGFydCkge1xyXG4gICAgLy9Vc2VzIHRoZSBvcmlnaW5hbCBkYXRhIGFuZCB0aGVuIG1hbmlwdWxhdGVzIGl0IGJhc2VkIG9uIGFueSBleGlzdGluZyBvcHRpb25zXHJcbiAgICB2YXIgZGF0YU9iaiA9IGNoYXJ0LmdldEJhckRhdGFGcm9tT3B0aW9ucygpO1xyXG5cclxuICAgIC8vYXNzaWduIGN1cnJlbnQgZGF0YSB3aGljaCBpcyB1c2VkIGJ5IGFsbCBiYXIgY2hhcnQgb3BlcmF0aW9uc1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBkYXRhT2JqO1xyXG5cclxuICAgIC8vZ2VuZXJhdGUgc3ZnIGR5bmFtaWNhbGx5IGJhc2VkIG9uIGxlZ2VuZCBkYXRhXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhkYXRhT2JqLmxlZ2VuZERhdGEpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVYQXhpcyhkYXRhT2JqLnhBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVlBeGlzKGRhdGFPYmoueUF4aXNEYXRhKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGVnZW5kKGRhdGFPYmoubGVnZW5kRGF0YSwgJ2dlbmVyYXRlTGluZScpO1xyXG4gICAgaWYoY2hhcnQub3B0aW9ucy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzKCkubGVuZ3RoKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY2hhcnQuZm9ybWF0WEF4aXNMYWJlbHMoZGF0YU9iai54QXhpc1NjYWxlLmRvbWFpbigpLmxlbmd0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hhcnQuZ2VuZXJhdGVMaW5lKGRhdGFPYmopO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRoZSBpbml0aWFsIHN0YXJ0aW5nIHBvaW50IGZvciB0aGUgYXJlYSBjaGFydC4gU2ltaWxhciB0byBsaW5lIGNoYXJ0IGxvZ2ljIHdpdGggdGhlIGFkZGl0aW9uIG9mIGEgZmlsbCBhcmVhIGZ1bmN0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gcGFpbnRBcmVhQ2hhcnQoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzO1xyXG4gICAgY2hhcnQucGFpbnRMaW5lQ2hhcnQoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqXHJcbiAqL1xyXG5mdW5jdGlvbiBmaWxsQXJlYShsaW5lRGF0YSkge1xyXG5cclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIG9wdGlvbnMgPSBjaGFydC5vcHRpb25zLFxyXG4gICAgICAgIHhBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSxcclxuICAgICAgICB5QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEsXHJcbiAgICAgICAgbGVnZW5kRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmxlZ2VuZERhdGEsXHJcbiAgICAgICAgLy9saW5lRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIGNvbG9ycyA9IG9wdGlvbnMuY29sb3I7XHJcblxyXG4gICAgLy9JZiBhIGxlZ2VuZCBlbGVtZW50IGlzIHRvZ2dsZWQgb2ZmLCB1c2UgdGhlIG5ldyBsaXN0IG9mIGhlYWRlcnNcclxuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KCdsZWdlbmRIZWFkZXJzJykpIHtcclxuICAgICAgICBsZWdlbmREYXRhID0gb3B0aW9ucy5sZWdlbmRIZWFkZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vR2V0IHRoZSBYIGFuZCBZIFNjYWxlXHJcbiAgICB2YXIgeCA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIHhBeGlzRGF0YSwgY29udGFpbmVyLCAnbm8tcGFkZGluZycsIG51bGwsIG9wdGlvbnMpO1xyXG4gICAgdmFyIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgJ25vLXBhZGRpbmcnLCBudWxsLCBvcHRpb25zKTtcclxuXHJcbiAgICAvL0lmIGF4aXMgYXJlIG5vcm1hbFxyXG4gICAgaWYgKCFvcHRpb25zLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICB2YXIgYXJlYSA9IGQzLmFyZWEoKVxyXG4gICAgICAgICAgICAueChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHgoZC54KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnkwKGNvbnRhaW5lci5oZWlnaHQpXHJcbiAgICAgICAgICAgIC55MShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHkoZC55KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB2YXIgYXJlYSA9IGQzLmFyZWEoKVxyXG4gICAgICAgICAgICAueShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHkoZC55KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLngxKDApXHJcbiAgICAgICAgICAgIC54MChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHgoZC54KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHZhciBkYXRhID0ge307XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lRGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbGVnZW5kRGF0YS5sZW5ndGg7IGsrKykge1xyXG5cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsZWdlbmREYXRhICE9PSBcInVuZGVmaW5lZFwiKSB7Ly9BY2NvdW50aW5nIGZvciBsZWdlbmQgdG9nZ2xlc1xyXG4gICAgICAgICAgICAgICAgaWYgKGxlZ2VuZERhdGFba10udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vRG9uJ3Qgd3JpdGUgYW55dGhpbmcgdG8gZGF0YVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhW2xlZ2VuZERhdGFba11dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFvcHRpb25zLnJvdGF0ZUF4aXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd4JzogbGluZURhdGFbaV1beEF4aXNEYXRhLmxhYmVsXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICd5JzogcGFyc2VGbG9hdChsaW5lRGF0YVtpXVtsZWdlbmREYXRhW2tdXSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBsaW5lRGF0YVtpXVt5QXhpc0RhdGEubGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ3gnOiBwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7Ly9Jbml0aWFsIGNyZWF0aW9uIG9mIHZpc3VhbGl6YXRpb24gdy9vIGxlZ2VuZCBvcHRpb25zXHJcbiAgICAgICAgICAgICAgICBpZiAoIWRhdGFbbGVnZW5kRGF0YVtrXV0pIHtcclxuICAgICAgICAgICAgICAgICAgICBkYXRhW2xlZ2VuZERhdGFba11dID0gW107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoIW9wdGlvbnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0ucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICd4JzogbGluZURhdGFbaV1beEF4aXNEYXRhLmxhYmVsXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXS5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ3knOiBsaW5lRGF0YVtpXVt5QXhpc0RhdGEubGFiZWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAneCc6IHBhcnNlRmxvYXQobGluZURhdGFbaV1bbGVnZW5kRGF0YVtrXV0pXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIHN2Zy5zZWxlY3RBbGwoXCIuYXJlYVwiKS5yZW1vdmUoKTtcclxuXHJcbiAgICB2YXIgaWkgPSAwO1xyXG4gICAgZm9yICh2YXIgaSBpbiBkYXRhKSB7XHJcbiAgICAgICAgc3ZnLmFwcGVuZChcInBhdGhcIilcclxuICAgICAgICAgICAgLmRhdHVtKGRhdGFbaV0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChjaGFydC5vcHRpb25zLmNvbG9yTGluZSA9PSB0cnVlICYmIGNoYXJ0Lm9wdGlvbnMudGhyZXNob2xkcyAhPSAnbm9uZScgJiYgY2hhcnQub3B0aW9ucy5jb2xvckNoYXJ0ICE9IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJlYSBhcmVhLXRocmVzaG9sZFwiXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFyZWFcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJkXCIsIGFyZWEpXHJcbiAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGssIGkpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcIm9wYWNpdHlcIiwgMC42KVxyXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IGNvbnRhaW5lci5oZWlnaHQgLyBsaW5lRGF0YS5sZW5ndGggLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZSgwLCBcIiArIHRyYW5zbGF0aW9uICsgXCIpXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHJhbnNsYXRpb24gPSBjb250YWluZXIud2lkdGggLyBsaW5lRGF0YS5sZW5ndGggLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIHRyYW5zbGF0aW9uICsgXCIsIDApXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5hdHRyKFwicG9pbnRlci1ldmVudHNcIiwgXCJub25lXCIpO1xyXG4gICAgICAgIGlpKys7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKiBnZW5lcmF0ZUxpbmVcclxuICpcclxuICogUGFpbnRzIHRoZSBsaW5lc1xyXG4gKiBAcGFyYW1zIGxpbmVEYXRhXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUxpbmUobGluZURhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIG9wdGlvbnMgPSBjaGFydC5vcHRpb25zLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXI7XHJcblxyXG5cclxuICAgIHN2Zy5zZWxlY3RBbGwoXCJnLmxpbmUtY29udGFpbmVyXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgIC8vVXNlZCB0byBkcmF3IGxpbmUgdGhhdCBhcHBlYXJzIHdoZW4gdG9vbCB0aXBzIGFyZSB2aXNpYmxlXHJcbiAgICB2YXIgdGlwTGluZVggPSAwLFxyXG4gICAgICAgIHRpcExpbmVXaWR0aCA9IDAsXHJcbiAgICAgICAgdGlwTGluZUhlaWdodCA9IDAsXHJcbiAgICAgICAgdGlwTGluZVkgPSAwO1xyXG5cclxuICAgIHZhciBjb2xvcnMgPSBvcHRpb25zLmNvbG9yLCB4LCB5O1xyXG5cclxuICAgIHN2Zy5zZWxlY3RBbGwoXCJnLmxpbmUtY29udGFpbmVyXCIpLnJlbW92ZSgpO1xyXG4gICAgdmFyIGxpbmVzID0gc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwibGluZS1jb250YWluZXJcIilcclxuICAgICAgICAuc2VsZWN0QWxsKFwiZ1wiKTtcclxuXHJcbiAgICB2YXIgZGF0YUhlYWRlcnMgPSBjaGFydC5vcHRpb25zLnNlcmllc0ZsaXBwZWQgPyBjaGFydC5vcHRpb25zLmZsaXBwZWRMZWdlbmRIZWFkZXJzID8gY2hhcnQub3B0aW9ucy5mbGlwcGVkTGVnZW5kSGVhZGVycyA6IGxpbmVEYXRhLmxlZ2VuZERhdGEgOiBjaGFydC5vcHRpb25zLmxlZ2VuZEhlYWRlcnMgPyBjaGFydC5vcHRpb25zLmxlZ2VuZEhlYWRlcnMgOiBsaW5lRGF0YS5sZWdlbmREYXRhO1xyXG4gICAgdmFyIGxpbmVEYXRhTmV3ID0ganZDaGFydHMuZ2V0VG9nZ2xlZERhdGEobGluZURhdGEsIGRhdGFIZWFkZXJzKTtcclxuXHJcbiAgICAvL0lmIGl0J3MgYW4gYXJlYSBjaGFydCwgYWRkIHRoZSBhcmVhXHJcbiAgICBpZiAoY2hhcnQuY29uZmlnLnR5cGUgPT09ICdhcmVhJykge1xyXG4gICAgICAgIGNoYXJ0LmZpbGxBcmVhKGxpbmVEYXRhTmV3KTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbGluZUdyb3VwcyA9IGdlbmVyYXRlTGluZUdyb3VwcyhsaW5lcywgbGluZURhdGFOZXcsIGNoYXJ0KTtcclxuICAgIHZhciBldmVudEdyb3VwcyA9IGp2Q2hhcnRzLmdlbmVyYXRlRXZlbnRHcm91cHMobGluZXMsIGxpbmVEYXRhTmV3LCBjaGFydCk7XHJcblxyXG4gICAgZXZlbnRHcm91cHNcclxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKGQsIGksIGopIHsgLy8gVHJhbnNpdGlvbnMgaW4gRDMgZG9uJ3Qgc3VwcG9ydCB0aGUgJ29uJyBmdW5jdGlvbiBUaGV5IG9ubHkgZXhpc3Qgb24gc2VsZWN0aW9ucy4gU28gbmVlZCB0byBtb3ZlIHRoYXQgZXZlbnQgbGlzdGVuZXIgYWJvdmUgdHJhbnNpdGlvbiBhbmQgYWZ0ZXIgYXBwZW5kXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKFwiLnRpcC1saW5lXCIpLnJlbW92ZSgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLCBpKTtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICBzdmcuc2VsZWN0QWxsKFwiLnRpcC1saW5lXCIpLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIGNoYXJ0LmRpc3BsYXlWYWx1ZXMoKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlQ2xpcFBhdGgoKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlTGluZVRocmVzaG9sZCgpO1xyXG5cclxuICAgIHJldHVybiBsaW5lcztcclxufTtcclxuXHJcbi8qKiBnZW5lcmF0ZUxpbmVHcm91cHNcclxuICpcclxuICogUGFpbnRzIHRoZSBncm91cHMgb2YgdGhlIGxpbmVzXHJcbiAqIEBwYXJhbXMgY2hhcnRDb250YWluZXIsIGJhckRhdGEsIGNoYXJ0XHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUxpbmVHcm91cHMobGluZUNvbnRhaW5lciwgbGluZURhdGEsIGNoYXJ0KSB7XHJcbiAgICB2YXIgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBvcHRpb25zID0gY2hhcnQub3B0aW9ucyxcclxuICAgICAgICB4QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEsXHJcbiAgICAgICAgeUF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhLFxyXG4gICAgICAgIGxlZ2VuZERhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLFxyXG4gICAgICAgIGNvbG9ycyA9IG9wdGlvbnMuY29sb3IsXHJcbiAgICAgICAgbGluZXM7XHJcblxyXG4gICAgLy9HZXQgUG9zaXRpb24gQ2FsY3VsYXRpb25zXHJcbiAgICB2YXIgeCA9IGp2Q2hhcnRzLmdldEF4aXNTY2FsZSgneCcsIHhBeGlzRGF0YSwgY29udGFpbmVyLCAnbm8tcGFkZGluZycsIG9wdGlvbnMpO1xyXG4gICAgdmFyIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgJ25vLXBhZGRpbmcnLCBvcHRpb25zKTtcclxuXHJcbiAgICB2YXIgeFRyYW5zbGF0ZSxcclxuICAgICAgICB5VHJhbnNsYXRlO1xyXG5cclxuICAgIGlmIChvcHRpb25zLnJvdGF0ZUF4aXMgPT09IHRydWUpIHtcclxuICAgICAgICB4VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHgoZCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICB5VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICh5KGxpbmVEYXRhW2ldW3lBeGlzRGF0YS5sYWJlbF0pKSArIChjb250YWluZXIuaGVpZ2h0IC8gKGxpbmVEYXRhLmxlbmd0aCkgLyAyKTsvLyArIGNvbnRhaW5lci5oZWlnaHQgLyAobGluZURhdGEubGVuZ3RoKSAvIDIgIC0geS5wYWRkaW5nSW5uZXIoKSk7XHJcbiAgICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgeFRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoeChsaW5lRGF0YVtpXVt4QXhpc0RhdGEubGFiZWxdKSkgKyAoY29udGFpbmVyLndpZHRoIC8gKGxpbmVEYXRhLmxlbmd0aCkgLyAyKTsvLyArIGNvbnRhaW5lci53aWR0aCAvIChsaW5lRGF0YS5sZW5ndGgpIC8gMiAtIHgucGFkZGluZ0lubmVyKCkpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgeVRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB5KGQpO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgLy9BcHBlbmQgbGluZXMgYW5kIGNpcmNsZXNcclxuXHJcbiAgICB2YXIgZGF0YSA9IHt9O1xyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZURhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGxlZ2VuZERhdGEubGVuZ3RoOyBrKyspIHtcclxuXHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5sZWdlbmRPcHRpb25zICE9PSBcInVuZGVmaW5lZFwiKSB7Ly9BY2NvdW50aW5nIGZvciBsZWdlbmQgdG9nZ2xlc1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMubGVnZW5kT3B0aW9uc1trXS50b2dnbGUgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy9Eb24ndCB3cml0ZSBhbnl0aGluZyB0byBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvL1dyaXRlIHNvbWV0aGluZyB0byBkYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkYXRhW2xlZ2VuZERhdGFba11dKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVtsZWdlbmREYXRhW2tdXS5wdXNoKHBhcnNlRmxvYXQobGluZURhdGFbaV1bbGVnZW5kRGF0YVtrXV0pKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHsvL0luaXRpYWwgY3JlYXRpb24gb2YgdmlzdWFsaXphdGlvbiB3L28gbGVnZW5kIG9wdGlvbnNcclxuICAgICAgICAgICAgICAgIGlmICghZGF0YVtsZWdlbmREYXRhW2tdXSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0gPSBbXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChkYXRhW2xlZ2VuZERhdGFba11dLmxlbmd0aCA8IGxpbmVEYXRhLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGRhdGFbbGVnZW5kRGF0YVtrXV0ucHVzaChwYXJzZUZsb2F0KGxpbmVEYXRhW2ldW2xlZ2VuZERhdGFba11dKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgfVxyXG5cclxuICAgIGNoYXJ0LnN2Zy5zZWxlY3RBbGwoXCIubGluZXNcIikucmVtb3ZlKCk7XHJcblxyXG4gICAgY2hhcnQuc3ZnLnNlbGVjdEFsbChcIi5saW5lXCIpLnJlbW92ZSgpO1xyXG4gICAgY2hhcnQuc3ZnLnNlbGVjdEFsbChcIi5jaXJjbGVcIikucmVtb3ZlKCk7XHJcbiAgICBjaGFydC5zdmcuc2VsZWN0QWxsKFwiI2xpbmUtZ3JhZGllbnRcIikucmVtb3ZlKCk7XHJcblxyXG4gICAgbGluZXMgPSBjaGFydC5zdmcuc2VsZWN0QWxsKFwiLmxpbmUtY29udGFpbmVyXCIpO1xyXG5cclxuICAgIHZhciB2YWx1ZWxpbmUgPSB7fTtcclxuICAgIHZhciBjaXJjbGVzID0ge307XHJcbiAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgdmFyIGxpbmVDb2xvcnMgPSBbXTtcclxuICAgIHZhciBtYXg7XHJcbiAgICB2YXIgbWluO1xyXG4gICAgdmFyIHRocmVzaG9sZGluZyA9IGZhbHNlO1xyXG4gICAgZm9yICh2YXIgayBpbiBkYXRhKSB7XHJcbiAgICAgICAgLy9DcmVhdGUgcGF0aCBnZW5lcmF0b3IgZm9yIGVhY2ggc2VyaWVzXHJcbiAgICAgICAgaWYgKGRhdGEuaGFzT3duUHJvcGVydHkoaykpIHtcclxuICAgICAgICAgICAgdmFsdWVsaW5lW2tdID0gZDMubGluZSgpLy9saW5lIGRyYXdpbmcgZnVuY3Rpb25cclxuICAgICAgICAgICAgICAgIC54KGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzTmFOKGQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geFRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAueShmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHlUcmFuc2xhdGUoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcblxyXG5cclxuICAgICAgICAgICAgLy9BZGQgbGluZXMgdG8gdGhlIGxpbmUtY29udGFpbmVyXHJcbiAgICAgICAgICAgIGxpbmVzXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKCdnJylcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICdsaW5lICcgKyAoaykpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwicGF0aFwiKS8vZHJhd3MgdGhlIGxpbmVcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdzdHJva2UnLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2xvck9iaiA9IGp2Q2hhcnRzLmdldENvbG9ycyhjb2xvcnMsIGksIGspO1xyXG4gICAgICAgICAgICAgICAgICAgIGxpbmVDb2xvcnMucHVzaChjb2xvck9iaik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yT2JqO1xyXG4gICAgICAgICAgICAgICAgfSkgICAvLyBmaWxscyB0aGUgYmFyIHdpdGggY29sb3JcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIFwiMlwiKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwibm9uZVwiKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJkXCIsIHZhbHVlbGluZVtrXShkYXRhW2tdKSk7XHJcblxyXG4gICAgICAgICAgICAvL0NvbG9yIFRocmVzaG9sZGluZyBmb3IgZWFjaCB0aWVyXHJcbiAgICAgICAgICAgIGlmIChjaGFydC5vcHRpb25zLnRocmVzaG9sZHMgIT0gJ25vbmUnICYmIGNoYXJ0Lm9wdGlvbnMuY29sb3JDaGFydCAhPSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNoYXJ0Lm9wdGlvbnMuY29sb3JMaW5lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZFBlcmNlbnRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0Lm9wdGlvbnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgemVybyA9IHsgcGVyY2VudDogMCwgY29sb3I6IGxpbmVDb2xvcnNbaW5kZXhdIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocmVzaG9sZFBlcmNlbnRzLnB1c2goemVybyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB6ID0gMDsgeiA8IE9iamVjdC5rZXlzKGNoYXJ0Lm9wdGlvbnMudGhyZXNob2xkcykubGVuZ3RoOyB6KyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwQ2VudCA9ICgoY2hhcnQub3B0aW9ucy50aHJlc2hvbGRzW3pdLnRocmVzaG9sZCkgKiAxMDApIC8gKHhBeGlzRGF0YS5tYXggLSB4QXhpc0RhdGEubWluKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0geyBwZXJjZW50OiBwQ2VudCwgY29sb3I6IGNoYXJ0Lm9wdGlvbnMudGhyZXNob2xkc1t6XS50aHJlc2hvbGRDb2xvciB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkUGVyY2VudHMucHVzaCh0ZW1wKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB6ZXJvID0geyBwZXJjZW50OiAwLCBjb2xvcjogbGluZUNvbG9yc1tpbmRleF0gfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyZXNob2xkUGVyY2VudHMucHVzaCh6ZXJvKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHogPSAwOyB6IDwgT2JqZWN0LmtleXMoY2hhcnQub3B0aW9ucy50aHJlc2hvbGRzKS5sZW5ndGg7IHorKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBDZW50ID0gKChjaGFydC5vcHRpb25zLnRocmVzaG9sZHNbel0udGhyZXNob2xkKSAqIDEwMCkgLyAoeUF4aXNEYXRhLm1heCAtIHlBeGlzRGF0YS5taW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSB7IHBlcmNlbnQ6IHBDZW50LCBjb2xvcjogY2hhcnQub3B0aW9ucy50aHJlc2hvbGRzW3pdLnRocmVzaG9sZENvbG9yIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJlc2hvbGRQZXJjZW50cy5wdXNoKHRlbXApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZERhdGEgPSBjaGFydC5zZXRMaW5lVGhyZXNob2xkRGF0YShjaGFydCwgdGhyZXNob2xkUGVyY2VudHMsIGxpbmVDb2xvcnNbaW5kZXhdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGluZXMuc2VsZWN0QWxsKFwicGF0aFwiKS5hdHRyKFwiY2xhc3NcIiwgXCJsaW5lLXRocmVzaG9sZFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoYXJ0Lm9wdGlvbnMucm90YXRlQXhpcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFydC5zdmcuYXBwZW5kKFwibGluZWFyR3JhZGllbnRcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJsaW5lLWdyYWRpZW50XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcImdyYWRpZW50VW5pdHNcIiwgXCJ1c2VyU3BhY2VPblVzZVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4MVwiLCB4VHJhbnNsYXRlKHhBeGlzRGF0YS5taW4pKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MVwiLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCB4VHJhbnNsYXRlKHhBeGlzRGF0YS5tYXgpKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5MlwiLCAwKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnNlbGVjdEFsbChcInN0b3BcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5kYXRhKHRocmVzaG9sZERhdGEpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJzdG9wXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcIm9mZnNldFwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5vZmZzZXQ7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcInN0b3AtY29sb3JcIiwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQuY29sb3I7IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYXJ0LnN2Zy5hcHBlbmQoXCJsaW5lYXJHcmFkaWVudFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJpZFwiLCBcImxpbmUtZ3JhZGllbnRcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZ3JhZGllbnRVbml0c1wiLCBcInVzZXJTcGFjZU9uVXNlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcIngxXCIsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkxXCIsIHlUcmFuc2xhdGUoeUF4aXNEYXRhLm1pbikpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcIngyXCIsIDApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcInkyXCIsIHlUcmFuc2xhdGUoeUF4aXNEYXRhLm1heCkpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKFwic3RvcFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmRhdGEodGhyZXNob2xkRGF0YSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZChcInN0b3BcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwib2Zmc2V0XCIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLm9mZnNldDsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwic3RvcC1jb2xvclwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC5jb2xvcjsgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhyZXNob2xkaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy9BZGQgY2lyY2xlcyBhdCBqb2ludHMgaW4gdGhlIGxpbmVzXHJcbiAgICAgICAgICAgIGNpcmNsZXNba10gPSBsaW5lc1xyXG4gICAgICAgICAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCAnY2lyY2xlICcgKyAoaykpXHJcbiAgICAgICAgICAgICAgICAuc2VsZWN0QWxsKCdjaXJjbGUnKVxyXG4gICAgICAgICAgICAgICAgLmRhdGEoZGF0YVtrXSlcclxuICAgICAgICAgICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwiY2lyY2xlXCIpLy9DaXJjbGVzIGZvciB0aGUgam9pbnRzIGluIHRoZSBsaW5lXHJcbiAgICAgICAgICAgICAgICAuYXR0cignY2xhc3MnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnY2lyY2xlLScgKyBjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGFbaV1bY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLmxhYmVsXSArICcgaGlnaGxpZ2h0LWNsYXNzLScgKyBpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiY3hcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4VHJhbnNsYXRlKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKFwiY3lcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB5VHJhbnNsYXRlKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aHJlc2hvbGRpbmcgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gT2JqZWN0LmtleXMoY2hhcnQub3B0aW9ucy50aHJlc2hvbGRzKS5sZW5ndGggLSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy5yb3RhdGVBeGlzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB6ID0gbGVuZ3RoOyB6ID4gLTE7IHotLSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aHJlc2hvbGQgPSBjaGFydC5vcHRpb25zLnRocmVzaG9sZHNbel07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGQgPj0gdGhyZXNob2xkLnRocmVzaG9sZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhyZXNob2xkLnRocmVzaG9sZENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHogPSBsZW5ndGg7IHogPiAtMTsgei0tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRocmVzaG9sZCA9IGNoYXJ0Lm9wdGlvbnMudGhyZXNob2xkc1t6XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZCA+PSB0aHJlc2hvbGQudGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aHJlc2hvbGQudGhyZXNob2xkQ29sb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgayk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoJ29wYWNpdHknLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpc05hTihkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJyXCIsIDIuNSk7XHJcblxyXG4gICAgICAgICAgICBpbmRleCsrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvL1JldHVybiBsaW5lIGdyb3Vwc1xyXG4gICAgcmV0dXJuIGxpbmVzLnNlbGVjdEFsbChcIi5jaXJjbGVcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldExpbmVUaHJlc2hvbGREYXRhKGNoYXJ0LCB0aHJlc2hvbGRzLCBjb2xvcikge1xyXG4gICAgdmFyIGRhdGEgPSBbXTtcclxuICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhyZXNob2xkcy5sZW5ndGg7IGsrKykge1xyXG4gICAgICAgIHZhciBncmFkaWVudDtcclxuICAgICAgICB2YXIgZ3JhZGllbnRPbmUgPSB7IG9mZnNldDogdGhyZXNob2xkc1trXS5wZXJjZW50ICsgXCIlXCIsIGNvbG9yOiB0aHJlc2hvbGRzW2tdLmNvbG9yIH07XHJcbiAgICAgICAgZGF0YS5wdXNoKGdyYWRpZW50T25lKTtcclxuXHJcbiAgICAgICAgaWYgKGsgKyAxIDwgdGhyZXNob2xkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdmFyIGdyYWRpZW50VHdvID0geyBvZmZzZXQ6IHRocmVzaG9sZHNbayArIDFdLnBlcmNlbnQgKyBcIiVcIiwgY29sb3I6IHRocmVzaG9sZHNba10uY29sb3IgfTtcclxuICAgICAgICAgICAgZGF0YS5wdXNoKGdyYWRpZW50VHdvKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChrID09IHRocmVzaG9sZHMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICB2YXIgbGFzdCA9IHsgb2Zmc2V0OiBcIjEwMCVcIiwgY29sb3I6IHRocmVzaG9sZHNba10uY29sb3IgfTtcclxuICAgICAgICAgICAgZGF0YS5wdXNoKGxhc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG4gbW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5jaXJjbGVwYWNrID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlUGFjayA9IGdlbmVyYXRlUGFjaztcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogUGFjayBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0UGFja0NoYXJ0RGF0YVxyXG4gKiAgZ2V0cyBwYWNrIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKGNoYXJ0KSB7XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRQYWNrTGVnZW5kRGF0YShjaGFydC5kYXRhLmRhdGFUYWJsZSk7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGNoYXJ0LmNvbG9ycztcclxufVxyXG5cclxuLyoqc2V0UGFja0xlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0UGFja0xlZ2VuZERhdGEoZGF0YVRhYmxlKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIHZhciBsYWJlbCA9ICcnXHJcbiAgICBmb3IgKHZhciBrZXkgaW4gZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICd2YWx1ZScpIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsID0gZGF0YVRhYmxlW2tleV07XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGRhdGFUYWJsZVtrZXldKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBsZWdlbmRBcnJheS51bnNoaWZ0KGxhYmVsKTtcclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgIGNoYXJ0Lm9wdGlvbnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG5cclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTsvL01pZ2h0IGhhdmUgdG8gbW92ZSBpbnRvIG1ldGhvZCBiYyBvZiByZWZlcmVuY2UvdmFsdWUgcmVsYXRpb25zaGlwXHJcblxyXG4gICAgdmFyIHBhY2tNYXJnaW5zID0ge1xyXG4gICAgICAgIHRvcDogMzAsXHJcbiAgICAgICAgcmlnaHQ6IDIwLFxyXG4gICAgICAgIGJvdHRvbTogMTUsXHJcbiAgICAgICAgbGVmdDogMjBcclxuICAgIH07XHJcblxyXG4gICAgLy9HZW5lcmF0ZSBTVkctbGVnZW5kIGRhdGEgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHNpemUgb2YgdGhlIGJvdHRvbSBtYXJnaW4gKHNldCB0byBudWxsIGZvciBubyBsZWdlbmQpXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhudWxsLCBwYWNrTWFyZ2lucyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVZlcnRpY2FsTGVnZW5kKCdnZW5lcmF0ZVBhY2snKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlUGFjayhjaGFydC5jdXJyZW50RGF0YSk7XHJcbn07XHJcblxyXG4vKiogZ2VuZXJhdGVQYWNrXHJcbiAqXHJcbiAqIHBhaW50cyB0aGUgcGFjayBvbiB0aGUgY2hhcnRcclxuICogQHBhcmFtcyBwYWNrRGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVQYWNrKCkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICB3ID0gY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgIGggPSBjb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIHIgPSBNYXRoLm1pbihoIC8gMiwgdyAvIDMpLFxyXG4gICAgICAgIG1hcmdpbiA9IDIwLFxyXG4gICAgICAgIGRpYW1ldGVyID0gciAqIDI7XHJcblxyXG4gICAgY2hhcnQuY2hpbGRyZW4gPSBjaGFydC5kYXRhLmNoYXJ0RGF0YTtcclxuXHJcbiAgICB2YXIgY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoKVxyXG4gICAgICAgIC5yYW5nZShjaGFydC5kYXRhLmNvbG9yXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGMpIHsgYyA9IGQzLnJnYihjKTsgYy5vcGFjaXR5ID0gMC44OyByZXR1cm4gYzsgfSkpO1xyXG5cclxuICAgIC8vICBhc3NpZ25zIHRoZSBkYXRhIHRvIGEgaGllcmFyY2h5IHVzaW5nIHBhcmVudC1jaGlsZCByZWxhdGlvbnNoaXBzXHJcbiAgICB2YXIgcm9vdCA9IGQzLmhpZXJhcmNoeShjaGFydC5jaGlsZHJlbiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICByZXR1cm4gZC5jaGlsZHJlbjtcclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBwYWNrID0gZDMucGFjaygpXHJcbiAgICAgICAgLnNpemUoW2NvbnRhaW5lci53aWR0aCwgY29udGFpbmVyLmhlaWdodF0pXHJcbiAgICAgICAgLnBhZGRpbmcoMik7XHJcblxyXG4gICAgcGFjayhyb290XHJcbiAgICAgICAgLnN1bShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC5oYXNPd25Qcm9wZXJ0eSgnY2hpbGRyZW4nKSA/IDAgOiBkLm5hbWU7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc29ydChmdW5jdGlvbiAoYSwgYikge1xyXG4gICAgICAgICAgICByZXR1cm4gYi5oZWlnaHQgLSBhLmhlaWdodCB8fCBiLnZhbHVlIC0gYS52YWx1ZTtcclxuICAgICAgICB9KSlcclxuICAgICAgICAuZGVzY2VuZGFudHMoKTtcclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKFwiLnBhY2tcIikucmVtb3ZlKCk7XHJcblxyXG4gICAgdmFyIHZpcyA9IHN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInBhY2tcIilcclxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArICh3IC8gMikgKyBcIixcIiArIHIgKyBcIilcIik7XHJcblxyXG4gICAgdmFyIGNpcmNsZSA9IHZpcy5zZWxlY3RBbGwoXCJjaXJjbGVcIilcclxuICAgICAgICAuZGF0YShyb290LmRlc2NlbmRhbnRzKCkpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXHJcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZC5wYXJlbnQgPyBkLmNoaWxkcmVuID8gXCJub2RlXCIgOiBcIm5vZGUgbm9kZS0tbGVhZlwiIDogXCJub2RlIG5vZGUtLXJvb3RcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZShcImZpbGxcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgZC5jb2xvciA9IGNvbG9yKGQuZGVwdGgpO1xyXG4gICAgICAgICAgICByZXR1cm4gZC5jaGlsZHJlbiA/IGNvbG9yKGQuZGVwdGgpIDogbnVsbDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChmb2N1cyAhPT0gZCkge1xyXG4gICAgICAgICAgICAgICAgem9vbShkKSwgZDMuZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgLy8gdmFyIHRleHQgPSB2aXMuc2VsZWN0QWxsKFwidGV4dFwiKVxyXG4gICAgLy8gICAgIC5kYXRhKHJvb3QuZGVzY2VuZGFudHMoKSlcclxuICAgIC8vICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAvLyAgICAgLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpXHJcbiAgICAvLyAgICAgLnN0eWxlKFwiZGlzcGxheVwiLCBmdW5jdGlvbihkKSB7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiBkLnBhcmVudCA9PT0gcm9vdCA/IFwiaW5saW5lXCIgOiBcIm5vbmVcIjtcclxuICAgIC8vICAgICB9KTtcclxuXHJcbiAgICB2YXIgbm9kZSA9IHN2Zy5zZWxlY3RBbGwoXCJjaXJjbGUsdGV4dFwiKTtcclxuXHJcbiAgICBkMy5zZWxlY3QoXCJib2R5XCIpXHJcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB6b29tKHJvb3QpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHpvb21Ubyhbcm9vdC54LCByb290LnksIHJvb3QuciAqIDIgKyBtYXJnaW5dKTtcclxuXHJcbiAgICBmdW5jdGlvbiB6b29tKGQpIHtcclxuICAgICAgICB2YXIgZm9jdXMgPSBkO1xyXG5cclxuICAgICAgICBkMy50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgLmR1cmF0aW9uKGQzLmV2ZW50LmFsdEtleSA/IDc1MDAgOiA3NTApXHJcbiAgICAgICAgICAgIC50d2VlbihcInpvb21cIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gZDMuaW50ZXJwb2xhdGVab29tKHZpZXcsIFtmb2N1cy54LCBmb2N1cy55LCBmb2N1cy5yICogMiArIG1hcmdpbl0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgem9vbVRvKGkodCkpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIHRyYW5zaXRpb24uc2VsZWN0QWxsKFwidGV4dFwiKVxyXG4gICAgICAgIC8vICAgICAuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAvLyAgICAgICAgIHJldHVybiBkLnBhcmVudCA9PT0gZm9jdXMgfHwgdGhpcy5zdHlsZS5kaXNwbGF5ID09PSBcImlubGluZVwiO1xyXG4gICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgIC8vICAgICAuc3R5bGUoXCJmaWxsLW9wYWNpdHlcIiwgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgcmV0dXJuIGQucGFyZW50ID09PSBmb2N1cyA/IDEgOiAwO1xyXG4gICAgICAgIC8vICAgICB9KVxyXG4gICAgICAgIC8vICAgICAuc3R5bGUoXCJkaXNwbGF5XCIsIGZ1bmN0aW9uKGQpIHtcclxuICAgICAgICAvLyAgICAgICAgIHJldHVybiBkLnBhcmVudCA9PT0gZm9jdXMgPyBcImlubGluZVwiIDogXCJub25lXCI7XHJcbiAgICAgICAgLy8gICAgIH0pXHJcbiAgICAgICAgLy8gICAgIC5lYWNoKFwic3RhcnRcIiwgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKGQucGFyZW50ID09PSBmb2N1cykge1xyXG4gICAgICAgIC8vICAgICAgICAgICAgdGhpcy5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmVcIjtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfSlcclxuICAgICAgICAvLyAgICAgLmVhY2goXCJlbmRcIiwgZnVuY3Rpb24oZCkge1xyXG4gICAgICAgIC8vICAgICAgICAgaWYgKGQucGFyZW50ICE9PSBmb2N1cykge1xyXG4gICAgICAgIC8vICAgICAgICAgICB0aGlzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAvLyAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB2YXIgdmlldztcclxuICAgIGZ1bmN0aW9uIHpvb21Ubyh2KSB7XHJcbiAgICAgICAgdmFyIGsgPSBkaWFtZXRlciAvIHZbMl07XHJcblxyXG4gICAgICAgIC8vc2V0IGdsb2JhbCB6b29tXHJcbiAgICAgICAgdmlldyA9IHY7XHJcblxyXG4gICAgICAgIG5vZGUuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBpZiAoZCAmJiBkLnggJiYgZC55KSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyAoZC54IC0gdlswXSkgKiBrICsgXCIsXCIgKyAoZC55IC0gdlsxXSkgKiBrICsgXCIpXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY2lyY2xlLmF0dHIoXCJyXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLnIgKiBrO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbiB2YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLnBpZSA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZVBpZSA9IGdlbmVyYXRlUGllO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBQaWUgRGF0YSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0UGllRGF0YVxyXG4gKiAgZ2V0cyBwaWUgZGF0YSBhbmQgYWRkcyBpdCB0byB0aGUgY2hhcnQgb2JqZWN0XHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgZGF0YVRhYmxlLCBjb2xvcnNcclxuICovXHJcbmZ1bmN0aW9uIHNldERhdGEoY2hhcnQpIHtcclxuICAgIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSA9IHNldFBpZUxlZ2VuZERhdGEoY2hhcnQuZGF0YSk7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Lm9wdGlvbnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxufVxyXG4vKipzZXRQaWVMZWdlbmREYXRhXHJcbiAqICBnZXRzIGxlZ2VuZCBpbmZvIGZyb20gY2hhcnQgRGF0YVxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIHR5cGVcclxuICogQHJldHVybnMgW10gb2YgbGVnZW5kIHRleHRcclxuICovXHJcbmZ1bmN0aW9uIHNldFBpZUxlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gZGF0YS5jaGFydERhdGEubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBsZWdlbmRBcnJheS5wdXNoKChkYXRhLmNoYXJ0RGF0YVtpXVtkYXRhLmRhdGFUYWJsZS5sYWJlbF0pKTtcclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgIHZhciBjdXN0b21NYXJnaW5zID0ge1xyXG4gICAgICAgIHRvcDogNDAsXHJcbiAgICAgICAgcmlnaHQ6IDIwLFxyXG4gICAgICAgIGJvdHRvbTogMjAsXHJcbiAgICAgICAgbGVmdDogMjBcclxuICAgIH07XHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGNoYXJ0LmRhdGE7XHJcbiAgICBjaGFydC5vcHRpb25zLmNvbG9yID0gY2hhcnQuZGF0YS5jb2xvcjtcclxuICAgIGNoYXJ0LmxlZ2VuZERhdGEgPSBjaGFydC5kYXRhLmxlZ2VuZERhdGE7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhjaGFydC5kYXRhLmxlZ2VuZERhdGEsIGN1c3RvbU1hcmdpbnMpO1xyXG5cclxuICAgIC8vSWYgdGhlIGNvbnRhaW5lciBzaXplIGlzIHNtYWxsLCBkb24ndCBnZW5lcmF0ZSBhIGxlZ2VuZFxyXG4gICAgaWYgKGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGggPiA1NTApIHtcclxuICAgICAgICBjaGFydC5nZW5lcmF0ZVZlcnRpY2FsTGVnZW5kKCdnZW5lcmF0ZVBpZScpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoYXJ0LmdlbmVyYXRlUGllKGNoYXJ0LmN1cnJlbnREYXRhKTtcclxufVxyXG5cclxuLyoqZ2VuZXJhdGVQaWVcclxuICpcclxuICogY3JlYXRlcyBhbmQgZHJhd3MgYSBwaWUgY2hhcnQgb24gdGhlIHN2ZyBlbGVtZW50XHJcbiAqIEBwYXJhbXMgc3ZnLCBwaWVEYXRhLCBvcHRpb25zLCBjb250YWluZXIsIGNoYXJ0TmFtZVxyXG4gKiBAcmV0dXJucyB7e319XHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZVBpZShjdXJyZW50RGF0YSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBzdmcgPSBjaGFydC5zdmcsXHJcbiAgICAgICAgcGllRGF0YSA9IGN1cnJlbnREYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBvcHRpb25zID0gY2hhcnQub3B0aW9ucyxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIGxlZ2VuZERhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLFxyXG4gICAgICAgIGNoYXJ0TmFtZSA9IGNoYXJ0LmNvbmZpZy5uYW1lO1xyXG5cclxuICAgIC8vZGVmaW5lIHZhcmlhYmxlcyB0byBjaGFuZ2UgYXR0cidzXHJcbiAgICBzdmcuc2VsZWN0KCdnLnBpZS1jb250YWluZXInKS5yZW1vdmUoKTtcclxuXHJcbiAgICAvL3ZhciBrZXlzID0gT2JqZWN0LmtleXMocGllRGF0YVswXSk7Ly9EYXRhIGhlYWRlcnNcclxuICAgIHZhciBrZXlzID0gW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsLCBjaGFydC5kYXRhLmRhdGFUYWJsZS52YWx1ZV07XHJcbiAgICB2YXIgY29sb3JzID0gb3B0aW9ucy5jb2xvcjtcclxuXHJcbiAgICB2YXIgdyA9IGNvbnRhaW5lci53aWR0aDtcclxuICAgIHZhciBoID0gY29udGFpbmVyLmhlaWdodDtcclxuICAgIHZhciByID0gTWF0aC5taW4oaCAvIDIsIHcgLyAzKTtcclxuXHJcbiAgICB2YXIgZGF0YSA9IFtdO1xyXG4gICAgdmFyIHRvdGFsID0gMDtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBpZURhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBkYXRhW2ldID0geyBsYWJlbDogcGllRGF0YVtpXVtrZXlzWzBdXSwgdmFsdWU6IHBpZURhdGFbaV1ba2V5c1sxXV0gfTtcclxuICAgICAgICAvL3RvdGFsICs9IHBhcnNlRmxvYXQocGllRGF0YVtpXVtrZXlzWzFdXSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHBpZURhdGFOZXcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpKTsvL2NvcHkgb2YgcGllIGRhdGFcclxuXHJcblxyXG4gICAgaWYgKCFjaGFydC5vcHRpb25zLmxlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICBjaGFydC5vcHRpb25zLmxlZ2VuZEhlYWRlcnMgPSBsZWdlbmREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBkYXRhSGVhZGVycyA9IGNoYXJ0Lm9wdGlvbnMubGVnZW5kSGVhZGVycztcclxuXHJcbiAgICB2YXIgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0ganZDaGFydHMuZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBsZWdlbmREYXRhKTtcclxuXHJcbiAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwaWVEYXRhTmV3Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLmVsZW1lbnQgPT09IHBpZURhdGFOZXdbal0ubGFiZWwgJiYgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAvL3BpZURhdGFOZXcuc3BsaWNlKGosMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGllRGF0YU5ld1tqXS52YWx1ZSA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGllRGF0YU5ldy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRvdGFsICs9IHBhcnNlRmxvYXQocGllRGF0YU5ld1tpXS52YWx1ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHZpcyA9IHN2Z1xyXG4gICAgICAgIC5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5kYXRhKFtwaWVEYXRhTmV3XSlcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAncGllLWNvbnRhaW5lcicpXHJcbiAgICAgICAgLmF0dHIoJ2hlaWdodCcsIDIwMClcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgnICsgKHcgLyAyKSArICcsJyArIHIgKyAnKScpO1xyXG5cclxuICAgIHZhciBwaWUgPSBkMy5waWUoKS52YWx1ZShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIHJldHVybiBkLnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9kZWNsYXJlIGFuIGFyYyBnZW5lcmF0b3IgZnVuY3Rpb25cclxuICAgIHZhciBhcmMgPSBkMy5hcmMoKVxyXG4gICAgICAgIC5pbm5lclJhZGl1cygwKS8vTm9ybWFsIHBpZSBjaGFydCB3aGVuIHRoaXMgPSAwLCBjYW4gYmUgY2hhbmdlZCB0byBjcmVhdGUgZG9udXQgY2hhcnRcclxuICAgICAgICAub3V0ZXJSYWRpdXMocik7XHJcblxyXG4gICAgdmFyIGFyY092ZXIgPSBkMy5hcmMoKVxyXG4gICAgICAgIC5pbm5lclJhZGl1cygwKVxyXG4gICAgICAgIC5vdXRlclJhZGl1cyhyICsgMTUpO1xyXG5cclxuICAgIC8vc2VsZWN0IHBhdGhzLCB1c2UgYXJjIGdlbmVyYXRvciB0byBkcmF3XHJcbiAgICB2YXIgYXJjcyA9IHZpc1xyXG4gICAgICAgIC5zZWxlY3RBbGwoJ2cuc2xpY2UnKVxyXG4gICAgICAgIC5kYXRhKHBpZSlcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKS5hdHRyKCdjbGFzcycsICdzbGljZScpO1xyXG5cclxuICAgIGFyY3MuYXBwZW5kKCdwYXRoJylcclxuICAgICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBwaWVEYXRhW2ldW2tleXNbMF1dKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdkJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFyYyhkKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnZWRpdGFibGUgZWRpdGFibGUtcGllIHBpZS1zbGljZS0nICsgaSArICcgaGlnaGxpZ2h0LWNsYXNzLScgKyBpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICcjRkZGRkZGJylcclxuICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgMSlcclxuICAgICAgICAub24oJ21vdXNlb3ZlcicsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQuZGF0YSwgaSk7XHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBjaGFydC5kYXRhLmRhdGFUYWJsZSwgZDMuZXZlbnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGFyY3Muc2VsZWN0QWxsKCcqJykuc3R5bGUoJ29wYWNpdHknLCAwLjcpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHNsaWNlID0gZDMuc2VsZWN0KHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgc2xpY2Uuc3R5bGUoJ29wYWNpdHknLCAxKTtcclxuICAgICAgICAgICAgICAgIHNsaWNlLnRyYW5zaXRpb24oKVxyXG4gICAgICAgICAgICAgICAgICAgIC5kdXJhdGlvbigyMDApXHJcbiAgICAgICAgICAgICAgICAgICAgLmF0dHIoJ2QnLCBhcmNPdmVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW1vdmUnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZC5kYXRhLCBpKTtcclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2VvdXQnLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICBhcmNzLnNlbGVjdEFsbCgnKicpLnN0eWxlKCdvcGFjaXR5JywgMSk7XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKS50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgICAgIC5kdXJhdGlvbigyNTApXHJcbiAgICAgICAgICAgICAgICAuYXR0cignZCcsIGFyYyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgYXJjcy5hcHBlbmQoJ3N2Zzp0ZXh0JylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnc2xpY2VMYWJlbCcpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHZhciB0ZXN0ID0gYXJjLmNlbnRyb2lkKGQpO1xyXG4gICAgICAgICAgICB0ZXN0WzBdID0gdGVzdFswXSAqIDEuNjtcclxuICAgICAgICAgICAgdGVzdFsxXSA9IHRlc3RbMV0gKiAxLjY7XHJcbiAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKCcgKyB0ZXN0ICsgJyknO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2R5JywgJy4zNWVtJylcclxuICAgICAgICAuYXR0cigndGV4dC1hbmNob3InLCAnbWlkZGxlJylcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICB2YXIgcGVyY2VudCA9IHBpZURhdGFOZXdbaV0udmFsdWUgLyB0b3RhbCAqIDEwMDtcclxuICAgICAgICAgICAgcGVyY2VudCA9IGQzLmZvcm1hdCgnLjFmJykocGVyY2VudCk7XHJcbiAgICAgICAgICAgIGlmIChwZXJjZW50ID4gNSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBlcmNlbnQgKyAnJSc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdmb250LXNpemUnLCBjaGFydC5vcHRpb25zLmZvbnRTaXplKVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJyNGRkZGRkYnKVxyXG4gICAgICAgIC5hdHRyKCdwb2ludGVyLWV2ZW50cycsICdub25lJyk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5yYWRpYWwgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVSYWRpYWwgPSBnZW5lcmF0ZVJhZGlhbDtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogUmFkaWFsIERhdGEgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuLyoqc2V0UmFkaWFsQ2hhcnREYXRhXHJcbiAqICBnZXRzIGJhciBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YShjaGFydCkge1xyXG4gICAgY2hhcnQuZGF0YS5sZWdlbmREYXRhID0gc2V0UmFkaWFsTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQub3B0aW9ucy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludChjaGFydCkge1xyXG4gICAgY2hhcnQub3B0aW9ucy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcblxyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBjaGFydC5kYXRhOy8vTWlnaHQgaGF2ZSB0byBtb3ZlIGludG8gbWV0aG9kIGJjIG9mIHJlZmVyZW5jZS92YWx1ZSByZWxhdGlvbnNoaXBcclxuXHJcbiAgICB2YXIgcmFkaWFsTWFyZ2lucyA9IHtcclxuICAgICAgICB0b3A6IDQwLFxyXG4gICAgICAgIHJpZ2h0OiAyMCxcclxuICAgICAgICBib3R0b206IDIwLFxyXG4gICAgICAgIGxlZnQ6IDIwXHJcbiAgICB9O1xyXG5cclxuICAgIC8vR2VuZXJhdGUgU1ZHLWxlZ2VuZCBkYXRhIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBib3R0b20gbWFyZ2luIChzZXQgdG8gbnVsbCBmb3Igbm8gbGVnZW5kKVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcobnVsbCwgcmFkaWFsTWFyZ2lucyk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVZlcnRpY2FsTGVnZW5kKCdnZW5lcmF0ZVJhZGlhbCcpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVSYWRpYWwoKTtcclxufVxyXG5cclxuLyoqc2V0UmFkaWFsTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRSYWRpYWxMZWdlbmREYXRhKGRhdGEpIHtcclxuICAgIHZhciBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmIChsZWdlbmRBcnJheS5pbmRleE9mKGRhdGEuY2hhcnREYXRhW2ldW2RhdGEuZGF0YVRhYmxlLmxhYmVsXSkgPT0gLTEpIHtcclxuICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaCgoZGF0YS5jaGFydERhdGFbaV1bZGF0YS5kYXRhVGFibGUubGFiZWxdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGxlZ2VuZEFycmF5O1xyXG59XHJcblxyXG4vKipnZW5lcmF0ZVJhZGlhbFxyXG4gKlxyXG4gKiBwYWludHMgdGhlIHJhZGlsIGJhciBjaGFydCBvbiB0aGUgY2hhcnRcclxuICogQHBhcmFtcyByYWRpYWxEYXRhXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVSYWRpYWwoKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb2xvcnMgPSBjaGFydC5vcHRpb25zLmNvbG9yLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgbGVnZW5kRGF0YSA9IGNoYXJ0LmRhdGEubGVnZW5kRGF0YSxcclxuICAgICAgICByYWRpYWxEYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgdGlja051bWJlciA9IDMsXHJcbiAgICAgICAgYmFySGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCAvIDIgLSA0MCxcclxuICAgICAgICB3aWR0aCA9IGNvbnRhaW5lci53aWR0aCxcclxuICAgICAgICBoZWlnaHQgPSBjb250YWluZXIuaGVpZ2h0LFxyXG4gICAgICAgIHIgPSBNYXRoLm1pbihoZWlnaHQgLyAyLCB3aWR0aCAvIDMpLFxyXG4gICAgICAgIGRhdGEgPSBbXSxcclxuICAgICAgICBhbGxLZXlzID0gW2NoYXJ0LmRhdGEuZGF0YVRhYmxlLmxhYmVsLCBjaGFydC5kYXRhLmRhdGFUYWJsZS52YWx1ZV0sXHJcbiAgICAgICAgcmFkaWFsRGF0YU5ldyxcclxuICAgICAgICBkYXRhSGVhZGVycyxcclxuICAgICAgICBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBbXSxcclxuICAgICAgICByYWRpYWxEYXRhRmlsdGVyZWQ7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYWRpYWxEYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgZGF0YVtpXSA9IHsgbGFiZWw6IHJhZGlhbERhdGFbaV1bYWxsS2V5c1swXV0sIHZhbHVlOiByYWRpYWxEYXRhW2ldW2FsbEtleXNbMV1dIH07XHJcbiAgICAgICAgLy90b3RhbCArPSBwYXJzZUZsb2F0KHJhZGlhbERhdGFbaV1ba2V5c1sxXV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJhZGlhbERhdGFOZXcgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpKTsvL2NvcHkgb2YgcGllIGRhdGFcclxuXHJcblxyXG4gICAgaWYgKCFjaGFydC5vcHRpb25zLmxlZ2VuZEhlYWRlcnMpIHtcclxuICAgICAgICBjaGFydC5vcHRpb25zLmxlZ2VuZEhlYWRlcnMgPSBsZWdlbmREYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGRhdGFIZWFkZXJzID0gY2hhcnQub3B0aW9ucy5sZWdlbmRIZWFkZXJzO1xyXG4gICAgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0ganZDaGFydHMuZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBsZWdlbmREYXRhKTtcclxuICAgIHJhZGlhbERhdGFGaWx0ZXJlZCA9IFtdO1xyXG5cclxuICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkpIHtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJhZGlhbERhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0uZWxlbWVudCA9PT0gcmFkaWFsRGF0YU5ld1tqXS5sYWJlbCAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJhZGlhbERhdGFOZXdbal0udmFsdWUgPSAtMTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHJhZGlhbERhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAocmFkaWFsRGF0YU5ld1tqXS52YWx1ZSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgcmFkaWFsRGF0YUZpbHRlcmVkLnB1c2gocmFkaWFsRGF0YU5ld1tqXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJhZGlhbERhdGFGaWx0ZXJlZC5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XHJcbiAgICAgICAgcmV0dXJuIGIudmFsdWUgLSBhLnZhbHVlO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy9SZW1vdmUgZXhpc3RpbmcgYmFycyBmcm9tIHBhZ2VcclxuICAgIHN2Zy5zZWxlY3RBbGwoJ2cucmFkaWFsLWNvbnRhaW5lcicpLnJlbW92ZSgpO1xyXG5cclxuXHJcbiAgICB2YXIgdmlzID0gc3ZnXHJcbiAgICAgICAgLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JhZGlhbC1jb250YWluZXInKVxyXG4gICAgICAgIC5hdHRyKCdoZWlnaHQnLCBoZWlnaHQpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoJyArICh3aWR0aCAvIDIpICsgJywnICsgciArICcpJyk7XHJcblxyXG4gICAgdmFyIGV4dGVudCA9IGQzLmV4dGVudChyYWRpYWxEYXRhRmlsdGVyZWQsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgcmV0dXJuIGQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvL2NvbW1hcyBhbmQgMCBkZWNpbWFsc1xyXG4gICAgdmFyIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdCgnLC4wZicpO1xyXG4gICAgaWYgKGV4dGVudFsxXSA+PSAxMDAwMDAwKSB7XHJcbiAgICAgICAgLy9taWxsaW9uc1xyXG4gICAgICAgIHZhciBwID0gZDMucHJlY2lzaW9uUHJlZml4KDFlNSwgMS4zZTYpO1xyXG4gICAgICAgIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdFByZWZpeCgnLicgKyBwLCAxLjNlNik7XHJcbiAgICB9IGVsc2UgaWYgKGV4dGVudFsxXSA8PSAxMDApIHtcclxuICAgICAgICAvLzIgZGVjaW1hbHNcclxuICAgICAgICBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoJywuMmYnKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgaWYgKGV4dGVudFswXSAhPT0gMCkge1xyXG4gICAgICAgIGV4dGVudFswXSA9IDA7XHJcbiAgICB9XHJcbiAgICB2YXIgYmFyU2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpXHJcbiAgICAgICAgLmRvbWFpbihleHRlbnQpXHJcbiAgICAgICAgLnJhbmdlKFswLCBiYXJIZWlnaHRdKTtcclxuXHJcbiAgICB2YXIga2V5cyA9IHJhZGlhbERhdGFGaWx0ZXJlZC5tYXAoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4gZC5sYWJlbDtcclxuICAgIH0pO1xyXG4gICAgdmFyIG51bUJhcnMgPSBrZXlzLmxlbmd0aDtcclxuXHJcbiAgICB2YXIgeCA9IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAuZG9tYWluKGV4dGVudClcclxuICAgICAgICAucmFuZ2UoWzAsIC1iYXJIZWlnaHRdKTtcclxuXHJcbiAgICAvL2NyZWF0ZSB4QXhpcyBkcmF3aW5nIGZ1bmN0aW9uXHJcbiAgICB2YXIgeEF4aXMgPSBkMy5heGlzTGVmdCgpXHJcbiAgICAgICAgLnNjYWxlKHgpXHJcbiAgICAgICAgLnRpY2tzKHRpY2tOdW1iZXIpXHJcbiAgICAgICAgLnRpY2tGb3JtYXQoZm9ybWF0TnVtYmVyKTtcclxuXHJcbiAgICB2aXMuc2VsZWN0QWxsKCdjaXJjbGUnKVxyXG4gICAgICAgIC5kYXRhKHgudGlja3MoMykpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKCdjaXJjbGUnKVxyXG4gICAgICAgIC5hdHRyKCdyJywgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGJhclNjYWxlKGQpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgJ25vbmUnKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAnMiwyJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsICcuNXB4Jyk7XHJcblxyXG4gICAgdmFyIGFyYyA9IGQzLmFyYygpXHJcbiAgICAgICAgLnN0YXJ0QW5nbGUoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChpICogMiAqIE1hdGguUEkpIC8gbnVtQmFycztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5lbmRBbmdsZShmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gKChpICsgMSkgKiAyICogTWF0aC5QSSkgLyBudW1CYXJzO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmlubmVyUmFkaXVzKDApO1xyXG5cclxuICAgIHZhciBzZWdtZW50cyA9IHZpcy5zZWxlY3RBbGwoJ3BhdGgnKVxyXG4gICAgICAgIC5kYXRhKHJhZGlhbERhdGFGaWx0ZXJlZClcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC8vLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpXHJcbiAgICAgICAgLmFwcGVuZCgncGF0aCcpXHJcbiAgICAgICAgLmVhY2goZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgZC5vdXRlclJhZGl1cyA9IDA7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgZC5sYWJlbCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cignZCcsIGFyYylcclxuICAgICAgICAub24oJ21vdXNlbW92ZScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICAvL2NoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICAgICAgc3ZnLnNlbGVjdEFsbCgnbGluZS50aXAtbGluZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgc2VnbWVudHMudHJhbnNpdGlvbigpLmR1cmF0aW9uKDgwMCkuZWFzZShkMy5lYXNlRWxhc3RpYykuZGVsYXkoZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4gNzUwIC0gNTAgKiBpO1xyXG4gICAgfSlcclxuICAgICAgICAuYXR0clR3ZWVuKCdkJywgZnVuY3Rpb24gKGQsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gZDMuaW50ZXJwb2xhdGUoZC5vdXRlclJhZGl1cywgYmFyU2NhbGUoK2QudmFsdWUpKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICh0KSB7XHJcbiAgICAgICAgICAgICAgICBkLm91dGVyUmFkaXVzID0gaSh0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhcmMoZCwgaW5kZXgpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIHZpcy5hcHBlbmQoJ2NpcmNsZScpXHJcbiAgICAgICAgLmF0dHIoJ3InLCBiYXJIZWlnaHQpXHJcbiAgICAgICAgLmNsYXNzZWQoJ291dGVyJywgdHJ1ZSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnbm9uZScpXHJcbiAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnYmxhY2snKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgJzEuNXB4Jyk7XHJcblxyXG4gICAgdmlzLnNlbGVjdEFsbCgnbGluZScpXHJcbiAgICAgICAgLmRhdGEoa2V5cylcclxuICAgICAgICAuZW50ZXIoKS5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdsYWJlbCcpXHJcbiAgICAgICAgLmFwcGVuZCgnbGluZScpXHJcbiAgICAgICAgLmF0dHIoJ3kyJywgLWJhckhlaWdodCAtIDIwKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2JsYWNrJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS13aWR0aCcsICcuNXB4JylcclxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICdyb3RhdGUoJyArIChpICogMzYwIC8gbnVtQmFycykgKyAnKSc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgdmFyIGF4aXNHcm91cCA9IHZpcy5hcHBlbmQoJ2cnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICd4QXhpcycpXHJcbiAgICAgICAgLnN0eWxlKCdwb2ludGVyLWV2ZW50cycsICdub25lJylcclxuICAgICAgICAuY2FsbCh4QXhpcyk7XHJcbiAgICB2YXIgeUF4aXNDbGFzcyA9ICd5QXhpc0xhYmVscyBlZGl0YWJsZSBlZGl0YWJsZS15QXhpcyBlZGl0YWJsZS10ZXh0IGVkaXRhYmxlLW51bSc7XHJcblxyXG4gICAgYXhpc0dyb3VwLnNlbGVjdEFsbCgndGV4dCcpXHJcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnYmxhY2snKS8vQ3VzdG9taXplIHRoZSBjb2xvciBvZiBheGlzIGxhYmVsc1xyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIHlBeGlzQ2xhc3MpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkID09PSB4QXhpcy5zY2FsZSgpLnRpY2tzKHRpY2tOdW1iZXIpW3RpY2tOdW1iZXJdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RyYW5zbGF0ZSgwLCAxMCknO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKDAsMCknO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoJ2ZvbnQtc2l6ZScsIGNoYXJ0Lm9wdGlvbnMuZm9udFNpemUpXHJcbiAgICAgICAgLmFwcGVuZCgnc3ZnOnRpdGxlJyk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7IiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLnNhbmtleSA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGFcclxufVxyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlU2Fua2V5ID0gZ2VuZXJhdGVTYW5rZXk7XHJcblxyXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqIFNhbmtleSBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRhdGFcclxuICAgICAqIEBwYXJhbSBkYXRhVGFibGVcclxuICAgICAqIEBwYXJhbSBjb2xvcnNcclxuICAgICAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKGNoYXJ0KSB7XHJcbiAgICB2YXIgc2Fua2V5RGF0YSA9IHt9LFxyXG4gICAgICAgIGRhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBkYXRhVGFibGUgPSBjaGFydC5kYXRhLmRhdGFUYWJsZTtcclxuXHJcbiAgICBzYW5rZXlEYXRhLmxpbmtzID0gW107XHJcbiAgICBzYW5rZXlEYXRhLm5vZGVzID0gW107XHJcblxyXG4gICAgLy9JdGVyYXRlIHRocm91Z2ggc291cmNlcyBhbmQgdGFyZ2V0cyB0byBtYWtlIGEgbm9kZSBsaXN0XHJcbiAgICB2YXIgbm9kZUxpc3QgPSBbXTtcclxuICAgIGZvciAodmFyIGl0ZW0gaW4gZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGl0ZW0gPT09IFwidmFsdWVcIikgeyBjb250aW51ZTsgfTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIHBvdGVudGlhbE5vZGUgPSBkYXRhW2ldW2RhdGFUYWJsZVtpdGVtXV07XHJcbiAgICAgICAgICAgIHZhciBhZGRUb0xpc3QgPSB0cnVlO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5vZGVMaXN0Lmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocG90ZW50aWFsTm9kZSA9PT0gbm9kZUxpc3Rbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRUb0xpc3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYWRkVG9MaXN0KSB7XHJcbiAgICAgICAgICAgICAgICBub2RlTGlzdC5wdXNoKHBvdGVudGlhbE5vZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy9DcmVhdGUgbm9kZXMgb2JqZWN0XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGVMaXN0Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgc2Fua2V5RGF0YS5ub2Rlcy5wdXNoKHtcclxuICAgICAgICAgICAgXCJuYW1lXCI6IG5vZGVMaXN0W2ldXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc2Fua2V5RGF0YS5saW5rcyA9IGRhdGEubWFwKGZ1bmN0aW9uICh4KSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgXCJzb3VyY2VcIjogeFtkYXRhVGFibGUuc3RhcnRdLFxyXG4gICAgICAgICAgICBcInRhcmdldFwiOiB4W2RhdGFUYWJsZS5lbmRdLFxyXG4gICAgICAgICAgICBcInZhbHVlXCI6IHhbZGF0YVRhYmxlLnZhbHVlXVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHZhciBub2RlTWFwID0ge307XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNhbmtleURhdGEubm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBzYW5rZXlEYXRhLm5vZGVzW2ldLm5vZGUgPSBpO1xyXG4gICAgICAgIG5vZGVNYXBbc2Fua2V5RGF0YS5ub2Rlc1tpXS5uYW1lXSA9IGk7XHJcbiAgICB9XHJcbiAgICBzYW5rZXlEYXRhLmxpbmtzID0gc2Fua2V5RGF0YS5saW5rcy5tYXAoZnVuY3Rpb24gKHgpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBzb3VyY2U6IG5vZGVNYXBbeC5zb3VyY2VdLFxyXG4gICAgICAgICAgICB0YXJnZXQ6IG5vZGVNYXBbeC50YXJnZXRdLFxyXG4gICAgICAgICAgICB2YWx1ZTogeC52YWx1ZVxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICBjaGFydC5kYXRhLmNoYXJ0RGF0YSA9IHNhbmtleURhdGE7XHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MjApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludChjaGFydCkge1xyXG4gICAgdmFyIGRhdGEgPSBjaGFydC5kYXRhLmNoYXJ0RGF0YTtcclxuXHJcbiAgICAvL2dlbmVyYXRlIFNWR1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcoKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlU2Fua2V5KGRhdGEpO1xyXG59XHJcblxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgc2Fua2V5IGNoYXJ0IHdpdGggdGhlIGdpdmVuIGRhdGFcclxuICogQHBhcmFtIHNhbmtleURhdGFcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU2Fua2V5KHNhbmtleURhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbG9yID0gY2hhcnQub3B0aW9ucy5jb2xvcjtcclxuXHJcbiAgICB2YXIgd2lkdGggPSBjaGFydC5jb25maWcuY29udGFpbmVyLndpZHRoO1xyXG4gICAgdmFyIGhlaWdodCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIuaGVpZ2h0O1xyXG5cclxuICAgIHZhciBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoXCIsLjBmXCIpLCAgICAvLyB6ZXJvIGRlY2ltYWwgcGxhY2VzXHJcbiAgICAgICAgZm9ybWF0ID0gZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGZvcm1hdE51bWJlcihkKSArIFwiIFwiICsgXCJXaWRnZXRzXCI7IH0sXHJcbiAgICAgICAgY29sb3IgPSBkMy5zY2FsZU9yZGluYWwoZDMuc2NoZW1lQ2F0ZWdvcnkyMCk7XHJcblxyXG4gICAgLy92YXIgbm9kZU1hcCA9IHt9O1xyXG4gICAgLy9mb3IgKHZhciBpID0gMDsgaSA8IHNhbmtleURhdGEubm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgIC8vICAgIHNhbmtleURhdGEubm9kZXNbaV0ubm9kZSA9IGk7XHJcbiAgICAvLyAgICBub2RlTWFwW3NhbmtleURhdGEubm9kZXNbaV0ubmFtZV0gPSBpO1xyXG4gICAgLy99XHJcbiAgICAvL3NhbmtleURhdGEubGlua3MgPSBzYW5rZXlEYXRhLmxpbmtzLm1hcChmdW5jdGlvbih4KXtcclxuICAgIC8vICAgIHJldHVybiB7XHJcbiAgICAvLyAgICAgICAgc291cmNlOiBub2RlTWFwW3guc291cmNlXSxcclxuICAgIC8vICAgICAgICB0YXJnZXQ6IG5vZGVNYXBbeC50YXJnZXRdLFxyXG4gICAgLy8gICAgICAgIHZhbHVlOiB4LnZhbHVlXHJcbiAgICAvLyAgICB9O1xyXG4gICAgLy99KTtcclxuXHJcbiAgICB2YXIgc2Fua2V5ID0gZDMuc2Fua2V5KClcclxuICAgICAgICAubm9kZVdpZHRoKDEwKVxyXG4gICAgICAgIC5ub2RlUGFkZGluZygxNSlcclxuICAgICAgICAuc2l6ZShbd2lkdGgsIGhlaWdodF0pO1xyXG5cclxuICAgIHZhciBwYXRoID0gc2Fua2V5LmxpbmsoKTtcclxuXHJcbiAgICAvLyAvL0FkZGluZyB6b29tIHY0IGJlaGF2aW9yIHRvIHNhbmtleVxyXG4gICAgZDMuc2VsZWN0QWxsKFwic3ZnXCIpXHJcbiAgICAgICAgLmNhbGwoZDMuem9vbSgpXHJcbiAgICAgICAgICAgIC5zY2FsZUV4dGVudChbLjEsIDEwXSlcclxuICAgICAgICAgICAgLm9uKFwiem9vbVwiLCB6b29tKSk7Ly96b29tIGV2ZW50IGxpc3RlbmVyXHJcblxyXG4gICAgc2Fua2V5XHJcbiAgICAgICAgLm5vZGVzKHNhbmtleURhdGEubm9kZXMpXHJcbiAgICAgICAgLmxpbmtzKHNhbmtleURhdGEubGlua3MpXHJcbiAgICAgICAgLmxheW91dCgzMik7XHJcblxyXG4gICAgdmFyIGxpbmsgPSBzdmcuYXBwZW5kKFwiZ1wiKS5zZWxlY3RBbGwoXCIuc2Fua2V5LWxpbmtcIilcclxuICAgICAgICAuZGF0YShzYW5rZXlEYXRhLmxpbmtzKVxyXG4gICAgICAgIC5lbnRlcigpXHJcbiAgICAgICAgLmFwcGVuZChcInBhdGhcIilcclxuICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLnZhbHVlID4gMDsgfSlcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwic2Fua2V5LWxpbmtcIilcclxuICAgICAgICAuYXR0cihcImRcIiwgcGF0aClcclxuICAgICAgICAuc3R5bGUoXCJzdHJva2Utd2lkdGhcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KDEsIGQuZHkpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGIuZHkgLSBhLmR5O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgdmFyIG5vZGUgPSBzdmcuYXBwZW5kKFwiZ1wiKS5zZWxlY3RBbGwoXCIubm9kZVwiKVxyXG4gICAgICAgIC5kYXRhKHNhbmtleURhdGEubm9kZXMpXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQudmFsdWUgPiAwOyB9KVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJub2RlXCIpXHJcbiAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgZC54ICsgXCIsIFwiICsgZC55ICsgXCIpXCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2FsbChkMy5kcmFnKClcclxuICAgICAgICAgICAgLnN1YmplY3QoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAub24oXCJzdGFydFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgZDMuZXZlbnQuc291cmNlRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcyk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5vbihcImRyYWdcIiwgZHJhZ21vdmUpKTtcclxuXHJcbiAgICBub2RlLmFwcGVuZChcInJlY3RcIilcclxuICAgICAgICAuYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoZC5keSwgMCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIHNhbmtleS5ub2RlV2lkdGgoKSlcclxuICAgICAgICAuc3R5bGUoXCJmaWxsXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLmNvbG9yID0gY29sb3IoZC5uYW1lKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5zdHlsZShcInN0cm9rZVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZDMucmdiKGQuY29sb3IpLmRhcmtlcigyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICBub2RlLmFwcGVuZChcInRleHRcIilcclxuICAgICAgICAuYXR0cihcInhcIiwgLTYpXHJcbiAgICAgICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLmR5IC8gMjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxyXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJlbmRcIilcclxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBudWxsKVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIG51bGwpXHJcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQubmFtZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueCA8IHdpZHRoIC8gMjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwieFwiLCA2ICsgc2Fua2V5Lm5vZGVXaWR0aCgpKVxyXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcclxuXHJcbiAgICBmdW5jdGlvbiBkcmFnbW92ZShkKSB7XHJcbiAgICAgICAgZDMuc2VsZWN0KHRoaXMpLmF0dHIoXCJ0cmFuc2Zvcm1cIixcclxuICAgICAgICAgICAgXCJ0cmFuc2xhdGUoXCIgKyAoXHJcbiAgICAgICAgICAgICAgICBkLnggPSBNYXRoLm1heCgwLCBNYXRoLm1pbih3aWR0aCAtIGQuZHgsIGQzLmV2ZW50LngpKVxyXG4gICAgICAgICAgICApICsgXCIsXCIgKyAoXHJcbiAgICAgICAgICAgICAgICBkLnkgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihoZWlnaHQgLSBkLmR5LCBkMy5ldmVudC55KSlcclxuICAgICAgICAgICAgKSArIFwiKVwiKTtcclxuICAgICAgICBzYW5rZXkucmVsYXlvdXQoKTtcclxuICAgICAgICBsaW5rLmF0dHIoXCJkXCIsIHBhdGgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHpvb20oKSB7IC8vSW1wbGVtZW50aW5nIHRoZSB2NCB6b29taW5nIGZlYXR1cmVcclxuICAgICAgICBzdmcuYXR0cihcInRyYW5zZm9ybVwiLCBkMy5ldmVudC50cmFuc2Zvcm0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuc2NhdHRlcnBsb3QgPSB7XHJcbiAgICBwYWludDogcGFpbnQsXHJcbiAgICBzZXREYXRhOiBzZXREYXRhXHJcbn07XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2VuZXJhdGVTY2F0dGVyID0gZ2VuZXJhdGVTY2F0dGVyO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuY3JlYXRlTGluZUd1aWRlID0gY3JlYXRlTGluZUd1aWRlO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBTY2F0dGVyIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG4vKipzZXRTY2F0dGVyRGF0YVxyXG4gKiAgZ2V0cyBzY2F0dGVyIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKGNoYXJ0KSB7XHJcbiAgICBjaGFydC5kYXRhLmxlZ2VuZERhdGEgPSBzZXRTY2F0dGVyTGVnZW5kRGF0YShjaGFydC5kYXRhKTtcclxuICAgIGNoYXJ0LmRhdGEueEF4aXNEYXRhID0gc2V0U2NhdHRlckF4aXNEYXRhKGNoYXJ0LmRhdGEsICd4JywgY2hhcnQub3B0aW9ucyk7XHJcbiAgICBjaGFydC5kYXRhLnlBeGlzRGF0YSA9IHNldFNjYXR0ZXJBeGlzRGF0YShjaGFydC5kYXRhLCAneScsIGNoYXJ0Lm9wdGlvbnMpO1xyXG4gICAgY2hhcnQuZGF0YS56QXhpc0RhdGEgPSBjaGFydC5kYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgneicpID8gc2V0U2NhdHRlckF4aXNEYXRhKGNoYXJ0LmRhdGEsICd6JywgY2hhcnQub3B0aW9ucykgOiB7fTtcclxuICAgIC8vZGVmaW5lIGNvbG9yIG9iamVjdCBmb3IgY2hhcnREYXRhXHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0ganZDaGFydHMuc2V0Q2hhcnRDb2xvcnMoY2hhcnQub3B0aW9ucy5jb2xvciwgY2hhcnQuZGF0YS5sZWdlbmREYXRhLCBjaGFydC5jb2xvcnMpO1xyXG59XHJcblxyXG4vKipzZXRTY2F0dGVyTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRTY2F0dGVyTGVnZW5kRGF0YShkYXRhKSB7XHJcbiAgICB2YXIgbGVnZW5kQXJyYXkgPSBbXTtcclxuICAgIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgnc2VyaWVzJykpIHtcclxuICAgICAgICB2YXIgaXRlbSA9IGRhdGEuZGF0YVRhYmxlLnNlcmllcztcclxuICAgICAgICBmb3IgKHZhciB2YWx1ZSBpbiBkYXRhLmNoYXJ0RGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgbGVnZW5kRWxlbWVudCA9IGRhdGEuY2hhcnREYXRhW3ZhbHVlXVtpdGVtXTtcclxuICAgICAgICAgICAgaWYgKGxlZ2VuZEFycmF5LmluZGV4T2YobGVnZW5kRWxlbWVudCkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICBsZWdlbmRBcnJheS5wdXNoKGxlZ2VuZEVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChkYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgnbGFiZWwnKSkge1xyXG4gICAgICAgIGxlZ2VuZEFycmF5LnB1c2goZGF0YS5kYXRhVGFibGUubGFiZWwpO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBsZWdlbmRBcnJheVswXSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICBsZWdlbmRBcnJheSA9IFtdO1xyXG4gICAgICAgIGxlZ2VuZEFycmF5LnB1c2goZGF0YS5kYXRhVGFibGUubGFiZWwpO1xyXG4gICAgfVxyXG4gICAgLy9vcmRlciBsZWdlbmQgZGF0YSBpbiBhbHBoYWJldGljYWwgb3JkZXJcclxuICAgIGxlZ2VuZEFycmF5LnNvcnQoKTtcclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuLyoqc2V0U2NhdHRlckF4aXNEYXRhXHJcbiAqICBnZXRzIHogYXhpcyBkYXRhIGJhc2VkIG9uIHRoZSBjaGFydERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGVcclxuICogQHJldHVybnMgb2JqZWN0IHdpdGggbGFiZWwgYW5kIHZhbHVlc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0U2NhdHRlckF4aXNEYXRhKGRhdGEsIGF4aXMsIG9wdGlvbnMpIHtcclxuICAgIC8vZGVjbGFyZSB2YXJzXHJcbiAgICB2YXIgYXhpc0RhdGEgPSBbXSxcclxuICAgICAgICBjaGFydERhdGEgPSBkYXRhLmNoYXJ0RGF0YSxcclxuICAgICAgICBzY2F0dGVyTGFiZWwgPSBkYXRhLmRhdGFUYWJsZVtheGlzXSxcclxuICAgICAgICBsYWJlbCxcclxuICAgICAgICBtaW4gPSBzY2F0dGVyTGFiZWwgPyBjaGFydERhdGFbMF1bc2NhdHRlckxhYmVsXSA6IDAsXHJcbiAgICAgICAgbWF4ID0gc2NhdHRlckxhYmVsID8gY2hhcnREYXRhWzBdW3NjYXR0ZXJMYWJlbF0gOiAwLFxyXG4gICAgICAgIGRhdGFUeXBlO1xyXG4gICAgXHJcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGEuZGF0YVRhYmxlS2V5cy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmIChkYXRhLmRhdGFUYWJsZUtleXNbal0udml6VHlwZSA9PT0gYXhpcykge1xyXG4gICAgICAgICAgICBkYXRhVHlwZSA9IGRhdGEuZGF0YVRhYmxlS2V5c1tqXS50eXBlO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvL2xvb3Agb3ZlciBkYXRhIHRvIGZpbmQgbWF4IGFuZCBtaW5cclxuICAgIC8vYWxzbyBkZXRlcm1pbmVzIHRoZSB5IGF4aXMgdG90YWwgaWYgdGhlIGRhdGEgaXMgc3RhY2tlZFxyXG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBjaGFydERhdGEubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoY2hhcnREYXRhW2ldLmhhc093blByb3BlcnR5KHNjYXR0ZXJMYWJlbCkpIHtcclxuICAgICAgICAgICAgdmFyIG51bSA9IGNoYXJ0RGF0YVtpXVtzY2F0dGVyTGFiZWxdO1xyXG4gICAgICAgICAgICBpZiAoIWlzTmFOKG51bSkpIHtcclxuICAgICAgICAgICAgICAgIG51bSA9IHBhcnNlRmxvYXQobnVtKTtcclxuICAgICAgICAgICAgICAgIGlmIChudW0gPiBtYXgpIHtcclxuICAgICAgICAgICAgICAgICAgICBtYXggPSBudW07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG51bSA8IG1pbikge1xyXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IG51bTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGlmIChheGlzICE9PSAneicpIHtcclxuICAgICAgICBtaW4gKj0gMC45O1xyXG4gICAgICAgIG1heCAqPSAxLjE7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAob3B0aW9ucy55TWluICYmICFpc05hTihvcHRpb25zLnlNaW4pICYmIGF4aXMgPT09ICd5Jykge1xyXG4gICAgICAgICAgICBtaW4gPSBvcHRpb25zLnlNaW47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvcHRpb25zLnlNYXggJiYgIWlzTmFOKG9wdGlvbnMueU1heCkgJiYgYXhpcyA9PT0gJ3knKSB7XHJcbiAgICAgICAgICAgIG1heCA9IG9wdGlvbnMueU1heDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9wdGlvbnMueE1pbiAmJiAhaXNOYU4ob3B0aW9ucy54TWluKSAmJiBheGlzID09PSAneCcpIHtcclxuICAgICAgICAgICAgbWluID0gb3B0aW9ucy54TWluO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob3B0aW9ucy54TWF4ICYmICFpc05hTihvcHRpb25zLnhNYXgpICYmIGF4aXMgPT09ICd4Jykge1xyXG4gICAgICAgICAgICBtYXggPSBvcHRpb25zLnhNYXg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGF4aXNEYXRhLnB1c2gobWluKTtcclxuICAgIGF4aXNEYXRhLnB1c2gobWF4KTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgJ2xhYmVsJzogc2NhdHRlckxhYmVsLFxyXG4gICAgICAgICd2YWx1ZXMnOiBheGlzRGF0YSxcclxuICAgICAgICAnZGF0YVR5cGUnOiAnTlVNQkVSJyxcclxuICAgICAgICAnbWluJzogbWluLFxyXG4gICAgICAgICdtYXgnOiBtYXhcclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhaW50KGNoYXJ0KSB7XHJcbiAgICB2YXIgZGF0YU9iaiA9IHt9O1xyXG5cclxuICAgIGRhdGFPYmouY2hhcnREYXRhID0gY2hhcnQuZGF0YS5jaGFydERhdGE7XHJcbiAgICBkYXRhT2JqLmxlZ2VuZERhdGEgPSBjaGFydC5kYXRhLmxlZ2VuZERhdGE7XHJcbiAgICBkYXRhT2JqLmRhdGFUYWJsZSA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlO1xyXG4gICAgY2hhcnQub3B0aW9ucy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcbiAgICBkYXRhT2JqLnhBeGlzRGF0YSA9IGNoYXJ0LmRhdGEueEF4aXNEYXRhO1xyXG4gICAgZGF0YU9iai55QXhpc0RhdGEgPSBjaGFydC5kYXRhLnlBeGlzRGF0YTtcclxuICAgIGRhdGFPYmouekF4aXNEYXRhID0gY2hhcnQuZGF0YS56QXhpc0RhdGE7XHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IGRhdGFPYmo7XHJcblxyXG4gICAgLy9nZW5lcmF0ZSBzdmcgZHluYW1pY2FsbHkgYmFzZWQgb24gbGVnZW5kIGRhdGFcclxuICAgIGNoYXJ0LmdlbmVyYXRlU1ZHKGRhdGFPYmoubGVnZW5kRGF0YSk7XHJcblxyXG4gICAgLy9UT0RPIHJlbW92ZSB0aGVzZSBmcm9tIGRyYXcgb2JqZWN0XHJcbiAgICBjaGFydC5nZW5lcmF0ZVhBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZVlBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnlBeGlzRGF0YSk7XHJcbiAgICBjaGFydC5nZW5lcmF0ZUxlZ2VuZChjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLCAnZ2VuZXJhdGVTY2F0dGVyJyk7XHJcblxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTY2F0dGVyKCk7XHJcbiAgICBjaGFydC5jcmVhdGVMaW5lR3VpZGUoKTtcclxuXHJcbiAgICBpZih0eXBlb2YgZGF0YU9iai54QXhpc1NjYWxlLnRpY2tzID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUudGlja3MoKS5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhkYXRhT2JqLnhBeGlzU2NhbGUuZG9tYWluKCkubGVuZ3RoKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2FsY3VsYXRlTWVhbihkYXRhLCB0eXBlKSB7XHJcbiAgICByZXR1cm4gZDMubWVhbihkYXRhLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICByZXR1cm4gK3ZhbHVlW3R5cGVdO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUxpbmVHdWlkZSgpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIG9wdGlvbnMgPSBjaGFydC5vcHRpb25zLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgY2hhcnREYXRhID0gY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhLFxyXG4gICAgICAgIGRhdGFUYWJsZSA9IGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZSxcclxuICAgICAgICB4QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEsXHJcbiAgICAgICAgeUF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEueUF4aXNEYXRhO1xyXG5cclxuICAgIHZhciB4TGluZVZhbCA9IGNhbGN1bGF0ZU1lYW4oY2hhcnREYXRhLCBkYXRhVGFibGUueCk7XHJcbiAgICB2YXIgeUxpbmVWYWwgPSBjYWxjdWxhdGVNZWFuKGNoYXJ0RGF0YSwgZGF0YVRhYmxlLnkpO1xyXG5cclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjb250YWluZXIsIG51bGwsIG9wdGlvbnMpO1xyXG4gICAgdmFyIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgbnVsbCwgb3B0aW9ucyk7XHJcblxyXG4gICAgc3ZnLnNlbGVjdEFsbCgnZy5saW5lZ3VpZGUueCcpLnJlbW92ZSgpO1xyXG4gICAgc3ZnLnNlbGVjdEFsbCgnZy5saW5lZ3VpZGUueScpLnJlbW92ZSgpO1xyXG5cclxuICAgIHZhciBsaW5lR3JvdXAgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGluZS1ncm91cCcpO1xyXG5cclxuICAgIC8veCBsaW5lIGdyb3VwIGZvciBjcm9zc2hhaXJcclxuICAgIHZhciBsaW5lR3VpZGVYID0gbGluZUdyb3VwLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2xpbmVndWlkZSB4JylcclxuICAgICAgICAuYXBwZW5kKCdsaW5lJylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZScsICdncmF5JylcclxuICAgICAgICAuc3R5bGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAoJzMsIDMnKSlcclxuICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmxpbmVHdWlkZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcblxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgJ2JsYWNrJyk7XHJcblxyXG4gICAgLy95IGxpbmUgZ3JvdXAgZm9yIGNyb3NzaGFpclxyXG4gICAgdmFyIGxpbmVHdWlkZVkgPSBsaW5lR3JvdXAuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnbGluZWd1aWRlIHknKVxyXG4gICAgICAgIC5hcHBlbmQoJ2xpbmUnKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ2dyYXknKVxyXG4gICAgICAgIC5zdHlsZSgnc3Ryb2tlLWRhc2hhcnJheScsICgnMywgMycpKVxyXG4gICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGluZUd1aWRlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gMDtcclxuXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnYmxhY2snKTtcclxuXHJcbiAgICAvL2NyZWF0ZSBjcm9zc2hhaXIgYmFzZWQgb24gbWVkaWFuIHggKHVwL2Rvd24pICdwb3RlbnRpYWxseScgcGFzc2VkIHdpdGggZGF0YVxyXG4gICAgbGluZUd1aWRlWFxyXG4gICAgICAgIC5hdHRyKCd4MScsIHgoeExpbmVWYWwpKVxyXG4gICAgICAgIC5hdHRyKCd5MScsIDApXHJcbiAgICAgICAgLmF0dHIoJ3gyJywgeCh4TGluZVZhbCkpXHJcbiAgICAgICAgLmF0dHIoJ3kyJywgY29udGFpbmVyLmhlaWdodCk7XHJcblxyXG4gICAgLy9jcmVhdGUgY3Jvc3NoYWlyIGJhc2VkIG9uIG1lZGlhbiB5IChsZWZ0L3JpZ2h0KSAncG90ZW50aWFsbHknIHBhc3NlZCB3aXRoIGRhdGFcclxuICAgIGxpbmVHdWlkZVlcclxuICAgICAgICAuYXR0cigneDEnLCAwKVxyXG4gICAgICAgIC5hdHRyKCd5MScsIHkoeUxpbmVWYWwpKVxyXG4gICAgICAgIC5hdHRyKCd4MicsIGNvbnRhaW5lci53aWR0aClcclxuICAgICAgICAuYXR0cigneTInLCB5KHlMaW5lVmFsKSk7XHJcblxyXG4gICAgcmV0dXJuIGxpbmVHcm91cDtcclxufVxyXG4vKipnZW5lcmF0ZVNjYXR0ZXJcclxuICpcclxuICogY3JlYXRlcyBhbmQgZHJhd3MgYSBzY2F0dGVyIHBsb3Qgb24gdGhlIHN2ZyBlbGVtZW50XHJcbiAqIEBwYXJhbXMgc3ZnLCBzY2F0dGVyRGF0YSwgb3B0aW9ucywgeEF4aXNEYXRhLCB5QXhpc0RhdGEsIHpBeGlzRGF0YSwgY29udGFpbmVyLCBkYXRhVGFibGUgbGVnZW5kRGF0YSwgY2hhcnROYW1lXHJcbiAqIEByZXR1cm5zIHt7fX1cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU2NhdHRlcigpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIG9wdGlvbnMgPSBjaGFydC5vcHRpb25zLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgY2hhcnROYW1lID0gY2hhcnQuY29uZmlnLm5hbWUsXHJcbiAgICAgICAgc2NhdHRlckRhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGEsXHJcbiAgICAgICAgZGF0YVRhYmxlID0gY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLFxyXG4gICAgICAgIHhBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSxcclxuICAgICAgICB5QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS55QXhpc0RhdGEsXHJcbiAgICAgICAgekF4aXNEYXRhID0gY2hhcnQuY3VycmVudERhdGEuekF4aXNEYXRhLFxyXG4gICAgICAgIGxlZ2VuZERhdGEgPSBjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLFxyXG4gICAgICAgIGNvbG9ycyA9IG9wdGlvbnMuY29sb3IsXHJcbiAgICAgICAga2V5cyA9IFtcclxuICAgICAgICAgICAgZGF0YVRhYmxlLmxhYmVsLFxyXG4gICAgICAgICAgICBkYXRhVGFibGUueCxcclxuICAgICAgICAgICAgZGF0YVRhYmxlLnksXHJcbiAgICAgICAgICAgIGRhdGFUYWJsZS56LFxyXG4gICAgICAgICAgICBkYXRhVGFibGUuc2VyaWVzXHJcbiAgICAgICAgXSxcclxuICAgICAgICBkYXRhID0gW10sXHJcbiAgICAgICAgdG90YWwgPSAwLFxyXG4gICAgICAgIHNjYXR0ZXJEYXRhTmV3ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShzY2F0dGVyRGF0YSkpO1xyXG5cclxuICAgIGlmICghb3B0aW9ucy5OT0RFX01JTl9TSVpFKSB7XHJcbiAgICAgICAgb3B0aW9ucy5OT0RFX01JTl9TSVpFID0gNC41O1xyXG4gICAgfVxyXG4gICAgaWYgKCFvcHRpb25zLk5PREVfTUFYX1NJWkUpIHtcclxuICAgICAgICBvcHRpb25zLk5PREVfTUFYX1NJWkUgPSAyNTtcclxuICAgIH1cclxuXHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLnNjYXR0ZXItY29udGFpbmVyJykucmVtb3ZlKCk7XHJcbiAgICBzdmcuc2VsZWN0QWxsKCdnLnNjYXR0ZXItY29udGFpbmVyLmVkaXRhYmxlLXNjYXR0ZXInKS5yZW1vdmUoKTsgICAgICAgIFxyXG5cclxuICAgIGlmICghY2hhcnQub3B0aW9ucy5sZWdlbmRIZWFkZXJzKSB7XHJcbiAgICAgICAgY2hhcnQub3B0aW9ucy5sZWdlbmRIZWFkZXJzID0gbGVnZW5kRGF0YTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZGF0YUhlYWRlcnMgPSBjaGFydC5vcHRpb25zLmxlZ2VuZEhlYWRlcnM7XHJcbiAgICB2YXIgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5ID0ganZDaGFydHMuZ2V0TGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KGRhdGFIZWFkZXJzLCBsZWdlbmREYXRhKTtcclxuICAgIHZhciBzY2F0dGVyRGF0YUZpbHRlcmVkID0gW107XHJcblxyXG4gICAgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheSkge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2NhdHRlckRhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLmxhYmVsXSA9PT0gJ3VuZGVmaW5lZCcgfHwgc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLmxhYmVsXSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLnRvZ2dsZSA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLnhdID0gLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS55XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUuel0gPSAtMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxlZ2VuZEVsZW1lbnRUb2dnbGVBcnJheVtpXS5lbGVtZW50ID09PSBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUuc2VyaWVzXSAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS54XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS55XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgICAgIHNjYXR0ZXJEYXRhTmV3W2pdW2RhdGFUYWJsZS56XSA9IC0xO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2NhdHRlckRhdGFOZXcubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAoc2NhdHRlckRhdGFOZXdbal1bZGF0YVRhYmxlLnhdICE9PSAtMSAmJiBzY2F0dGVyRGF0YU5ld1tqXVtkYXRhVGFibGUueV0gIT09IC0xKSB7XHJcbiAgICAgICAgICAgIHNjYXR0ZXJEYXRhRmlsdGVyZWQucHVzaChzY2F0dGVyRGF0YU5ld1tqXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciB4ID0ganZDaGFydHMuZ2V0QXhpc1NjYWxlKCd4JywgeEF4aXNEYXRhLCBjb250YWluZXIsIG51bGwsIG9wdGlvbnMpO1xyXG4gICAgdmFyIHkgPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3knLCB5QXhpc0RhdGEsIGNvbnRhaW5lciwgbnVsbCwgb3B0aW9ucyk7XHJcblxyXG4gICAgaWYgKHpBeGlzRGF0YSAmJiB0eXBlb2YgekF4aXNEYXRhID09PSAnb2JqZWN0JyAmJiBPYmplY3Qua2V5cyh6QXhpc0RhdGEpLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZyh6QXhpc0RhdGEpO1xyXG4gICAgICAgIHZhciB6ID0ganZDaGFydHMuZ2V0WlNjYWxlKHpBeGlzRGF0YSwgY29udGFpbmVyLCBvcHRpb25zKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgdmFyIGN4VHJhbnNsYXRlLFxyXG4gICAgICAgIGN5VHJhbnNsYXRlO1xyXG5cclxuICAgIGN4VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4geChzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW3hBeGlzRGF0YS5sYWJlbF0pO1xyXG4gICAgfTtcclxuICAgIGN5VHJhbnNsYXRlID0gZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICByZXR1cm4geShzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW3lBeGlzRGF0YS5sYWJlbF0pO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgc2NhdHRlcnMgPSBzdmcuYXBwZW5kKCdnJylcclxuICAgICAgICAuYXR0cignY2xhc3MnLCAnc2NhdHRlci1jb250YWluZXInKVxyXG4gICAgICAgIC5zZWxlY3RBbGwoJ2cnKTtcclxuXHJcbiAgICB2YXIgc2NhdHRlckdyb3VwID0gc2NhdHRlcnNcclxuICAgICAgICAuZGF0YShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzY2F0dGVyRGF0YUZpbHRlcmVkO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmVudGVyKClcclxuICAgICAgICAuYXBwZW5kKCdjaXJjbGUnKVxyXG4gICAgICAgIC5hdHRyKCdjbGFzcycsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAnZWRpdGFibGUgZWRpdGFibGUtc2NhdHRlciBzY2F0dGVyLWNpcmNsZS0nICsgaSArICcgaGlnaGxpZ2h0LWNsYXNzJztcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdjeCcsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjeFRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdjeScsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjeVRyYW5zbGF0ZShkLCBpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCAwLjgpXHJcbiAgICAgICAgLmF0dHIoJ3InLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCd6JykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnRvZ2dsZVogJiYgekF4aXNEYXRhICYmIHR5cGVvZiB6QXhpc0RhdGEgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHpBeGlzRGF0YSkubGVuZ3RoID4gMCAmJiBzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW2RhdGFUYWJsZS56XSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB6KHNjYXR0ZXJEYXRhRmlsdGVyZWRbaV1bZGF0YVRhYmxlLnpdKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5OT0RFX01JTl9TSVpFO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW92ZXInLCBmdW5jdGlvbiAoZCwgaSwgaikge1xyXG4gICAgICAgICAgICBpZiAoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vRHJhdyB0aXAgbGluZVxyXG4gICAgICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbignbW91c2Vtb3ZlJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgLy9EcmF3IHRpcCBsaW5lXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKCdmaWxsJywgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgdmFyIGNvbG9yO1xyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdzZXJpZXMnKSkge1xyXG4gICAgICAgICAgICAgICAgY29sb3IgPSBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBzY2F0dGVyRGF0YUZpbHRlcmVkW2ldW2RhdGFUYWJsZS5zZXJpZXNdKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbG9yID0ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgc2NhdHRlckRhdGFGaWx0ZXJlZFtpXVtkYXRhVGFibGUubGFiZWxdKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHNjYXR0ZXJzO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzO1xyXG4iLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUuc2luZ2xlYXhpcyA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZXRTaW5nbGVBeGlzRGF0YSA9IGdldFNpbmdsZUF4aXNEYXRhO1xyXG5qdkNoYXJ0cy5wcm90b3R5cGUuZ2V0U2luZ2xlQXhpc1ogPSBnZXRTaW5nbGVBeGlzWjtcclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlUG9pbnRzID0gZ2VuZXJhdGVQb2ludHM7XHJcblxyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBTaW5nbGUgQXhpcyBDbHVzdGVyIGZ1bmN0aW9ucyAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiovXHJcblxyXG5mdW5jdGlvbiBzZXREYXRhKGNoYXJ0KSB7XHJcbiAgICBjaGFydC5jdXJyZW50RGF0YSA9IHsgY2hhcnREYXRhOiBjaGFydC5kYXRhLmNoYXJ0RGF0YSwgZGF0YVRhYmxlOiBjaGFydC5kYXRhLmRhdGFUYWJsZSB9O1xyXG5cclxuICAgIC8vU2V0IHRoZSBsZWdlbmQgRGF0YSB0byB0aGUgbGFiZWwgZnJvbSBkYXRhVGFibGUgS2V5c1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSA9IFtjaGFydC5jdXJyZW50RGF0YS5kYXRhVGFibGUueF07XHJcbiAgICBjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEgPSBjaGFydC5nZXRTaW5nbGVBeGlzRGF0YShjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGEsIGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZSk7XHJcblxyXG4gICAgaWYgKGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgnc2l6ZScpKSB7XHJcbiAgICAgICAgY2hhcnQuY3VycmVudERhdGEuekF4aXNEYXRhID0gY2hhcnQuZ2V0U2luZ2xlQXhpc1ooY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGFydC5jdXJyZW50RGF0YS5jb2xvciA9ICdyZWQnOy8vY2hhcnQuc2V0Q2hhcnRDb2xvcnMgKGNoYXJ0Lm9wdGlvbnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY29sb3JzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgICAgICB2YXIgc3BsaXREYXRhID0ge30sLy9JZiB0aGVyZSBpcyBhIHNwbGl0LCB0aGUgZGF0YSB0aGF0IGhhcyBiZWVuIHNwbGl0XHJcbiAgICAgICAgbnVtVml6emVzLC8vSWYgdGhlcmUgaXMgYSBzcGxpdCwgdGhlIG51bWJlciBvZiBzaW5nbGUgYXhpcyBjbHVzdGVycyB0aGF0IGFyZSBjcmVhdGVkXHJcbiAgICAgICAgY3VzdG9tU2l6ZSA9IHt9LC8vSWYgdGhlcmUgaXMgYSBzcGxpdCwgdGhlIHN2ZyBuZWVkcyB0byBiZSBhIGN1c3RvbSBwcmVkZWZpbmVkIGhlaWdodFxyXG4gICAgICAgIG1hcmdpbiA9IHtcclxuICAgICAgICAgICAgdG9wOiA0MCxcclxuICAgICAgICAgICAgbGVmdDogMTAwLFxyXG4gICAgICAgICAgICByaWdodDogNzUsXHJcbiAgICAgICAgICAgIGJvdHRvbTogNTAsXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAvL0lmIHRoZXJlIGlzIGEgc3BsaXQgb24gdGhlIHZpeiwgcnVuIHRocm91Z2ggdGhpcyBsb2dpY1xyXG4gICAgaWYgKGNoYXJ0Lm9wdGlvbnMuc3BsaXREYXRhICE9IFwiXCIgJiYgY2hhcnQub3B0aW9ucy5zcGxpdERhdGEgIT0gXCJub25lXCIpIHtcclxuICAgICAgICAvL0NoZWNrIHRvIHNlZSBob3cgbWFueSB2aXp6ZXMgbmVlZCB0byBiZSBjcmVhdGVkIGJlY2F1c2Ugb2YgdGhlIHNwbGl0XHJcblxyXG4gICAgICAgIHZhciBzcGxpdERhdGFLZXlzID0gW107XHJcbiAgICAgICAgdmFyIHNwbGl0T3B0aW9uTmFtZSA9IGNoYXJ0Lm9wdGlvbnMuc3BsaXREYXRhLnJlcGxhY2UoL18vZywgXCIgXCIpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoYXJ0LmN1cnJlbnREYXRhLmNoYXJ0RGF0YS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYWRkVG9LZXlzID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzcGxpdERhdGFLZXlzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhW2ldW3NwbGl0T3B0aW9uTmFtZV0gPT09IHNwbGl0RGF0YUtleXNbal0pIHtcclxuICAgICAgICAgICAgICAgICAgICBhZGRUb0tleXMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYWRkVG9LZXlzKSB7XHJcbiAgICAgICAgICAgICAgICBzcGxpdERhdGFLZXlzLnB1c2goY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhW2ldW3NwbGl0T3B0aW9uTmFtZV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvL0NyZWF0ZSBPYmplY3Qgd2l0aCBrZXlzIGFuZCBhc3NpZ24gZWFjaCBlbGVtZW50IG9mIHRoZSBkYXRhIGFycmF5IHRvIGNvcnJlc3BvbmRpbmcgb2JqZWN0XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGxpdERhdGFLZXlzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNwbGl0RGF0YVtzcGxpdERhdGFLZXlzW2ldXSA9IFtdOy8vQXNzaWduIGVtcHR5IGFycmF5IHRvIGVhY2ggbG9jYXRpb25cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vQXNzaWduIERhdGEgZWxlbWVudHMgdG8gYXBwcm9wcmlhdGUgcGxhY2UgaW4gc3BsaXREYXRhIG9iamVjdFxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHNwbGl0RGF0YVtjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGFbaV1bc3BsaXRPcHRpb25OYW1lXV0ucHVzaChjaGFydC5jdXJyZW50RGF0YS5jaGFydERhdGFbaV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbnVtVml6emVzID0gc3BsaXREYXRhS2V5cy5sZW5ndGg7XHJcblxyXG4gICAgICAgIGN1c3RvbVNpemUgPSB7fTtcclxuXHJcbiAgICAgICAgY3VzdG9tU2l6ZS5oZWlnaHQgPSAobnVtVml6emVzKSAqIDMwMDtcclxuXHJcbiAgICAgICAgY2hhcnQuZ2VuZXJhdGVTVkcoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgbWFyZ2luLCBjdXN0b21TaXplKTtcclxuICAgICAgICBjaGFydC5nZW5lcmF0ZVhBeGlzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSk7XHJcbiAgICAgICAgY2hhcnQuZHJhd0dyaWRsaW5lcyhjaGFydC5jdXJyZW50RGF0YS54QXhpc0RhdGEpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bVZpenplczsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNoYXJ0LmdlbmVyYXRlUG9pbnRzKHNwbGl0RGF0YVtzcGxpdERhdGFLZXlzW2ldXSwgaSk7XHJcblxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vV2hlbiB0aGVyZSBpc24ndCBhIHNwbGl0LCB0aGUgYmFzZSBjYXNlXHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjaGFydC5nZW5lcmF0ZVNWRyhjaGFydC5jdXJyZW50RGF0YS5sZWdlbmREYXRhLCBtYXJnaW4pO1xyXG4gICAgICAgIGNoYXJ0LmdlbmVyYXRlWEF4aXMoY2hhcnQuY3VycmVudERhdGEueEF4aXNEYXRhKTtcclxuICAgICAgICBjaGFydC5kcmF3R3JpZGxpbmVzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSk7XHJcbiAgICAgICAgY2hhcnQuZ2VuZXJhdGVQb2ludHMoY2hhcnQuY3VycmVudERhdGEuY2hhcnREYXRhKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYodHlwZW9mIGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzU2NhbGUudGlja3MgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgIGNoYXJ0LmZvcm1hdFhBeGlzTGFiZWxzKGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzU2NhbGUudGlja3MoKS5sZW5ndGgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjaGFydC5mb3JtYXRYQXhpc0xhYmVscyhjaGFydC5jdXJyZW50RGF0YS54QXhpc1NjYWxlLmRvbWFpbigpLmxlbmd0aCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFNpbmdsZUF4aXNaKGRhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc2l6ZSA9IGNoYXJ0LmN1cnJlbnREYXRhLmRhdGFUYWJsZS5zaXplLFxyXG4gICAgICAgIG1pbiA9IGRhdGFbMF1bc2l6ZV0sXHJcbiAgICAgICAgbWF4ID0gZGF0YVswXVtzaXplXTtcclxuICAgIC8vRmluZCBtaW4gYW5kIG1heCBvZiB0aGUgZGF0YVxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIG51bSA9IGRhdGFbaV1bc2l6ZV07XHJcbiAgICAgICAgaWYgKG51bSA+IG1heCkge1xyXG4gICAgICAgICAgICBtYXggPSBudW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG51bSA8IG1pbikge1xyXG4gICAgICAgICAgICBtaW4gPSBudW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgJ21pbic6IG1pbixcclxuICAgICAgICAnbWF4JzogbWF4LFxyXG4gICAgICAgICdsYWJlbCc6IHNpemVcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVQb2ludHMoZGF0YSwgeUxldmVsKSB7XHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICB3aWR0aCA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0ID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgZGF0YVRhYmxlID0gY2hhcnQuY3VycmVudERhdGEuZGF0YVRhYmxlLFxyXG4gICAgICAgIHhBeGlzRGF0YSA9IGNoYXJ0LmN1cnJlbnREYXRhLnhBeGlzRGF0YSxcclxuICAgICAgICB6QXhpc0RhdGEgPSBjaGFydC5jdXJyZW50RGF0YS56QXhpc0RhdGEsXHJcbiAgICAgICAgb3B0aW9ucyA9IGNoYXJ0Lm9wdGlvbnMsXHJcbiAgICAgICAgY29udGFpbmVyID0gY2hhcnQuY29uZmlnLmNvbnRhaW5lcixcclxuICAgICAgICBwb2ludENvbG9yID0gXCIjNjA5Y2RiXCIsXHJcbiAgICAgICAgY29sb3JlZFBvaW50ID0gXCIjZTg4YTE3XCI7XHJcblxyXG4gICAgdmFyIHggPSBqdkNoYXJ0cy5nZXRBeGlzU2NhbGUoJ3gnLCB4QXhpc0RhdGEsIGNoYXJ0LmNvbmZpZy5jb250YWluZXIsIG51bGwsIG51bGwsIGNoYXJ0Lm9wdGlvbnMpO1xyXG5cclxuICAgIGNvbnN0IFNQTElUX0NMVVNURVJfSEVJR0hUID0gMzAwO1xyXG4gICAgY29uc3QgVFJBTlNMQVRFX1NQTElUX0NMVVNURVIgPSAxNTA7XHJcblxyXG5cclxuICAgIC8vSWYgdGhlcmUncyBhIHNwbGl0LCBhY2NvdW50IGZvciB0aGUgbXVsdGlwbGUgYXhlc1xyXG4gICAgdmFyIGN1cnJlbnRBeGlzSGVpZ2h0O1xyXG4gICAgaWYgKHlMZXZlbCAhPSBudWxsKSB7XHJcbiAgICAgICAgY3VycmVudEF4aXNIZWlnaHQgPSAoeUxldmVsICogU1BMSVRfQ0xVU1RFUl9IRUlHSFQpICsgVFJBTlNMQVRFX1NQTElUX0NMVVNURVI7Ly9FYWNoIGhlaWdodCBpcyAxMDBweFxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY3VycmVudEF4aXNIZWlnaHQgPSBoZWlnaHQgLyAyO1xyXG4gICAgfVxyXG5cclxuICAgIGlmICghb3B0aW9ucy5OT0RFX01JTl9TSVpFKSB7XHJcbiAgICAgICAgb3B0aW9ucy5OT0RFX01JTl9TSVpFID0gNC41O1xyXG4gICAgfVxyXG4gICAgaWYgKCFvcHRpb25zLk5PREVfTUFYX1NJWkUpIHtcclxuICAgICAgICBvcHRpb25zLk5PREVfTUFYX1NJWkUgPSAyNTtcclxuICAgIH1cclxuXHJcbiAgICAvL0FkZCBhIHBhdGggbGluZSB0aHJvdWdoIHRoZSBoZWlnaHQgb2YgdGhlIGF4aXNcclxuICAgIGlmICh5TGV2ZWwgIT0gbnVsbCkge1xyXG4gICAgICAgIHN2Zy5hcHBlbmQoXCJsaW5lXCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieDFcIiwgMClcclxuICAgICAgICAgICAgLmF0dHIoXCJ4MlwiLCBjb250YWluZXIud2lkdGgpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieTFcIiwgY3VycmVudEF4aXNIZWlnaHQpXHJcbiAgICAgICAgICAgIC5hdHRyKFwieTJcIiwgY3VycmVudEF4aXNIZWlnaHQpXHJcbiAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlXCIsIFwid2hpdGVcIilcclxuICAgICAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgXCIyMHB4XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsIFwiICsgVFJBTlNMQVRFX1NQTElUX0NMVVNURVIgKyBcIilcIik7XHJcblxyXG4gICAgICAgIHN2Zy5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgIC5kYXR1bShkYXRhKVxyXG4gICAgICAgICAgICAuYXR0cihcInhcIiwgMClcclxuICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIGN1cnJlbnRBeGlzSGVpZ2h0KVxyXG4gICAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGRbMF1bb3B0aW9ucy5zcGxpdERhdGEucmVwbGFjZSgvXy9nLCAnICcpXTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoLTg1LCAwKVwiKTtcclxuICAgIH1cclxuXHJcblxyXG5cclxuXHJcbiAgICB2YXIgc2ltdWxhdGlvbiA9IGQzLmZvcmNlU2ltdWxhdGlvbihkYXRhKVxyXG4gICAgICAgIC5hbHBoYURlY2F5KC4wNSlcclxuICAgICAgICAuZm9yY2UoXCJ4XCIsIGQzLmZvcmNlWChmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4geChkW2RhdGFUYWJsZS54XSk7XHJcbiAgICAgICAgfSkuc3RyZW5ndGgoMSkpXHJcbiAgICAgICAgLmZvcmNlKFwieVwiLCBkMy5mb3JjZVkoY3VycmVudEF4aXNIZWlnaHQpKVxyXG4gICAgICAgIC5mb3JjZShcImNvbGxpZGVcIiwgZDMuZm9yY2VDb2xsaWRlKGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIC8vU2V0IGNvbGxpc2lvbiByYWRpdXMgZXF1YWwgdG8gdGhlIHJhZGl1cyBvZiB0aGUgY2lyY2xlXHJcbiAgICAgICAgICAgIGlmIChkYXRhVGFibGUuaGFzT3duUHJvcGVydHkoJ3NpemUnKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vcm0gPSAoZFtkYXRhVGFibGUuc2l6ZV0gLSB6QXhpc0RhdGEubWluKSAvICh6QXhpc0RhdGEubWF4IC0gekF4aXNEYXRhLm1pbik7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gKG9wdGlvbnMuTk9ERV9NQVhfU0laRSAtIG9wdGlvbnMuTk9ERV9NSU5fU0laRSkgKiBub3JtICsgb3B0aW9ucy5OT0RFX01JTl9TSVpFO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IG9wdGlvbnMuTk9ERV9NSU5fU0laRTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgICAgIH0pLnN0cmVuZ3RoKDEpKVxyXG4gICAgICAgIC5mb3JjZShcImNoYXJnZVwiLCBkMy5mb3JjZU1hbnlCb2R5KCkuc3RyZW5ndGgoLTYpKVxyXG4gICAgICAgIC5zdG9wKCk7XHJcbiAgICAvL1xyXG5cclxuICAgIC8vT24gRHJhdyBNb3ZlIFBvaW50c1xyXG4gICAgZnVuY3Rpb24gbW92ZVRvd2FyZERhdGFQb3NpdGlvbihhbHBoYSkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBkLnggKz0gKHgoZC54KSAtIGQueCkgKiAuMSAqIGFscGhhO1xyXG4gICAgICAgICAgICBkLnkgKz0gKHkoZC55KSAtIGQueSkgKiAuMDUgKiBhbHBoYTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTIwOyArK2kpIHNpbXVsYXRpb24udGljaygpO1xyXG5cclxuICAgIHZhciBjZWxsID0gc3ZnLmFwcGVuZChcImdcIilcclxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiY2VsbHNcIilcclxuICAgICAgICAuc2VsZWN0QWxsKFwiZ1wiKVxyXG4gICAgICAgIC5kYXRhKGQzLnZvcm9ub2koKVxyXG4gICAgICAgICAgICAuZXh0ZW50KFtbMCwgMF0sIFt3aWR0aCwgaGVpZ2h0XV0pXHJcbiAgICAgICAgICAgIC54KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC54O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAueShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQueTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnBvbHlnb25zKGRhdGEpXHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcImdcIikuYXR0cihcImNsYXNzXCIsIFwiY2VsbC1jb250YWluZXJcIik7XHJcblxyXG4gICAgY2VsbFxyXG4gICAgICAgIC5hcHBlbmQoXCJjaXJjbGVcIilcclxuICAgICAgICAuYXR0cihcInJcIiwgZnVuY3Rpb24gKGQsIGksIGopIHtcclxuICAgICAgICAgICAgLy9pZihkID09IG51bGwpe1xyXG4gICAgICAgICAgICAvLyAgICBjb25zb2xlLmxvZyhkICsgXCIgaXMgdW5kZWZpbmVkIGF0IGluZGV4IFwiICsgaSk7XHJcbiAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICAvL2Vsc2V7XHJcbiAgICAgICAgICAgIC8vICAgIGNvbnNvbGUubG9nKGQuZGF0YS5UaXRsZSk7XHJcbiAgICAgICAgICAgIC8vfVxyXG4gICAgICAgICAgICBpZiAoZGF0YVRhYmxlLmhhc093blByb3BlcnR5KCdzaXplJykgJiYgZCAhPSBudWxsICYmIGQuaGFzT3duUHJvcGVydHkoJ2RhdGEnKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vcm0gPSAoZC5kYXRhW2RhdGFUYWJsZS5zaXplXSAtIHpBeGlzRGF0YS5taW4pIC8gKHpBeGlzRGF0YS5tYXggLSB6QXhpc0RhdGEubWluKTtcclxuICAgICAgICAgICAgICAgIGlmICghaXNOYU4obm9ybSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gKG9wdGlvbnMuTk9ERV9NQVhfU0laRSAtIG9wdGlvbnMuTk9ERV9NSU5fU0laRSkgKiBub3JtICsgb3B0aW9ucy5OT0RFX01JTl9TSVpFO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7Ly9JZiB0aGVyZSBpcyBvbmx5IDEgbm9kZSBvbiB0aGUgY2hhcnRcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsID0gb3B0aW9ucy5OT0RFX01JTl9TSVpFO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSAwOy8vRG9uJ3QgZGlzcGxheSB1bmRlZmluZWQgbm9kZXNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSBvcHRpb25zLk5PREVfTUlOX1NJWkU7Ly9EZWZhdWx0IG5vZGUgc2l6ZSBvZiAxNVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vdmFsID0gMztcclxuICAgICAgICAgICAgcmV0dXJuIHZhbDtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiY3hcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQuZGF0YS54O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcImN5XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBkLmRhdGEueTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkICE9IG51bGwgJiYgZC5kYXRhW29wdGlvbnMuY29sb3JEYXRhQ2F0ZWdvcnldID09PSBvcHRpb25zLmNvbG9yRGF0YUluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sb3JlZFBvaW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvaW50Q29sb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwib3BhY2l0eVwiLCAuOClcclxuICAgICAgICAuYXR0cihcInN0cm9rZVwiLCBcImJsYWNrXCIpXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMSlcclxuICAgICAgICAub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZDMuc2VsZWN0KHRoaXMpXHJcbiAgICAgICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgXCJyZWRcIik7XHJcbiAgICAgICAgICAgIC8vZDMuc2VsZWN0KHRoaXMpXHJcbiAgICAgICAgICAgIC8vICAgIC5hdHRyKFwiZmlsbFwiLCBcImJsdWVcIik7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJtb3VzZWxlYXZlXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChjaGFydC5kcmF3LnNob3dUb29sVGlwKSB7XHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKVxyXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGQgIT0gbnVsbCAmJiBkLmRhdGFbb3B0aW9ucy5jb2xvckRhdGFDYXRlZ29yeV0gPT09IG9wdGlvbnMuY29sb3JEYXRhSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yZWRQb2ludDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwb2ludENvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvL2QzLnNlbGVjdCh0aGlzKVxyXG4gICAgICAgICAgICAvLyAgICAuYXR0cihcImZpbGxcIiwgXCJub25lXCIpO1xyXG4gICAgICAgIH0pXHJcblxyXG5cclxuXHJcbiAgICAvL2NlbGwuYXBwZW5kKFwicGF0aFwiKVxyXG4gICAgLy8gICAgLmF0dHIoXCJjbGFzc1wiLCBcInZvcm9ub2ktcGF0aFwiKVxyXG4gICAgLy8gICAgLmF0dHIoXCJkXCIsIGZ1bmN0aW9uKGQpIHtcclxuICAgIC8vICAgICAgICBpZihkID09IG51bGwpe1xyXG4gICAgLy8gICAgICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICAgICAgfVxyXG4gICAgLy8gICAgICAgIGVsc2V7XHJcbiAgICAvLyAgICAgICAgICAgIHJldHVybiBcIk1cIiArIGQuam9pbihcIkxcIikgKyBcIlpcIjtcclxuICAgIC8vICAgICAgICB9XHJcbiAgICAvLyAgICB9KVxyXG4gICAgLy8gICAgLmF0dHIoXCJmaWxsXCIsIFwibm9uZVwiKVxyXG4gICAgLy8gICAgLmF0dHIoXCJzdHJva2VcIiwgXCJyZWRcIikvL0FkZCBhIGNvbG9yIGhlcmUgdG8gc2VlIHRoZSB2b3Jvbm9pIG91dGxpbmVzXHJcbiAgICAvLyAgICAuYXR0cihcInBvaW50ZXItZXZlbnRzXCIsIFwiYWxsXCIpXHJcbiAgICAvLyAgICAub24oXCJtb3VzZWVudGVyXCIsIGZ1bmN0aW9uKGQsIGkpe1xyXG4gICAgLy8gICAgICAgIGlmKGNoYXJ0LmRyYXcuc2hvd1Rvb2xUaXApe1xyXG4gICAgLy8gICAgICAgICAgICB2YXIgdGlwRGF0YSA9IGNoYXJ0LnNldFRpcERhdGEoZCwgaSk7XHJcbiAgICAvLyAgICAgICAgICAgIGNoYXJ0LnRpcC5nZW5lcmF0ZVNpbXBsZVRpcCh0aXBEYXRhLCBkYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgIC8vICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgZDMuc2VsZWN0KHRoaXMucHJldmlvdXNTaWJsaW5nKVxyXG4gICAgLy8gICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgXCJyZWRcIik7XHJcbiAgICAvLyAgICAgICAgLy9kMy5zZWxlY3QodGhpcylcclxuICAgIC8vICAgICAgICAvLyAgICAuYXR0cihcImZpbGxcIiwgXCJibHVlXCIpO1xyXG4gICAgLy8gICAgfSlcclxuICAgIC8vICAgIC5vbihcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbiAoZCwgaSl7XHJcbiAgICAvLyAgICAgICAgaWYoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCl7XHJcbiAgICAvLyAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAvLyAgICAgICAgfVxyXG4gICAgLy8gICAgICAgIGQzLnNlbGVjdCh0aGlzLnByZXZpb3VzU2libGluZylcclxuICAgIC8vICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwiIzA0Mzg2RVwiKTtcclxuICAgIC8vICAgICAgICBpZihjaGFydC5kcmF3LnNob3dUb29sVGlwKXtcclxuICAgIC8vICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgLy8gICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAvLyAgICAgICAgfVxyXG4gICAgLy8gICAgICAgIGQzLnNlbGVjdCh0aGlzLnByZXZpb3VzU2libGluZylcclxuICAgIC8vICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwicmVkXCIpO1xyXG4gICAgLy8gICAgfSlcclxuICAgIC8vICAgIC5vbihcIm1vdXNlbGVhdmVcIiwgZnVuY3Rpb24oZCwgaSl7XHJcbiAgICAvLyAgICAgICAgaWYoY2hhcnQuZHJhdy5zaG93VG9vbFRpcCl7XHJcbiAgICAvLyAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAvLyAgICAgICAgfVxyXG4gICAgLy8gICAgICAgIGQzLnNlbGVjdCh0aGlzLnByZXZpb3VzU2libGluZylcclxuICAgIC8vICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwiIzA0Mzg2RVwiKTtcclxuICAgIC8vXHJcbiAgICAvLyAgICAgICAgLy9kMy5zZWxlY3QodGhpcylcclxuICAgIC8vICAgICAgICAvLyAgICAuYXR0cihcImZpbGxcIiwgXCJub25lXCIpO1xyXG4gICAgLy8gICAgfSlcclxuXHJcbiAgICB2YXIgZm9ybWF0VmFsdWUgPSBkMy5mb3JtYXQoXCIsZFwiKTtcclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldFNpbmdsZUF4aXNEYXRhKGRhdGEsIGRhdGFUYWJsZSkge1xyXG4gICAgdmFyIGNoYXJ0ID0gdGhpcyxcclxuICAgICAgICBvcHRpb25zID0gY2hhcnQub3B0aW9ucztcclxuXHJcbiAgICB2YXIgbGFiZWwsXHJcbiAgICAgICAgZGF0YVR5cGUsXHJcbiAgICAgICAgbWluLFxyXG4gICAgICAgIG1heCxcclxuICAgICAgICB2YWx1ZXMgPSBbXTtcclxuXHJcbiAgICBpZiAoZGF0YVRhYmxlKSB7XHJcbiAgICAgICAgaWYgKGRhdGFUYWJsZS5oYXNPd25Qcm9wZXJ0eSgneCcpKSB7XHJcbiAgICAgICAgICAgIGxhYmVsID0gZGF0YVRhYmxlLng7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRhdGFUeXBlID0gJ05VTUJFUic7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFsdWVzLnB1c2goZGF0YVtpXVtkYXRhVGFibGUueF0pO1xyXG4gICAgfVxyXG5cclxuICAgIG1pbiA9IE1hdGgubWluLmFwcGx5KG51bGwsIHZhbHVlcyk7XHJcbiAgICBtYXggPSBNYXRoLm1heC5hcHBseShudWxsLCB2YWx1ZXMpO1xyXG5cclxuICAgIC8vQWRkIGEgMTAlIGJ1ZmZlciB0byBib3RoIHNpZGVzXHJcbiAgICBtaW4gPSBNYXRoLmZsb29yKG1pbiAtICgobWF4IC0gbWluKSAqIC4xMCkpO1xyXG4gICAgbWF4ID0gTWF0aC5jZWlsKG1heCArICgobWF4IC0gbWluKSAqIC4xMCkpO1xyXG5cclxuICAgIC8vRm9yIGF4aXMgbWluL21heCB3aWRnZXRcclxuICAgIGlmIChjaGFydC5vcHRpb25zLmhhc093blByb3BlcnR5KCd4TWluJykgJiYgY2hhcnQub3B0aW9ucy54TWluICE9ICdub25lJykge1xyXG4gICAgICAgIG1pbiA9IGNoYXJ0Lm9wdGlvbnMueE1pbjtcclxuICAgIH1cclxuICAgIGlmIChjaGFydC5vcHRpb25zLmhhc093blByb3BlcnR5KCd4TWF4JykgJiYgY2hhcnQub3B0aW9ucy54TWF4ICE9ICdub25lJykge1xyXG4gICAgICAgIG1heCA9IGNoYXJ0Lm9wdGlvbnMueE1heDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgICdsYWJlbCc6IGxhYmVsLFxyXG4gICAgICAgICd2YWx1ZXMnOiB2YWx1ZXMsXHJcbiAgICAgICAgJ2RhdGFUeXBlJzogZGF0YVR5cGUsXHJcbiAgICAgICAgJ21pbic6IG1pbixcclxuICAgICAgICAnbWF4JzogbWF4XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGp2Q2hhcnRzOyIsIid1c2Ugc3RyaWN0JztcclxudmFyIGp2Q2hhcnRzID0gcmVxdWlyZSgnLi4vanZDaGFydHMuanMnKTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5zdW5idXJzdCA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZVN1bmJ1cnN0ID0gZ2VuZXJhdGVTdW5idXJzdDtcclxuXHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogU3VuYnVyc3QgZnVuY3Rpb25zICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cclxuXHJcbi8qKnNldFN1bmJ1cnN0Q2hhcnREYXRhXHJcbiAqICBnZXRzIHN1bmJ1cnN0IGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKGNoYXJ0KSB7XHJcbiAgICBjaGFydC5kYXRhLmNvbG9yID0gY2hhcnQuY29sb3JzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYWludChjaGFydCkge1xyXG4gICAgY2hhcnQub3B0aW9ucy5jb2xvciA9IGNoYXJ0LmRhdGEuY29sb3I7XHJcblxyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBjaGFydC5kYXRhOy8vTWlnaHQgaGF2ZSB0byBtb3ZlIGludG8gbWV0aG9kIGJjIG9mIHJlZmVyZW5jZS92YWx1ZSByZWxhdGlvbnNoaXBcclxuXHJcbiAgICB2YXIgc3VuYnVyc3RNYXJnaW5zID0ge1xyXG4gICAgICAgIHRvcDogMTUsXHJcbiAgICAgICAgcmlnaHQ6IDE1LFxyXG4gICAgICAgIGJvdHRvbTogMTUsXHJcbiAgICAgICAgbGVmdDogMTVcclxuICAgIH07XHJcblxyXG4gICAgLy9HZW5lcmF0ZSBTVkctbGVnZW5kIGRhdGEgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHNpemUgb2YgdGhlIGJvdHRvbSBtYXJnaW4gKHNldCB0byBudWxsIGZvciBubyBsZWdlbmQpXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhudWxsLCBzdW5idXJzdE1hcmdpbnMpO1xyXG4gICAgLy8gY2hhcnQuZ2VuZXJhdGVMZWdlbmQoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgJ2dlbmVyYXRlU3VuYnVyc3QnKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlU3VuYnVyc3QoY2hhcnQuY3VycmVudERhdGEpO1xyXG59XHJcblxyXG4vKiogZ2VuZXJhdGVTdW5idXJzdFxyXG4gKlxyXG4gKiBwYWludHMgdGhlIHN1bmJ1cnN0IG9uIHRoZSBjaGFydFxyXG4gKiBAcGFyYW1zIHN1bmJ1cnN0RGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVTdW5idXJzdChzdW5idXJzdERhdGEpIHtcclxuXHJcbiAgICB2YXIgY2hhcnQgPSB0aGlzLFxyXG4gICAgICAgIHN2ZyA9IGNoYXJ0LnN2ZyxcclxuICAgICAgICBjb250YWluZXIgPSBjaGFydC5jb25maWcuY29udGFpbmVyLFxyXG4gICAgICAgIGFsbEZpbHRlckxpc3QgPSBbXSxcclxuICAgICAgICByZWxhdGlvbk1hcCA9IGNoYXJ0LmRhdGEuZGF0YVRhYmxlLFxyXG4gICAgICAgIGNoYXJ0TmFtZSA9IGNoYXJ0LmNvbmZpZy5uYW1lLFxyXG4gICAgICAgIHdpZHRoID0gY29udGFpbmVyLndpZHRoLFxyXG4gICAgICAgIGhlaWdodCA9IGNvbnRhaW5lci5oZWlnaHQsXHJcbiAgICAgICAgcmFkaXVzID0gKE1hdGgubWluKHdpZHRoLCBoZWlnaHQpIC8gMikgLSAxMDtcclxuXHJcbiAgICBjaGFydC5jaGlsZHJlbiA9IGNoYXJ0LmRhdGEuY2hhcnREYXRhO1xyXG5cclxuICAgIHZhciBuZXdEYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjaGFydC5jaGlsZHJlbikpOy8vY29weSBvZiBwaWUgZGF0YVxyXG5cclxuICAgIHZhciBmb3JtYXROdW1iZXIgPSBkMy5mb3JtYXQoXCIsZFwiKTtcclxuXHJcbiAgICB2YXIgeCA9IGQzLnNjYWxlTGluZWFyKClcclxuICAgICAgICAucmFuZ2UoWzAsIDIgKiBNYXRoLlBJXSk7XHJcblxyXG4gICAgdmFyIHkgPSBkMy5zY2FsZVNxcnQoKVxyXG4gICAgICAgIC5yYW5nZShbMCwgcmFkaXVzXSk7XHJcblxyXG4gICAgdmFyIGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKClcclxuICAgICAgICAucmFuZ2UoY2hhcnQuZGF0YS5jb2xvclxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChjKSB7IGMgPSBkMy5yZ2IoYyk7IGMub3BhY2l0eSA9IDE7IHJldHVybiBjOyB9KSk7XHJcblxyXG4gICAgLy8gdmFyIGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MTApO1xyXG5cclxuICAgIHZhciBwYXJ0aXRpb24gPSBkMy5wYXJ0aXRpb24oKTtcclxuXHJcbiAgICB2YXIgYXJjID0gZDMuYXJjKClcclxuICAgICAgICAuc3RhcnRBbmdsZShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMiAqIE1hdGguUEksIHgoZC54MCkpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5lbmRBbmdsZShmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oMiAqIE1hdGguUEksIHgoZC54MSkpKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5pbm5lclJhZGl1cyhmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgeShkLnkwKSk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub3V0ZXJSYWRpdXMoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIHkoZC55MSkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIC8vICBhc3NpZ25zIHRoZSBkYXRhIHRvIGEgaGllcmFyY2h5IHVzaW5nIHBhcmVudC1jaGlsZCByZWxhdGlvbnNoaXBzXHJcbiAgICB2YXIgcm9vdCA9IGQzLmhpZXJhcmNoeShjaGFydC5jaGlsZHJlbiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICByZXR1cm4gZC5jaGlsZHJlbjtcclxuICAgIH0pO1xyXG5cclxuICAgIHJvb3Quc3VtKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgcmV0dXJuIGQudmFsdWU7XHJcbiAgICB9KVxyXG5cclxuICAgIHZhciB2aXMgPSBzdmcuYXBwZW5kKFwiZ1wiKVxyXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJzdW5idXJzdFwiKVxyXG4gICAgICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGgpXHJcbiAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0KVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgd2lkdGggLyAyICsgXCIsXCIgKyAoaGVpZ2h0IC8gMikgKyBcIilcIik7XHJcblxyXG5cclxuICAgIHZpcy5zZWxlY3RBbGwoXCJwYXRoXCIpXHJcbiAgICAgICAgLmRhdGEocGFydGl0aW9uKHJvb3QpLmRlc2NlbmRhbnRzKCkpXHJcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJub2RlXCIpO1xyXG5cclxuICAgIHZhciBwYXRoID0gdmlzLnNlbGVjdEFsbChcIi5ub2RlXCIpXHJcbiAgICAgICAgLmFwcGVuZChcInBhdGhcIilcclxuICAgICAgICAuYXR0cihcImRcIiwgYXJjKVxyXG4gICAgICAgIC5zdHlsZShcImZpbGxcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgaWYgKGQuZGF0YS5uYW1lID09PSBcInJvb3RcIikge1xyXG4gICAgICAgICAgICAgICAgZC5jb2xvciA9IGNoYXJ0Lm9wdGlvbnMuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoYXJ0Lm9wdGlvbnMuYmFja2dyb3VuZENvbG9yO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZC5jb2xvciA9IGNvbG9yKGQuZGF0YS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xvcihkLmRhdGEubmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIC5vbihcIm1vdXNlZW50ZXJcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgLy9HZXQgdGlwIGRhdGFcclxuICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAub24oXCJjbGlja1wiLCBjbGljaylcclxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICBjaGFydC50aXAuaGlkZVRpcCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIGlmIChjaGFydC5vcHRpb25zLmRpc3BsYXlWYWx1ZXMpIHtcclxuICAgICAgICB2YXIgdGV4dCA9IHZpcy5zZWxlY3RBbGwoXCIubm9kZVwiKVxyXG4gICAgICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxyXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwicm90YXRlKFwiICsgY29tcHV0ZVRleHRSb3RhdGlvbihkKSArIFwiKVwiO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB5KGQueTApO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuYXR0cihcImR4XCIsIFwiNlwiKSAvLyBtYXJnaW5cclxuICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpIC8vIHZlcnRpY2FsLWFsaWduXHJcbiAgICAgICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5kYXRhLm5hbWUgPT09IFwicm9vdFwiID8gXCJcIiA6IGQuZGF0YS5uYW1lXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuXHJcblxyXG4gICAgZnVuY3Rpb24gY2xpY2soZCkge1xyXG4gICAgICAgIC8vIGZhZGUgb3V0IGFsbCB0ZXh0IGVsZW1lbnRzXHJcbiAgICAgICAgaWYgKGNoYXJ0Lm9wdGlvbnMuZGlzcGxheVZhbHVlcykge1xyXG4gICAgICAgICAgICB0ZXh0LnRyYW5zaXRpb24oKS5hdHRyKFwib3BhY2l0eVwiLCAwKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZpcy50cmFuc2l0aW9uKClcclxuICAgICAgICAgICAgLmR1cmF0aW9uKDc1MClcclxuICAgICAgICAgICAgLnR3ZWVuKFwic2NhbGVcIiwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHhkID0gZDMuaW50ZXJwb2xhdGUoeC5kb21haW4oKSwgW2QueDAsIGQueDFdKSxcclxuICAgICAgICAgICAgICAgICAgICB5ZCA9IGQzLmludGVycG9sYXRlKHkuZG9tYWluKCksIFtkLnkwLCAxXSksXHJcbiAgICAgICAgICAgICAgICAgICAgeXIgPSBkMy5pbnRlcnBvbGF0ZSh5LnJhbmdlKCksIFtkLnkwID8gMjAgOiAwLCByYWRpdXNdKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHQpIHsgeC5kb21haW4oeGQodCkpOyB5LmRvbWFpbih5ZCh0KSkucmFuZ2UoeXIodCkpOyB9O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2VsZWN0QWxsKFwicGF0aFwiKVxyXG4gICAgICAgICAgICAuYXR0clR3ZWVuKFwiZFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJjKGQpO1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwiZW5kXCIsIGZ1bmN0aW9uIChlLCBpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2hhcnQub3B0aW9ucy5kaXNwbGF5VmFsdWVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIGFuaW1hdGVkIGVsZW1lbnQncyBkYXRhIGUgbGllcyB3aXRoaW4gdGhlIHZpc2libGUgYW5nbGUgc3BhbiBnaXZlbiBpbiBkXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUueDAgPiBkLngwICYmIGUueDAgPCBkLngxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdldCBhIHNlbGVjdGlvbiBvZiB0aGUgYXNzb2NpYXRlZCB0ZXh0IGVsZW1lbnRcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyY1RleHQgPSBkMy5zZWxlY3QodGhpcy5wYXJlbnROb2RlKS5zZWxlY3QoXCJ0ZXh0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBmYWRlIGluIHRoZSB0ZXh0IGVsZW1lbnQgYW5kIHJlY2FsY3VsYXRlIHBvc2l0aW9uc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmNUZXh0LnRyYW5zaXRpb24oKS5kdXJhdGlvbig3NTApXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcIm9wYWNpdHlcIiwgMSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ2aXNpYmxlXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBcInJvdGF0ZShcIiArIGNvbXB1dGVUZXh0Um90YXRpb24oZSkgKyBcIilcIiB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiB5KGQueTApOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZC5kYXRhLm5hbWUgPT09IFwicm9vdFwiID8gXCJcIiA6IGQuZGF0YS5uYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvbXB1dGVUZXh0Um90YXRpb24oZCkge1xyXG4gICAgICAgIHJldHVybiAoeCgoZC54MCArIGQueDEpIC8gMikgLSBNYXRoLlBJIC8gMikgLyBNYXRoLlBJICogMTgwO1xyXG4gICAgfVxyXG59O1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0czsiLCIndXNlIHN0cmljdCc7XHJcbnZhciBqdkNoYXJ0cyA9IHJlcXVpcmUoJy4uL2p2Q2hhcnRzLmpzJyk7XHJcblxyXG5qdkNoYXJ0cy5wcm90b3R5cGUudHJlZW1hcCA9IHtcclxuICAgIHBhaW50OiBwYWludCxcclxuICAgIHNldERhdGE6IHNldERhdGFcclxufTtcclxuXHJcbmp2Q2hhcnRzLnByb3RvdHlwZS5nZW5lcmF0ZVRyZWVNYXAgPSBnZW5lcmF0ZVRyZWVNYXA7XHJcbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogVHJlZU1hcCBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0VHJlZU1hcERhdGFcclxuICogIGdldHMgdHJlZW1hcCBkYXRhIGFuZCBhZGRzIGl0IHRvIHRoZSBjaGFydCBvYmplY3RcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCBkYXRhVGFibGUsIGNvbG9yc1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0RGF0YShjaGFydCkge1xyXG4gICAgY2hhcnQuZGF0YS5sZWdlbmREYXRhID0gc2V0VHJlZU1hcExlZ2VuZERhdGEoY2hhcnQuZGF0YSk7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGp2Q2hhcnRzLnNldENoYXJ0Q29sb3JzKGNoYXJ0Lm9wdGlvbnMuY29sb3IsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSwgY2hhcnQuY29sb3JzKTtcclxufVxyXG5cclxuLyoqc2V0VHJlZU1hcExlZ2VuZERhdGFcclxuICogIGdldHMgbGVnZW5kIGluZm8gZnJvbSBjaGFydCBEYXRhXHJcbiAqXHJcbiAqIEBwYXJhbXMgZGF0YSwgdHlwZVxyXG4gKiBAcmV0dXJucyBbXSBvZiBsZWdlbmQgdGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gc2V0VHJlZU1hcExlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuY2hhcnREYXRhLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGxlZ2VuZEFycmF5LmluZGV4T2YoZGF0YS5jaGFydERhdGEuY2hpbGRyZW5baV1bZGF0YS5kYXRhVGFibGUuc2VyaWVzXSkgPT0gLTEpIHtcclxuICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaCgoZGF0YS5jaGFydERhdGEuY2hpbGRyZW5baV1bZGF0YS5kYXRhVGFibGUuc2VyaWVzXSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgIGNoYXJ0Lm9wdGlvbnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG5cclxuICAgIGNoYXJ0LmN1cnJlbnREYXRhID0gY2hhcnQuZGF0YTsvL01pZ2h0IGhhdmUgdG8gbW92ZSBpbnRvIG1ldGhvZCBiYyBvZiByZWZlcmVuY2UvdmFsdWUgcmVsYXRpb25zaGlwXHJcblxyXG4gICAgdmFyIHRyZWVNYXBNYXJnaW5zID0ge1xyXG4gICAgICAgIHRvcDogNDUsXHJcbiAgICAgICAgcmlnaHQ6IDUwLFxyXG4gICAgICAgIGxlZnQ6IDUwLFxyXG4gICAgICAgIGJvdHRvbTogMTMwXHJcbiAgICB9O1xyXG5cclxuICAgIC8vR2VuZXJhdGUgU1ZHLWxlZ2VuZCBkYXRhIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBzaXplIG9mIHRoZSBib3R0b20gbWFyZ2luIChzZXQgdG8gbnVsbCBmb3Igbm8gbGVnZW5kKVxyXG4gICAgY2hhcnQuZ2VuZXJhdGVTVkcobnVsbCwgdHJlZU1hcE1hcmdpbnMpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVMZWdlbmQoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgJ2dlbmVyYXRlVHJlZU1hcCcpO1xyXG4gICAgY2hhcnQuZ2VuZXJhdGVUcmVlTWFwKGNoYXJ0LmN1cnJlbnREYXRhKTtcclxuXHJcblxyXG59O1xyXG5cclxuLyoqIGdlbmVyYXRlVHJlZU1hcFxyXG4gKlxyXG4gKiBwYWludHMgdGhlIHRyZWVtYXAgb24gdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbXMgdHJlZU1hcERhdGFcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlVHJlZU1hcCh0cmVlTWFwRGF0YSkge1xyXG5cclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbG9ycyA9IHRyZWVNYXBEYXRhLmNvbG9yLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgYWxsRmlsdGVyTGlzdCA9IFtdLFxyXG4gICAgICAgIHJlbGF0aW9uTWFwID0gY2hhcnQuZGF0YS5kYXRhVGFibGUsXHJcbiAgICAgICAgdHJlZW1hcCA9IG51bGwsXHJcbiAgICAgICAgY2hhcnROYW1lID0gY2hhcnQuY29uZmlnLm5hbWU7XHJcblxyXG4gICAgY2hhcnQuY2hpbGRyZW4gPSBjaGFydC5kYXRhLmNoYXJ0RGF0YTtcclxuXHJcbiAgICB2YXIgbmV3RGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoY2hhcnQuY2hpbGRyZW4pKTsvL2NvcHkgb2YgcGllIGRhdGFcclxuXHJcbiAgICBpZiAoIWNoYXJ0Lm9wdGlvbnMubGVnZW5kSGVhZGVycykge1xyXG4gICAgICAgIGNoYXJ0Lm9wdGlvbnMubGVnZW5kSGVhZGVycyA9IGxlZ2VuZERhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGRhdGFIZWFkZXJzID0gY2hhcnQub3B0aW9ucy5sZWdlbmRIZWFkZXJzO1xyXG5cclxuICAgIHZhciBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkgPSBqdkNoYXJ0cy5nZXRMZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXkoZGF0YUhlYWRlcnMsIGNoYXJ0LmRhdGEubGVnZW5kRGF0YSk7XHJcblxyXG5cclxuXHJcbiAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5KSB7XHJcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBuZXdEYXRhLmNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVnZW5kRWxlbWVudFRvZ2dsZUFycmF5W2ldLmVsZW1lbnQgPT09IG5ld0RhdGEuY2hpbGRyZW5bal1bcmVsYXRpb25NYXAuc2VyaWVzXSAmJiBsZWdlbmRFbGVtZW50VG9nZ2xlQXJyYXlbaV0udG9nZ2xlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG5ld0RhdGEuY2hpbGRyZW5bal0uc2hvdyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHZhciB0cmVlTWFwRGF0YUZpbHRlcmVkID0ge307XHJcbiAgICB0cmVlTWFwRGF0YUZpbHRlcmVkW1wiUGFyZW50XCJdID0gXCJUb3AgTGV2ZWxcIjtcclxuICAgIHRyZWVNYXBEYXRhRmlsdGVyZWQuY2hpbGRyZW4gPSBbXTtcclxuXHJcbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IG5ld0RhdGEuY2hpbGRyZW4ubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICBpZiAobmV3RGF0YS5jaGlsZHJlbltqXS5zaG93ICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICB0cmVlTWFwRGF0YUZpbHRlcmVkLmNoaWxkcmVuLnB1c2gobmV3RGF0YS5jaGlsZHJlbltqXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vICBhc3NpZ25zIHRoZSBkYXRhIHRvIGEgaGllcmFyY2h5IHVzaW5nIHBhcmVudC1jaGlsZCByZWxhdGlvbnNoaXBzXHJcbiAgICB2YXIgcm9vdCA9IGQzLmhpZXJhcmNoeSh0cmVlTWFwRGF0YUZpbHRlcmVkLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIHJldHVybiBkLmNoaWxkcmVuO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdmFyIHRyZWVtYXAgPSBkMy50cmVlbWFwKClcclxuICAgICAgICAuc2l6ZShbY29udGFpbmVyLndpZHRoLCBjb250YWluZXIuaGVpZ2h0XSlcclxuICAgICAgICAucGFkZGluZygyKTtcclxuXHJcbiAgICB2YXIgbm9kZXMgPSB0cmVlbWFwKHJvb3RcclxuICAgICAgICAuc3VtKGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkW3JlbGF0aW9uTWFwLnNpemVdO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGIuaGVpZ2h0IC0gYS5oZWlnaHQgfHwgYi52YWx1ZSAtIGEudmFsdWU7XHJcbiAgICAgICAgfSkpXHJcbiAgICAgICAgLmRlc2NlbmRhbnRzKCk7XHJcblxyXG4gICAgLy9SZW1vdmUgZXhpc3RpbmcgYmFycyBmcm9tIHBhZ2VcclxuICAgIHN2Zy5zZWxlY3RBbGwoXCJnLnRyZWVtYXBcIikucmVtb3ZlKCk7XHJcbiAgICBzdmcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwiY2xhc3NcIiwgXCJ0cmVlbWFwXCIpO1xyXG5cclxuICAgIHZhciBub2RlID0gc3ZnLnNlbGVjdChcIi50cmVlbWFwXCIpXHJcbiAgICAgICAgLnNlbGVjdEFsbChcImdcIilcclxuICAgICAgICAuZGF0YShyb290LmxlYXZlcygpKVxyXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZCgnZycpXHJcbiAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAndHJhbnNsYXRlKDAsMCknO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIG5vZGUuYXBwZW5kKCdyZWN0JylcclxuICAgICAgICAvLyAuY2FsbChwb3NpdGlvbilcclxuICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueDAgKyBcInB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueTAgKyBcInB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLngxIC0gZC54MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLnkxIC0gZC55MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4ganZDaGFydHMuZ2V0Q29sb3JzKGNvbG9ycywgaSwgZC5kYXRhW3JlbGF0aW9uTWFwLnNlcmllc10pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmF0dHIoXCJmaWxsLW9wYWNpdHlcIiwgLjgpXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgXCIjRkZGRkZGXCIpXHJcbiAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgXCIxXCIpXHJcbiAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgIC8vR2V0IHRpcCBkYXRhXHJcbiAgICAgICAgICAgIHZhciB0aXBEYXRhID0gY2hhcnQuc2V0VGlwRGF0YShkLmRhdGEsIGkpO1xyXG4gICAgICAgICAgICAvL0RyYXcgdGlwIGxpbmVcclxuICAgICAgICAgICAgY2hhcnQudGlwLmdlbmVyYXRlU2ltcGxlVGlwKHRpcERhdGEsIGNoYXJ0LmRhdGEuZGF0YVRhYmxlLCBkMy5ldmVudCk7XHJcblxyXG4gICAgICAgICAgICB2YXIgcmVjdCA9IGQzLnNlbGVjdCh0aGlzKTtcclxuICAgICAgICAgICAgcmVjdC5hdHRyKFwiZmlsbFwiLCAnI0JCQicpO1xyXG4gICAgICAgICAgICByZWN0LnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgY2hhcnQudGlwLmhpZGVUaXAoKTtcclxuICAgICAgICAgICAgdmFyIHJlY3QgPSBkMy5zZWxlY3QodGhpcyk7XHJcbiAgICAgICAgICAgIHJlY3QuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBqdkNoYXJ0cy5nZXRDb2xvcnMoY29sb3JzLCBpLCBkLmRhdGFbcmVsYXRpb25NYXAuc2VyaWVzXSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZWN0LnRyYW5zaXRpb24oKS5kdXJhdGlvbigyMDApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIG5vZGUuYXBwZW5kKCd0ZXh0JylcclxuICAgICAgICAvLyAuY2FsbChwb3NpdGlvbilcclxuICAgICAgICAuYXR0cihcInhcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueDAgKyBcInB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGQueTAgKyBcInB4XCI7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAuYXR0cihcIndpZHRoXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLngxIC0gZC54MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkLnkxIC0gZC55MCArIFwicHhcIjtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDMsIDE4KVwiKVxyXG4gICAgICAgIC50ZXh0KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgIGlmIChkLmR5ICE9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5jaGlsZHJlbiA/IG51bGwgOiBkLmRhdGFbcmVsYXRpb25NYXAubGFiZWxdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAvLyAub24oXCJtb3VzZW92ZXJcIiwgZnVuY3Rpb24gKGQsIGkpIHtcclxuICAgIC8vICAgICBjaGFydC5kcmF3LnRpcC5zaG93KHtkOiBkLCBpOiBpfSwgdGhpcyk7XHJcbiAgICAvLyB9KVxyXG4gICAgLy8gLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgIC8vICAgICBjaGFydC5kcmF3LnRpcC5oaWRlKCk7XHJcbiAgICAvLyB9KTtcclxuXHJcblxyXG4gICAgLyogRG9uJ3QgZGlzcGxheSB0ZXh0IGlmIHRleHQgaXMgd2lkZXIgdGhhbiByZWN0ICovXHJcbiAgICB2YXIgdGVtcCA9IHN2Zy5zZWxlY3QoXCIudHJlZW1hcFwiKS5zZWxlY3RBbGwoXCJnXCIpLnNlbGVjdEFsbChcInRleHRcIik7XHJcbiAgICB0ZW1wLmF0dHIoXCJzdHlsZVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIGlmICh0aGlzLmdldEJCb3goKS53aWR0aCA+PSAoZC54MSAtIGQueDApIC0gNSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJkaXNwbGF5Om5vbmVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuZ2V0QkJveCgpLmhlaWdodCA+PSAoZC55MSAtIGQueTApIC0gNSkge1xyXG4gICAgICAgICAgICByZXR1cm4gXCJkaXNwbGF5Om5vbmVcIjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTtcclxubW9kdWxlLmV4cG9ydHMgPSBqdkNoYXJ0cztcclxuIiwiJ3VzZSBzdHJpY3QnO1xyXG52YXIganZDaGFydHMgPSByZXF1aXJlKCcuLi9qdkNoYXJ0cy5qcycpO1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmNsb3VkID0ge1xyXG4gICAgcGFpbnQ6IHBhaW50LFxyXG4gICAgc2V0RGF0YTogc2V0RGF0YVxyXG59O1xyXG5cclxuanZDaGFydHMucHJvdG90eXBlLmdlbmVyYXRlQ2xvdWQgPSBnZW5lcmF0ZUNsb3VkO1xyXG5cclxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiBDbG91ZCBmdW5jdGlvbnMgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xyXG5cclxuLyoqc2V0Q2xvdWREYXRhXHJcbiAqICBnZXRzIGNsb3VkIGRhdGEgYW5kIGFkZHMgaXQgdG8gdGhlIGNoYXJ0IG9iamVjdFxyXG4gKlxyXG4gKiBAcGFyYW1zIGRhdGEsIGRhdGFUYWJsZSwgY29sb3JzXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXREYXRhKGNoYXJ0KSB7XHJcbiAgICAvL2RlZmluZSBjb2xvciBvYmplY3QgZm9yIGNoYXJ0RGF0YVxyXG4gICAgY2hhcnQuZGF0YS5jb2xvciA9IGNoYXJ0LmNvbG9ycztcclxufTtcclxuXHJcbi8qKnNldENsb3VkTGVnZW5kRGF0YVxyXG4gKiAgZ2V0cyBsZWdlbmQgaW5mbyBmcm9tIGNoYXJ0IERhdGFcclxuICpcclxuICogQHBhcmFtcyBkYXRhLCB0eXBlXHJcbiAqIEByZXR1cm5zIFtdIG9mIGxlZ2VuZCB0ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRDbG91ZExlZ2VuZERhdGEoZGF0YSkge1xyXG4gICAgdmFyIGxlZ2VuZEFycmF5ID0gW107XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEuY2hhcnREYXRhLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGxlZ2VuZEFycmF5LmluZGV4T2YoZGF0YS5jaGFydERhdGEuY2hpbGRyZW5baV1bZGF0YS5kYXRhVGFibGUuc2VyaWVzXSkgPT0gLTEpIHtcclxuICAgICAgICAgICAgbGVnZW5kQXJyYXkucHVzaCgoZGF0YS5jaGFydERhdGEuY2hpbGRyZW5baV1bZGF0YS5kYXRhVGFibGUuc2VyaWVzXSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBsZWdlbmRBcnJheTtcclxufVxyXG5cclxuZnVuY3Rpb24gcGFpbnQoY2hhcnQpIHtcclxuICAgIGNoYXJ0Lm9wdGlvbnMuY29sb3IgPSBjaGFydC5kYXRhLmNvbG9yO1xyXG4gICAgY2hhcnQuY3VycmVudERhdGEgPSBjaGFydC5kYXRhOy8vTWlnaHQgaGF2ZSB0byBtb3ZlIGludG8gbWV0aG9kIGJjIG9mIHJlZmVyZW5jZS92YWx1ZSByZWxhdGlvbnNoaXBcclxuXHJcbiAgICB2YXIgY2xvdWRNYXJnaW5zID0ge1xyXG4gICAgICAgIHRvcDogMTUsXHJcbiAgICAgICAgcmlnaHQ6IDE1LFxyXG4gICAgICAgIGxlZnQ6IDE1LFxyXG4gICAgICAgIGJvdHRvbTogMTVcclxuICAgIH07XHJcblxyXG4gICAgLy9HZW5lcmF0ZSBTVkctbGVnZW5kIGRhdGEgaXMgdXNlZCB0byBkZXRlcm1pbmUgdGhlIHNpemUgb2YgdGhlIGJvdHRvbSBtYXJnaW4gKHNldCB0byBudWxsIGZvciBubyBsZWdlbmQpXHJcbiAgICBjaGFydC5nZW5lcmF0ZVNWRyhudWxsLCBjbG91ZE1hcmdpbnMpO1xyXG4gICAgLy8gY2hhcnQuZ2VuZXJhdGVMZWdlbmQoY2hhcnQuY3VycmVudERhdGEubGVnZW5kRGF0YSwgJ2dlbmVyYXRlQ2xvdWQnKTtcclxuICAgIGNoYXJ0LmdlbmVyYXRlQ2xvdWQoY2hhcnQuY3VycmVudERhdGEpO1xyXG59O1xyXG5cclxuLyoqIGdlbmVyYXRlQ2xvdWRcclxuICpcclxuICogcGFpbnRzIHRoZSBjbG91ZCAgb24gdGhlIGNoYXJ0XHJcbiAqIEBwYXJhbXMgY2xvdWQgRGF0YVxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVDbG91ZChjbG91ZERhdGEpIHtcclxuICAgIHZhciBjaGFydCA9IHRoaXMsXHJcbiAgICAgICAgc3ZnID0gY2hhcnQuc3ZnLFxyXG4gICAgICAgIGNvbnRhaW5lciA9IGNoYXJ0LmNvbmZpZy5jb250YWluZXIsXHJcbiAgICAgICAgYWxsRmlsdGVyTGlzdCA9IFtdLFxyXG4gICAgICAgIHJlbGF0aW9uTWFwID0gY2hhcnQuZGF0YS5kYXRhVGFibGUsXHJcbiAgICAgICAgY2hhcnROYW1lID0gY2hhcnQuY29uZmlnLm5hbWUsXHJcbiAgICAgICAgd2lkdGggPSBjb250YWluZXIud2lkdGgsXHJcbiAgICAgICAgaGVpZ2h0ID0gY29udGFpbmVyLmhlaWdodCxcclxuICAgICAgICBtYXJnaW4gPSBjaGFydC5jb25maWcubWFyZ2luLFxyXG4gICAgICAgIG1pbixcclxuICAgICAgICBtYXg7XHJcblxyXG5cclxuICAgIHZhciBjYXRlZ29yaWVzID0gZDMua2V5cyhkMy5uZXN0KCkua2V5KGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgaWYgKCFtaW4gJiYgIW1heCkge1xyXG4gICAgICAgICAgICBtaW4gPSBkW3JlbGF0aW9uTWFwLnZhbHVlXTtcclxuICAgICAgICAgICAgbWF4ID0gZFtyZWxhdGlvbk1hcC52YWx1ZV07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKGRbcmVsYXRpb25NYXAudmFsdWVdID4gbWF4KSB7XHJcbiAgICAgICAgICAgICAgICBtYXggPSBkW3JlbGF0aW9uTWFwLnZhbHVlXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZFtyZWxhdGlvbk1hcC52YWx1ZV0gPCBtaW4pIHtcclxuICAgICAgICAgICAgICAgIG1pbiA9IGRbcmVsYXRpb25NYXAudmFsdWVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkW3JlbGF0aW9uTWFwLnZhbHVlXTtcclxuICAgIH0pLm1hcChjbG91ZERhdGEuY2hhcnREYXRhKSk7XHJcblxyXG4gICAgdmFyIGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKClcclxuICAgICAgICAucmFuZ2UoY2hhcnQuZGF0YS5jb2xvclxyXG4gICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChjKSB7IGMgPSBkMy5yZ2IoYyk7IGMub3BhY2l0eSA9IDAuODsgcmV0dXJuIGM7IH0pKTtcclxuXHJcbiAgICB2YXIgZm9udFNpemUgPSBkMy5zY2FsZVBvdygpLmV4cG9uZW50KDUpLmRvbWFpbihbMCwgMV0pLnJhbmdlKFsxMCwgODBdKTtcclxuXHJcbiAgICB2YXIgbGF5b3V0ID0gZDMubGF5b3V0LmNsb3VkKClcclxuICAgICAgICAudGltZUludGVydmFsKDEwKVxyXG4gICAgICAgIC5zaXplKFt3aWR0aCwgaGVpZ2h0XSlcclxuICAgICAgICAud29yZHMoY2xvdWREYXRhLmNoYXJ0RGF0YSlcclxuICAgICAgICAucm90YXRlKGZ1bmN0aW9uIChkKSB7IHJldHVybiAwOyB9KVxyXG4gICAgICAgIC5mb250KCdSb2JvdG8nKVxyXG4gICAgICAgIC5mb250U2l6ZShmdW5jdGlvbiAoZCwgaSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZm9udFNpemUobWF4IC0gbWluICE9PSAwID8gKGRbcmVsYXRpb25NYXAudmFsdWVdIC0gbWluKSAvIChtYXggLSBtaW4pIDogMCk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkgeyByZXR1cm4gZFtyZWxhdGlvbk1hcC5sYWJlbF07IH0pXHJcbiAgICAgICAgLnNwaXJhbChcImFyY2hpbWVkZWFuXCIpXHJcbiAgICAgICAgLm9uKFwiZW5kXCIsIGRyYXcpXHJcbiAgICAgICAgLnN0YXJ0KCk7XHJcblxyXG4gICAgdmFyIHdvcmRjbG91ZCA9IHN2Zy5hcHBlbmQoXCJnXCIpXHJcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3dvcmRjbG91ZCcpXHJcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxyXG4gICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxyXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgd2lkdGggLyAyICsgXCIsXCIgKyBoZWlnaHQgLyAyICsgXCIpXCIpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGRyYXcod29yZHMpIHtcclxuICAgICAgICB3b3JkY2xvdWQuc2VsZWN0QWxsKFwidGV4dFwiKVxyXG4gICAgICAgICAgICAuZGF0YShjbG91ZERhdGEuY2hhcnREYXRhKVxyXG4gICAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXHJcbiAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsICd3b3JkJylcclxuICAgICAgICAgICAgLnN0eWxlKFwiZm9udC1zaXplXCIsIGZ1bmN0aW9uIChkKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5zaXplICsgXCJweFwiO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc3R5bGUoXCJmb250LWZhbWlseVwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGQuZm9udDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnN0eWxlKFwiZmlsbFwiLCBmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbG9yKGRbcmVsYXRpb25NYXAudmFsdWVdKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxyXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyBbZC54LCBkLnldICsgXCIpcm90YXRlKFwiICsgZC5yb3RhdGUgKyBcIilcIjsgfSlcclxuICAgICAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQudGV4dDsgfSlcclxuICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uIChkLCBpKSB7XHJcbiAgICAgICAgICAgICAgICAvL0dldCB0aXAgZGF0YVxyXG4gICAgICAgICAgICAgICAgdmFyIHRpcERhdGEgPSBjaGFydC5zZXRUaXBEYXRhKGQsIGkpO1xyXG4gICAgICAgICAgICAgICAgdGlwRGF0YS5jb2xvciA9IGNvbG9yKGRbcmVsYXRpb25NYXAudmFsdWVdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvL0RyYXcgdGlwXHJcbiAgICAgICAgICAgICAgICBjaGFydC50aXAuZ2VuZXJhdGVTaW1wbGVUaXAodGlwRGF0YSwgY2hhcnQuZGF0YS5kYXRhVGFibGUsIGQzLmV2ZW50KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24gKGQpIHtcclxuICAgICAgICAgICAgICAgIGNoYXJ0LnRpcC5oaWRlVGlwKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0ganZDaGFydHM7XHJcbiJdfQ==
